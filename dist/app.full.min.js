!function(window,undefined){function require(arg){return window.less[arg.split("/")[1]]}function log(str,level){"development"==less.env&&"undefined"!=typeof console&&less.logLevel>=level&&console.log("less: "+str)}function extractId(href){return href.replace(/^[a-z-]+:\/+?[^\/]+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")}function errorConsole(e,rootHref){var template="{line} {content}",filename=e.filename||rootHref,errors=[],content=(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+" in "+filename+" ",errorline=function(e,i,classname){e.extract[i]!==undefined&&errors.push(template.replace(/\{line\}/,(parseInt(e.line,10)||0)+(i-1)).replace(/\{class\}/,classname).replace(/\{content\}/,e.extract[i]))};e.extract?(errorline(e,0,""),errorline(e,1,"line"),errorline(e,2,""),content+="on line "+e.line+", column "+(e.column+1)+":\n"+errors.join("\n")):e.stack&&(content+=e.stack),log(content,logLevel.errors)}function createCSS(styles,sheet,lastModified){var href=sheet.href||"",id="less:"+(sheet.title||extractId(href)),oldCss=document.getElementById(id),keepOldCss=!1,css=document.createElement("style");if(css.setAttribute("type","text/css"),sheet.media&&css.setAttribute("media",sheet.media),css.id=id,css.styleSheet)try{css.styleSheet.cssText=styles}catch(e){throw new Error("Couldn't reassign styleSheet.cssText.")}else css.appendChild(document.createTextNode(styles)),keepOldCss=null!==oldCss&&oldCss.childNodes.length>0&&css.childNodes.length>0&&oldCss.firstChild.nodeValue===css.firstChild.nodeValue;var head=document.getElementsByTagName("head")[0];if(null===oldCss||keepOldCss===!1){var nextEl=sheet&&sheet.nextSibling||null;nextEl?nextEl.parentNode.insertBefore(css,nextEl):head.appendChild(css)}if(oldCss&&keepOldCss===!1&&oldCss.parentNode.removeChild(oldCss),lastModified&&cache){log("saving "+href+" to cache.",logLevel.info);try{cache.setItem(href,styles),cache.setItem(href+":timestamp",lastModified)}catch(e){log("failed to save",logLevel.errors)}}}function errorHTML(e,rootHref){var timer,content,id="less-error-message:"+extractId(rootHref||""),template='<li><label>{line}</label><pre class="{class}">{content}</pre></li>',elem=document.createElement("div"),errors=[],filename=e.filename||rootHref,filenameNoPath=filename.match(/([^\/]+(\?.*)?)$/)[1];elem.id=id,elem.className="less-error-message",content="<h3>"+(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+'</h3><p>in <a href="'+filename+'">'+filenameNoPath+"</a> ";var errorline=function(e,i,classname){e.extract[i]!==undefined&&errors.push(template.replace(/\{line\}/,(parseInt(e.line,10)||0)+(i-1)).replace(/\{class\}/,classname).replace(/\{content\}/,e.extract[i]))};e.extract?(errorline(e,0,""),errorline(e,1,"line"),errorline(e,2,""),content+="on line "+e.line+", column "+(e.column+1)+":</p><ul>"+errors.join("")+"</ul>"):e.stack&&(content+="<br/>"+e.stack.split("\n").slice(1).join("<br/>")),elem.innerHTML=content,createCSS([".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),elem.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"==less.env&&(timer=setInterval(function(){document.body&&(document.getElementById(id)?document.body.replaceChild(elem,document.getElementById(id)):document.body.insertBefore(elem,document.body.firstChild),clearInterval(timer))},10))}function error(e,rootHref){less.errorReporting&&"html"!==less.errorReporting?"console"===less.errorReporting?errorConsole(e,rootHref):"function"==typeof less.errorReporting&&less.errorReporting("add",e,rootHref):errorHTML(e,rootHref)}function removeErrorHTML(path){var node=document.getElementById("less-error-message:"+extractId(path));node&&node.parentNode.removeChild(node)}function removeErrorConsole(){}function removeError(path){less.errorReporting&&"html"!==less.errorReporting?"console"===less.errorReporting?removeErrorConsole(path):"function"==typeof less.errorReporting&&less.errorReporting("remove",path):removeErrorHTML(path)}function loadStyles(modifyVars){for(var style,styles=document.getElementsByTagName("style"),i=0;i<styles.length;i++)if(style=styles[i],style.type.match(typePattern)){var env=new less.tree.parseEnv(less),lessText=style.innerHTML||"";env.filename=document.location.href.replace(/#.*$/,""),(modifyVars||less.globalVars)&&(env.useFileCache=!0);var callback=function(style){return function(e,cssAST){if(e)return error(e,"inline");var css=cssAST.toCSS(less);style.type="text/css",style.styleSheet?style.styleSheet.cssText=css:style.innerHTML=css}}(style);new less.Parser(env).parse(lessText,callback,{globalVars:less.globalVars,modifyVars:modifyVars})}}function extractUrlParts(url,baseUrl){var i,baseUrlParts,urlPartsRegex=/^((?:[a-z-]+:)?\/+?(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,urlParts=url.match(urlPartsRegex),returner={},directories=[];if(!urlParts)throw new Error("Could not parse sheet href - '"+url+"'");if(!urlParts[1]||urlParts[2]){if(baseUrlParts=baseUrl.match(urlPartsRegex),!baseUrlParts)throw new Error("Could not parse page url - '"+baseUrl+"'");urlParts[1]=urlParts[1]||baseUrlParts[1]||"",urlParts[2]||(urlParts[3]=baseUrlParts[3]+urlParts[3])}if(urlParts[3]){for(directories=urlParts[3].replace(/\\/g,"/").split("/"),i=0;i<directories.length;i++)"."===directories[i]&&(directories.splice(i,1),i-=1);for(i=0;i<directories.length;i++)".."===directories[i]&&i>0&&(directories.splice(i-1,2),i-=2)}return returner.hostPart=urlParts[1],returner.directories=directories,returner.path=urlParts[1]+directories.join("/"),returner.fileUrl=returner.path+(urlParts[4]||""),returner.url=returner.fileUrl+(urlParts[5]||""),returner}function pathDiff(url,baseUrl){var i,max,urlDirectories,baseUrlDirectories,urlParts=extractUrlParts(url),baseUrlParts=extractUrlParts(baseUrl),diff="";if(urlParts.hostPart!==baseUrlParts.hostPart)return"";for(max=Math.max(baseUrlParts.directories.length,urlParts.directories.length),i=0;max>i&&baseUrlParts.directories[i]===urlParts.directories[i];i++);for(baseUrlDirectories=baseUrlParts.directories.slice(i),urlDirectories=urlParts.directories.slice(i),i=0;i<baseUrlDirectories.length-1;i++)diff+="../";for(i=0;i<urlDirectories.length-1;i++)diff+=urlDirectories[i]+"/";return diff}function getXMLHttpRequest(){if(window.XMLHttpRequest)return new XMLHttpRequest;try{return new ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(e){return log("browser doesn't support AJAX.",logLevel.errors),null}}function doXHR(url,type,callback,errback){function handleResponse(xhr,callback,errback){xhr.status>=200&&xhr.status<300?callback(xhr.responseText,xhr.getResponseHeader("Last-Modified")):"function"==typeof errback&&errback(xhr.status,url)}var xhr=getXMLHttpRequest(),async=isFileProtocol?less.fileAsync:less.async;"function"==typeof xhr.overrideMimeType&&xhr.overrideMimeType("text/css"),log("XHR: Getting '"+url+"'",logLevel.info),xhr.open("GET",url,async),xhr.setRequestHeader("Accept",type||"text/x-less, text/css; q=0.9, */*; q=0.5"),xhr.send(null),isFileProtocol&&!less.fileAsync?0===xhr.status||xhr.status>=200&&xhr.status<300?callback(xhr.responseText):errback(xhr.status,url):async?xhr.onreadystatechange=function(){4==xhr.readyState&&handleResponse(xhr,callback,errback)}:handleResponse(xhr,callback,errback)}function loadFile(originalHref,currentFileInfo,callback,env){currentFileInfo&&currentFileInfo.currentDirectory&&!/^([a-z-]+:)?\//.test(originalHref)&&(originalHref=currentFileInfo.currentDirectory+originalHref);var hrefParts=extractUrlParts(originalHref,window.location.href),href=hrefParts.url,newFileInfo={currentDirectory:hrefParts.path,filename:href};if(currentFileInfo?(newFileInfo.entryPath=currentFileInfo.entryPath,newFileInfo.rootpath=currentFileInfo.rootpath,newFileInfo.rootFilename=currentFileInfo.rootFilename,newFileInfo.relativeUrls=currentFileInfo.relativeUrls):(newFileInfo.entryPath=hrefParts.path,newFileInfo.rootpath=less.rootpath||hrefParts.path,newFileInfo.rootFilename=href,newFileInfo.relativeUrls=env.relativeUrls),newFileInfo.relativeUrls&&(newFileInfo.rootpath=env.rootpath?extractUrlParts(env.rootpath+pathDiff(hrefParts.path,newFileInfo.entryPath)).path:hrefParts.path),env.useFileCache&&fileCache[href])try{var lessText=fileCache[href];callback(null,lessText,href,newFileInfo,{lastModified:new Date})}catch(e){callback(e,null,href)}else doXHR(href,env.mime,function(data,lastModified){fileCache[href]=data;try{callback(null,data,href,newFileInfo,{lastModified:lastModified})}catch(e){callback(e,null,href)}},function(status,url){callback({type:"File",message:"'"+url+"' wasn't found ("+status+")"},null,href)})}function loadStyleSheet(sheet,callback,reload,remaining,modifyVars){var env=new less.tree.parseEnv(less);env.mime=sheet.type,(modifyVars||less.globalVars)&&(env.useFileCache=!0),loadFile(sheet.href,null,function(e,data,path,newFileInfo,webInfo){if(webInfo){webInfo.remaining=remaining;var css=cache&&cache.getItem(path),timestamp=cache&&cache.getItem(path+":timestamp");if(!reload&&timestamp&&webInfo.lastModified&&new Date(webInfo.lastModified).valueOf()===new Date(timestamp).valueOf())return createCSS(css,sheet),webInfo.local=!0,void callback(null,null,data,sheet,webInfo,path)}removeError(path),data?(env.currentFileInfo=newFileInfo,new less.Parser(env).parse(data,function(e,root){if(e)return callback(e,null,null,sheet);try{callback(e,root,data,sheet,webInfo,path)}catch(e){callback(e,null,null,sheet)}},{modifyVars:modifyVars,globalVars:less.globalVars})):callback(e,null,null,sheet,webInfo,path)},env,modifyVars)}function loadStyleSheets(callback,reload,modifyVars){for(var i=0;i<less.sheets.length;i++)loadStyleSheet(less.sheets[i],callback,reload,less.sheets.length-(i+1),modifyVars)}function initRunningMode(){"development"===less.env?(less.optimization=0,less.watchTimer=setInterval(function(){less.watchMode&&loadStyleSheets(function(e,root,_,sheet,env){e?error(e,sheet.href):root&&createCSS(root.toCSS(less),sheet,env.lastModified)})},less.poll)):less.optimization=3}("undefined"==typeof window.less||"undefined"!=typeof window.less.nodeType)&&(window.less={}),less=window.less,tree=window.less.tree={},less.mode="browser";var less,tree;less===undefined&&(less=exports,tree=require("./tree"),less.mode="node"),less.Parser=function(env){function save(){temp=current,memo=currentPos=i}function restore(){current=temp,currentPos=i=memo}function sync(){i>currentPos&&(current=current.slice(i-currentPos),currentPos=i)}function isWhitespace(str,pos){var code=str.charCodeAt(0|pos);return 32>=code&&(32===code||10===code||9===code)}function $(tok){var match,length,tokType=typeof tok;return"string"===tokType?input.charAt(i)!==tok?null:(skipWhitespace(1),tok):(sync(),(match=tok.exec(current))?(length=match[0].length,skipWhitespace(length),"string"==typeof match?match:1===match.length?match[0]:match):null)}function $re(tok){i>currentPos&&(current=current.slice(i-currentPos),currentPos=i);var m=tok.exec(current);return m?(skipWhitespace(m[0].length),"string"==typeof m?m:1===m.length?m[0]:m):null}function $char(tok){return input.charAt(i)!==tok?null:(skipWhitespace(1),tok)}function skipWhitespace(length){for(var c,oldi=i,oldj=j,curr=i-currentPos,endIndex=i+current.length-curr,mem=i+=length,inp=input;endIndex>i&&(c=inp.charCodeAt(i),!(c>32))&&(32===c||10===c||9===c||13===c);i++);return current=current.slice(length+i-mem+curr),currentPos=i,!current.length&&j<chunks.length-1?(current=chunks[++j],skipWhitespace(0),!0):oldi!==i||oldj!==j}function expect(arg,msg){var result="[object Function]"===Object.prototype.toString.call(arg)?arg.call(parsers):$(arg);return result?result:void error(msg||("string"==typeof arg?"expected '"+arg+"' got '"+input.charAt(i)+"'":"unexpected token"))}function expectChar(arg,msg){return input.charAt(i)===arg?(skipWhitespace(1),arg):void error(msg||"expected '"+arg+"' got '"+input.charAt(i)+"'")}function error(msg,type){var e=new Error(msg);throw e.index=i,e.type=type||"Syntax",e}function peek(tok){return"string"==typeof tok?input.charAt(i)===tok:tok.test(current)}function peekChar(tok){return input.charAt(i)===tok}function getInput(e,env){return e.filename&&env.currentFileInfo.filename&&e.filename!==env.currentFileInfo.filename?parser.imports.contents[e.filename]:input}function getLocation(index,inputStream){for(var n=index+1,line=null,column=-1;--n>=0&&"\n"!==inputStream.charAt(n);)column++;return"number"==typeof index&&(line=(inputStream.slice(0,index).match(/\n/g)||"").length),{line:line,column:column}}function getDebugInfo(index,inputStream,env){var filename=env.currentFileInfo.filename;return"browser"!==less.mode&&"rhino"!==less.mode&&(filename=require("path").resolve(filename)),{lineNumber:getLocation(index,inputStream).line+1,fileName:filename}}function LessError(e,env){var input=getInput(e,env),loc=getLocation(e.index,input),line=loc.line,col=loc.column,callLine=e.call&&getLocation(e.call,input).line,lines=input.split("\n");this.type=e.type||"Syntax",this.message=e.message,this.filename=e.filename||env.currentFileInfo.filename,this.index=e.index,this.line="number"==typeof line?line+1:null,this.callLine=callLine+1,this.callExtract=lines[callLine],this.stack=e.stack,this.column=col,this.extract=[lines[line-1],lines[line],lines[line+1]]}var input,i,j,temp,memo,furthest,chunks,current,currentPos,parser,parsers,rootFilename=env&&env.filename;env instanceof tree.parseEnv||(env=new tree.parseEnv(env));var imports=this.imports={paths:env.paths||[],queue:[],files:env.files,contents:env.contents,contentsIgnoredChars:env.contentsIgnoredChars,mime:env.mime,error:null,push:function(path,currentFileInfo,importOptions,callback){var parserImports=this;this.queue.push(path);var fileParsedFunc=function(e,root,fullPath){parserImports.queue.splice(parserImports.queue.indexOf(path),1);var importedPreviously=fullPath in parserImports.files||fullPath===rootFilename;parserImports.files[fullPath]=root,e&&!parserImports.error&&(parserImports.error=e),callback(e,root,importedPreviously,fullPath)};less.Parser.importer?less.Parser.importer(path,currentFileInfo,fileParsedFunc,env):less.Parser.fileLoader(path,currentFileInfo,function(e,contents,fullPath,newFileInfo){if(e)return void fileParsedFunc(e);var newEnv=new tree.parseEnv(env);newEnv.currentFileInfo=newFileInfo,newEnv.processImports=!1,newEnv.contents[fullPath]=contents,(currentFileInfo.reference||importOptions.reference)&&(newFileInfo.reference=!0),importOptions.inline?fileParsedFunc(null,contents,fullPath):new less.Parser(newEnv).parse(contents,function(e,root){fileParsedFunc(e,root,fullPath)})},env)}},_$re=$re;return LessError.prototype=new Error,LessError.prototype.constructor=LessError,this.env=env=env||{},this.optimization="optimization"in this.env?this.env.optimization:1,parser={imports:imports,parse:function(str,callback,additionalData){var root,line,lines,globalVars,modifyVars,error=null,preText="";if(i=j=currentPos=furthest=0,globalVars=additionalData&&additionalData.globalVars?less.Parser.serializeVars(additionalData.globalVars)+"\n":"",modifyVars=additionalData&&additionalData.modifyVars?"\n"+less.Parser.serializeVars(additionalData.modifyVars):"",(globalVars||additionalData&&additionalData.banner)&&(preText=(additionalData&&additionalData.banner?additionalData.banner:"")+globalVars,parser.imports.contentsIgnoredChars[env.currentFileInfo.filename]=preText.length),str=str.replace(/\r\n/g,"\n"),input=str=preText+str.replace(/^\uFEFF/,"")+modifyVars,parser.imports.contents[env.currentFileInfo.filename]=str,chunks=function(input){function fail(msg,index){error=new LessError({index:index||parserCurrentIndex,type:"Parse",message:msg,filename:env.currentFileInfo.filename},env)}function emitChunk(force){var len=parserCurrentIndex-emitFrom;512>len&&!force||!len||(chunks.push(input.slice(emitFrom,parserCurrentIndex+1)),emitFrom=parserCurrentIndex+1)}var lastOpening,lastOpeningParen,lastMultiComment,lastMultiCommentEndBrace,parserCurrentIndex,currentChunkStartIndex,cc,cc2,matched,len=input.length,level=0,parenLevel=0,chunks=[],emitFrom=0;for(parserCurrentIndex=0;len>parserCurrentIndex;parserCurrentIndex++)if(cc=input.charCodeAt(parserCurrentIndex),!(cc>=97&&122>=cc||34>cc))switch(cc){case 40:parenLevel++,lastOpeningParen=parserCurrentIndex;continue;case 41:if(--parenLevel<0)return fail("missing opening `(`");continue;case 59:parenLevel||emitChunk();continue;case 123:level++,lastOpening=parserCurrentIndex;continue;case 125:if(--level<0)return fail("missing opening `{`");level||emitChunk();continue;case 92:if(len-1>parserCurrentIndex){parserCurrentIndex++;continue}return fail("unescaped `\\`");case 34:case 39:case 96:for(matched=0,currentChunkStartIndex=parserCurrentIndex,parserCurrentIndex+=1;len>parserCurrentIndex;parserCurrentIndex++)if(cc2=input.charCodeAt(parserCurrentIndex),!(cc2>96)){if(cc2==cc){matched=1;break}if(92==cc2){if(parserCurrentIndex==len-1)return fail("unescaped `\\`");parserCurrentIndex++}}if(matched)continue;return fail("unmatched `"+String.fromCharCode(cc)+"`",currentChunkStartIndex);case 47:if(parenLevel||parserCurrentIndex==len-1)continue;if(cc2=input.charCodeAt(parserCurrentIndex+1),47==cc2)for(parserCurrentIndex+=2;len>parserCurrentIndex&&(cc2=input.charCodeAt(parserCurrentIndex),!(13>=cc2)||10!=cc2&&13!=cc2);parserCurrentIndex++);else if(42==cc2){for(lastMultiComment=currentChunkStartIndex=parserCurrentIndex,parserCurrentIndex+=2;len-1>parserCurrentIndex&&(cc2=input.charCodeAt(parserCurrentIndex),125==cc2&&(lastMultiCommentEndBrace=parserCurrentIndex),42!=cc2||47!=input.charCodeAt(parserCurrentIndex+1));parserCurrentIndex++);if(parserCurrentIndex==len-1)return fail("missing closing `*/`",currentChunkStartIndex);parserCurrentIndex++}continue;case 42:if(len-1>parserCurrentIndex&&47==input.charCodeAt(parserCurrentIndex+1))return fail("unmatched `/*`");continue}return 0!==level?lastMultiComment>lastOpening&&lastMultiCommentEndBrace>lastMultiComment?fail("missing closing `}` or `*/`",lastOpening):fail("missing closing `}`",lastOpening):0!==parenLevel?fail("missing closing `)`",lastOpeningParen):(emitChunk(!0),chunks)}(str),error)return callback(new LessError(error,env));current=chunks[0];try{root=new tree.Ruleset(null,this.parsers.primary()),root.root=!0,root.firstRoot=!0}catch(e){return callback(new LessError(e,env))}if(root.toCSS=function(evaluate){return function(options,variables){options=options||{};var evaldRoot,css,evalEnv=new tree.evalEnv(options);"object"!=typeof variables||Array.isArray(variables)||(variables=Object.keys(variables).map(function(k){var value=variables[k];return value instanceof tree.Value||(value instanceof tree.Expression||(value=new tree.Expression([value])),value=new tree.Value([value])),new tree.Rule("@"+k,value,!1,null,0)}),evalEnv.frames=[new tree.Ruleset(null,variables)]);try{var i,preEvalVisitors=[],visitors=[new tree.joinSelectorVisitor,new tree.processExtendsVisitor,new tree.toCSSVisitor({compress:Boolean(options.compress)})],root=this;if(options.plugins)for(i=0;i<options.plugins.length;i++)options.plugins[i].isPreEvalVisitor?preEvalVisitors.push(options.plugins[i]):options.plugins[i].isPreVisitor?visitors.splice(0,0,options.plugins[i]):visitors.push(options.plugins[i]);for(i=0;i<preEvalVisitors.length;i++)preEvalVisitors[i].run(root);for(evaldRoot=evaluate.call(root,evalEnv),i=0;i<visitors.length;i++)visitors[i].run(evaldRoot);options.sourceMap&&(evaldRoot=new tree.sourceMapOutput({contentsIgnoredCharsMap:parser.imports.contentsIgnoredChars,writeSourceMap:options.writeSourceMap,rootNode:evaldRoot,contentsMap:parser.imports.contents,sourceMapFilename:options.sourceMapFilename,sourceMapURL:options.sourceMapURL,outputFilename:options.sourceMapOutputFilename,sourceMapBasepath:options.sourceMapBasepath,sourceMapRootpath:options.sourceMapRootpath,outputSourceFiles:options.outputSourceFiles,sourceMapGenerator:options.sourceMapGenerator})),css=evaldRoot.toCSS({compress:Boolean(options.compress),dumpLineNumbers:env.dumpLineNumbers,strictUnits:Boolean(options.strictUnits),numPrecision:8})}catch(e){throw new LessError(e,env)}if(options.cleancss&&"node"===less.mode){var CleanCSS=require("clean-css"),cleancssOptions=options.cleancssOptions||{};return cleancssOptions.keepSpecialComments===undefined&&(cleancssOptions.keepSpecialComments="*"),cleancssOptions.processImport=!1,cleancssOptions.noRebase=!0,cleancssOptions.noAdvanced===undefined&&(cleancssOptions.noAdvanced=!0),new CleanCSS(cleancssOptions).minify(css)}return options.compress?css.replace(/(^(\s)+)|((\s)+$)/g,""):css}}(root.eval),i<input.length-1){i=furthest;var loc=getLocation(i,input);lines=input.split("\n"),line=loc.line+1,error={type:"Parse",message:"Unrecognised input",index:i,filename:env.currentFileInfo.filename,line:line,column:loc.column,extract:[lines[line-2],lines[line-1],lines[line]]}}var finish=function(e){return e=error||e||parser.imports.error,e?(e instanceof LessError||(e=new LessError(e,env)),callback(e)):callback(null,root)};return env.processImports===!1?finish():void new tree.importVisitor(this.imports,finish).run(root)},parsers:parsers={primary:function(){for(var node,mixin=this.mixin,$re=_$re,root=[];current;)if(node=this.extendRule()||mixin.definition()||this.rule()||this.ruleset()||mixin.call()||this.comment()||this.directive())root.push(node);else if(!$re(/^[\s\n]+/)&&!$re(/^;+/))break;return root},comment:function(){var comment;if("/"===input.charAt(i))return"/"===input.charAt(i+1)?new tree.Comment($re(/^\/\/.*/),!0,i,env.currentFileInfo):(comment=$re(/^\/\*(?:[^*]|\*+[^\/*])*\*+\/\n?/),comment?new tree.Comment(comment,!1,i,env.currentFileInfo):void 0)},comments:function(){for(var comment,comments=[];;){if(comment=this.comment(),!comment)break;comments.push(comment)}return comments},entities:{quoted:function(){var str,e,j=i,index=i;return"~"===input.charAt(j)&&(j++,e=!0),'"'===input.charAt(j)||"'"===input.charAt(j)?(e&&$char("~"),str=$re(/^"((?:[^"\\\r\n]|\\.)*)"|'((?:[^'\\\r\n]|\\.)*)'/),str?new tree.Quoted(str[0],str[1]||str[2],e,index,env.currentFileInfo):void 0):void 0},keyword:function(){var k;if(k=$re(/^[_A-Za-z-][_A-Za-z0-9-]*/)){var color=tree.Color.fromKeyword(k);return color?color:new tree.Keyword(k)}},call:function(){var name,nameLC,args,alpha_ret,index=i;if(name=/^([\w-]+|%|progid:[\w\.]+)\(/.exec(current)){if(name=name[1],nameLC=name.toLowerCase(),"url"===nameLC)return null;if(i+=name.length,"alpha"===nameLC&&(alpha_ret=parsers.alpha(),"undefined"!=typeof alpha_ret))return alpha_ret;if($char("("),args=this.arguments(),$char(")"))return name?new tree.Call(name,args,index,env.currentFileInfo):void 0}},arguments:function(){for(var arg,args=[];;){if(arg=this.assignment()||parsers.expression(),!arg)break;if(args.push(arg),!$char(","))break}return args},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var key,value;return key=$re(/^\w+(?=\s?=)/i),key&&$char("=")?(value=parsers.entity(),value?new tree.Assignment(key,value):void 0):void 0},url:function(){var value;if("u"===input.charAt(i)&&$re(/^url\(/))return value=this.quoted()||this.variable()||$re(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",expectChar(")"),new tree.URL(null!=value.value||value instanceof tree.Variable?value:new tree.Anonymous(value),env.currentFileInfo)},variable:function(){var name,index=i;return"@"===input.charAt(i)&&(name=$re(/^@@?[\w-]+/))?new tree.Variable(name,index,env.currentFileInfo):void 0},variableCurly:function(){var curly,index=i;return"@"===input.charAt(i)&&(curly=$re(/^@\{([\w-]+)\}/))?new tree.Variable("@"+curly[1],index,env.currentFileInfo):void 0},color:function(){var rgb;return"#"===input.charAt(i)&&(rgb=$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))?new tree.Color(rgb[1]):void 0},dimension:function(){var value,c=input.charCodeAt(i);if(!(c>57||43>c||47===c||44==c))return value=$re(/^([+-]?\d*\.?\d+)(%|[a-z]+)?/),value?new tree.Dimension(value[1],value[2]):void 0},unicodeDescriptor:function(){var ud;return ud=$re(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/),ud?new tree.UnicodeDescriptor(ud[0]):void 0},javascript:function(){var str,e,j=i;return"~"===input.charAt(j)&&(j++,e=!0),"`"===input.charAt(j)?(env.javascriptEnabled===undefined||env.javascriptEnabled||error("You are using JavaScript, which has been disabled."),e&&$char("~"),str=$re(/^`([^`]*)`/),str?new tree.JavaScript(str[1],i,e):void 0):void 0}},variable:function(){var name;return"@"===input.charAt(i)&&(name=$re(/^(@[\w-]+)\s*:/))?name[1]:void 0},extend:function(isRule){var elements,e,option,extendList,extend,index=i;if($re(isRule?/^&:extend\(/:/^:extend\(/)){do{for(option=null,elements=null;!(option=$re(/^(all)(?=\s*(\)|,))/))&&(e=this.element());)elements?elements.push(e):elements=[e];option=option&&option[1],extend=new tree.Extend(new tree.Selector(elements),option,index),extendList?extendList.push(extend):extendList=[extend]}while($char(","));return expect(/^\)/),isRule&&expect(/^;/),extendList}},extendRule:function(){return this.extend(!0)},mixin:{call:function(){var elemIndex,elements,elem,e,c,args,s=input.charAt(i),important=!1,index=i;if("."===s||"#"===s){for(save();;){if(elemIndex=i,e=$re(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/),!e)break;elem=new tree.Element(c,e,elemIndex,env.currentFileInfo),elements?elements.push(elem):elements=[elem],c=$char(">")}return elements&&($char("(")&&(args=this.args(!0).args,expectChar(")")),parsers.important()&&(important=!0),parsers.end())?new tree.mixin.Call(elements,args,index,env.currentFileInfo,important):void restore()}},args:function(isCall){for(var isSemiColonSeperated,expressionContainsNamed,name,nameLoop,value,arg,parsers=parser.parsers,entities=parsers.entities,returner={args:null,variadic:!1},expressions=[],argsSemiColon=[],argsComma=[];;){if(isCall)arg=parsers.expression();else{if(parsers.comments(),"."===input.charAt(i)&&$re(/^\.{3}/)){returner.variadic=!0,$char(";")&&!isSemiColonSeperated&&(isSemiColonSeperated=!0),(isSemiColonSeperated?argsSemiColon:argsComma).push({variadic:!0});break}arg=entities.variable()||entities.literal()||entities.keyword()}if(!arg)break;nameLoop=null,arg.throwAwayComments&&arg.throwAwayComments(),value=arg;var val=null;if(isCall?1==arg.value.length&&(val=arg.value[0]):val=arg,val&&val instanceof tree.Variable)if($char(":"))expressions.length>0&&(isSemiColonSeperated&&error("Cannot mix ; and , as delimiter types"),expressionContainsNamed=!0),value=expect(parsers.expression),nameLoop=name=val.name;else{if(!isCall&&$re(/^\.{3}/)){returner.variadic=!0,$char(";")&&!isSemiColonSeperated&&(isSemiColonSeperated=!0),(isSemiColonSeperated?argsSemiColon:argsComma).push({name:arg.name,variadic:!0});break}isCall||(name=nameLoop=val.name,value=null)}value&&expressions.push(value),argsComma.push({name:nameLoop,value:value}),$char(",")||($char(";")||isSemiColonSeperated)&&(expressionContainsNamed&&error("Cannot mix ; and , as delimiter types"),isSemiColonSeperated=!0,expressions.length>1&&(value=new tree.Value(expressions)),argsSemiColon.push({name:name,value:value}),name=null,expressions=[],expressionContainsNamed=!1)}return returner.args=isSemiColonSeperated?argsSemiColon:argsComma,returner},definition:function(){var name,match,ruleset,cond,params=[],variadic=!1;if(!("."!==input.charAt(i)&&"#"!==input.charAt(i)||peek(/^[^{]*\}/))&&(save(),match=$re(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/))){name=match[1];var argInfo=this.args(!1);if(params=argInfo.args,variadic=argInfo.variadic,$char(")")||(furthest=i,restore()),parsers.comments(),$re(/^when/)&&(cond=expect(parsers.conditions,"expected condition")),ruleset=parsers.block())return new tree.mixin.Definition(name,params,ruleset,cond,variadic);restore()}}},entity:function(){var entities=this.entities;return entities.literal()||entities.variable()||entities.url()||entities.call()||entities.keyword()||entities.javascript()||this.comment()},end:function(){return $char(";")||peekChar("}")},alpha:function(){var value;if($re(/^\(opacity=/i))return value=$re(/^\d+/)||this.entities.variable(),value?(expectChar(")"),new tree.Alpha(value)):void 0},element:function(){var e,c,v,index=i;return c=this.combinator(),e=$re(/^(?:\d+\.\d+|\d+)%/)||$re(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||$char("*")||$char("&")||this.attribute()||$re(/^\([^()@]+\)/)||$re(/^[\.#](?=@)/)||this.entities.variableCurly(),e||$char("(")&&(v=this.selector())&&$char(")")&&(e=new tree.Paren(v)),e?new tree.Element(c,e,index,env.currentFileInfo):void 0},combinator:function(){var c=input.charAt(i);if(">"===c||"+"===c||"~"===c||"|"===c||"^"===c){for(i++,"^"===input.charAt(i)&&(c="^^",i++);isWhitespace(input,i);)i++;return new tree.Combinator(c)}return new tree.Combinator(isWhitespace(input,i-1)?" ":null)},lessSelector:function(){return this.selector(!0)},selector:function(isLess){for(var elements,extendList,c,e,extend,when,condition,index=i,$re=_$re;(isLess&&(extend=this.extend())||isLess&&(when=$re(/^when/))||(e=this.element()))&&(when?condition=expect(this.conditions,"expected condition"):condition?error("CSS guard can only be used at the end of selector"):extend?extendList?extendList.push(extend):extendList=[extend]:(extendList&&error("Extend can only be used at the end of selector"),c=input.charAt(i),elements?elements.push(e):elements=[e],e=null),"{"!==c&&"}"!==c&&";"!==c&&","!==c&&")"!==c););return elements?new tree.Selector(elements,extendList,condition,index,env.currentFileInfo):void(extendList&&error("Extend must be used to extend a selector, it cannot be used on its own"))},attribute:function(){if($char("[")){var key,val,op,entities=this.entities;return(key=entities.variableCurly())||(key=expect(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)),op=$re(/^[|~*$^]?=/),op&&(val=entities.quoted()||$re(/^[0-9]+%/)||$re(/^[\w-]+/)||entities.variableCurly()),expectChar("]"),new tree.Attribute(key,op,val)}},block:function(){var content;return $char("{")&&(content=this.primary())&&$char("}")?content:void 0},ruleset:function(){var selectors,s,rules,debugInfo;for(save(),env.dumpLineNumbers&&(debugInfo=getDebugInfo(i,input,env));;){if(s=this.lessSelector(),!s)break;if(selectors?selectors.push(s):selectors=[s],this.comments(),s.condition&&selectors.length>1&&error("Guards are only currently allowed on a single selector."),!$char(","))break;s.condition&&error("Guards are only currently allowed on a single selector."),this.comments()}if(selectors&&(rules=this.block())){var ruleset=new tree.Ruleset(selectors,rules,env.strictImports);return env.dumpLineNumbers&&(ruleset.debugInfo=debugInfo),ruleset}furthest=i,restore()},rule:function(tryAnonymous){var name,value,important,c=input.charAt(i),merge=!1;if(save(),"."!==c&&"#"!==c&&"&"!==c&&(name=this.variable()||this.ruleProperty())){if(value=!tryAnonymous&&(env.compress||name.charAt&&"@"===name.charAt(0))?this.value()||this.anonymousValue():this.anonymousValue()||this.value(),important=this.important(),merge=name.pop&&"+"===name.pop().value,value&&this.end())return new tree.Rule(name,value,important,merge,memo,env.currentFileInfo);if(furthest=i,restore(),value&&!tryAnonymous)return this.rule(!0)}},anonymousValue:function(){var match;return match=/^([^@+\/'"*`(;{}-]*);/.exec(current),match?(i+=match[0].length-1,new tree.Anonymous(match[1])):void 0
},"import":function(){var path,features,index=i;save();var dir=$re(/^@import?\s+/),options=(dir?this.importOptions():null)||{};return dir&&(path=this.entities.quoted()||this.entities.url())&&(features=this.mediaFeatures(),$char(";"))?(features=features&&new tree.Value(features),new tree.Import(path,features,options,index,env.currentFileInfo)):void restore()},importOptions:function(){var o,optionName,value,options={};if(!$char("("))return null;do if(o=this.importOption()){switch(optionName=o,value=!0,optionName){case"css":optionName="less",value=!1;break;case"once":optionName="multiple",value=!1}if(options[optionName]=value,!$char(","))break}while(o);return expectChar(")"),options},importOption:function(){var opt=$re(/^(less|css|multiple|once|inline|reference)/);return opt?opt[1]:void 0},mediaFeature:function(){var e,p,entities=this.entities,nodes=[];do if(e=entities.keyword()||entities.variable())nodes.push(e);else if($char("(")){if(p=this.property(),e=this.value(),!$char(")"))return null;if(p&&e)nodes.push(new tree.Paren(new tree.Rule(p,e,null,null,i,env.currentFileInfo,!0)));else{if(!e)return null;nodes.push(new tree.Paren(e))}}while(e);return nodes.length>0?new tree.Expression(nodes):void 0},mediaFeatures:function(){var e,entities=this.entities,features=[];do if(e=this.mediaFeature()){if(features.push(e),!$char(","))break}else if(e=entities.variable(),e&&(features.push(e),!$char(",")))break;while(e);return features.length>0?features:null},media:function(){var features,rules,media,debugInfo;return env.dumpLineNumbers&&(debugInfo=getDebugInfo(i,input,env)),$re(/^@media/)&&(features=this.mediaFeatures(),rules=this.block())?(media=new tree.Media(rules,features,i,env.currentFileInfo),env.dumpLineNumbers&&(media.debugInfo=debugInfo),media):void 0},directive:function(){var name,value,rules,nonVendorSpecificName,hasBlock,hasIdentifier,hasExpression,identifier,index=i;if("@"===input.charAt(i)){if(value=this["import"]()||this.media())return value;if(save(),name=$re(/^@[a-z-]+/)){switch(nonVendorSpecificName=name,"-"==name.charAt(1)&&name.indexOf("-",2)>0&&(nonVendorSpecificName="@"+name.slice(name.indexOf("-",2)+1)),nonVendorSpecificName){case"@font-face":hasBlock=!0;break;case"@viewport":case"@top-left":case"@top-left-corner":case"@top-center":case"@top-right":case"@top-right-corner":case"@bottom-left":case"@bottom-left-corner":case"@bottom-center":case"@bottom-right":case"@bottom-right-corner":case"@left-top":case"@left-middle":case"@left-bottom":case"@right-top":case"@right-middle":case"@right-bottom":hasBlock=!0;break;case"@host":case"@page":case"@document":case"@supports":case"@keyframes":hasBlock=!0,hasIdentifier=!0;break;case"@namespace":hasExpression=!0}if(hasIdentifier&&(identifier=($re(/^[^{]+/)||"").trim(),identifier&&(name+=" "+identifier)),hasBlock){if(rules=this.block())return new tree.Directive(name,rules,index,env.currentFileInfo)}else if(value=hasExpression?this.expression():this.entity(),value&&$char(";")){var directive=new tree.Directive(name,value,index,env.currentFileInfo);return env.dumpLineNumbers&&(directive.debugInfo=getDebugInfo(i,input,env)),directive}restore()}}},value:function(){var e,expressions=[];do if(e=this.expression(),e&&(expressions.push(e),!$char(",")))break;while(e);return expressions.length>0?new tree.Value(expressions):void 0},important:function(){return"!"===input.charAt(i)?$re(/^! *important/):void 0},sub:function(){var a,e;return $char("(")&&(a=this.addition())?(e=new tree.Expression([a]),expectChar(")"),e.parens=!0,e):void 0},multiplication:function(){var m,a,op,operation,isSpaced;if(m=this.operand()){for(isSpaced=isWhitespace(input,i-1);;){if(peek(/^\/[*\/]/))break;if(op=$char("/")||$char("*"),!op)break;if(a=this.operand(),!a)break;m.parensInOp=!0,a.parensInOp=!0,operation=new tree.Operation(op,[operation||m,a],isSpaced),isSpaced=isWhitespace(input,i-1)}return operation||m}},addition:function(){var m,a,op,operation,isSpaced;if(m=this.multiplication()){for(isSpaced=isWhitespace(input,i-1);;){if(op=$re(/^[-+]\s+/)||!isSpaced&&($char("+")||$char("-")),!op)break;if(a=this.multiplication(),!a)break;m.parensInOp=!0,a.parensInOp=!0,operation=new tree.Operation(op,[operation||m,a],isSpaced),isSpaced=isWhitespace(input,i-1)}return operation||m}},conditions:function(){var a,b,condition,index=i;if(a=this.condition()){for(;;){if(!peek(/^,\s*(not\s*)?\(/)||!$char(","))break;if(b=this.condition(),!b)break;condition=new tree.Condition("or",condition||a,b,index)}return condition||a}},condition:function(){var a,b,c,op,entities=this.entities,index=i,negate=!1;return $re(/^not/)&&(negate=!0),expectChar("("),a=this.addition()||entities.keyword()||entities.quoted(),a?(op=$re(/^(?:>=|<=|=<|[<=>])/),op?(b=this.addition()||entities.keyword()||entities.quoted(),b?c=new tree.Condition(op,a,b,index,negate):error("expected expression")):c=new tree.Condition("=",a,new tree.Keyword("true"),index,negate),expectChar(")"),$re(/^and/)?new tree.Condition("and",c,this.condition()):c):void 0},operand:function(){var negate,entities=this.entities,p=input.charAt(i+1);"-"!==input.charAt(i)||"@"!==p&&"("!==p||(negate=$char("-"));var o=this.sub()||entities.dimension()||entities.color()||entities.variable()||entities.call();return negate&&(o.parensInOp=!0,o=new tree.Negative(o)),o},expression:function(){var e,delim,entities=[];do e=this.addition()||this.entity(),e&&(entities.push(e),peek(/^\/[\/*]/)||(delim=$char("/"),delim&&entities.push(new tree.Anonymous(delim))));while(e);return entities.length>0?new tree.Expression(entities):void 0},property:function(){var name=$re(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);return name?name[1]:void 0},ruleProperty:function(){function match(re){var a=re.exec(c);return a?(index.push(i+length),length+=a[0].length,c=c.slice(a[1].length),name.push(a[1])):void 0}var s,k,c=current,name=[],index=[],length=0;for(match(/^(\*?)/);match(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/););if(name.length>1&&match(/^\s*(\+?)\s*:/)){for(skipWhitespace(length),""===name[0]&&(name.shift(),index.shift()),k=0;k<name.length;k++)s=name[k],name[k]="@"!==s.charAt(0)?new tree.Keyword(s):new tree.Variable("@"+s.slice(2,-1),index[k],env.currentFileInfo);return name}}}}},less.Parser.serializeVars=function(vars){var s="";for(var name in vars)if(Object.hasOwnProperty.call(vars,name)){var value=vars[name];s+=("@"===name[0]?"":"@")+name+": "+value+(";"===(""+value).slice(-1)?"":";")}return s},function(tree){function _math(fn,unit,n){if(!(n instanceof tree.Dimension))throw{type:"Argument",message:"argument must be a number"};return null==unit?unit=n.unit:n=n.unify(),new tree.Dimension(fn(parseFloat(n.value)),unit)}function colorBlend(mode,color1,color2){var cb,cs,ar,cr,ab=color1.alpha,as=color2.alpha,r=[];ar=as+ab*(1-as);for(var i=0;3>i;i++)cb=color1.rgb[i]/255,cs=color2.rgb[i]/255,cr=mode(cb,cs),ar&&(cr=(as*cs+ab*(cb-as*(cb+cs-cr)))/ar),r[i]=255*cr;return new tree.Color(r,ar)}function initFunctions(){var f,tf=tree.functions;for(f in mathFunctions)mathFunctions.hasOwnProperty(f)&&(tf[f]=_math.bind(null,Math[f],mathFunctions[f]));for(f in colorBlendMode)colorBlendMode.hasOwnProperty(f)&&(tf[f]=colorBlend.bind(null,colorBlendMode[f]));f=tree.defaultFunc,tf["default"]=f.eval.bind(f)}function hsla(color){return tree.functions.hsla(color.h,color.s,color.l,color.a)}function scaled(n,size){return n instanceof tree.Dimension&&n.unit.is("%")?parseFloat(n.value*size/100):number(n)}function number(n){if(n instanceof tree.Dimension)return parseFloat(n.unit.is("%")?n.value/100:n.value);if("number"==typeof n)return n;throw{error:"RuntimeError",message:"color functions take numbers as parameters"}}function clamp(val){return Math.min(1,Math.max(0,val))}tree.functions={rgb:function(r,g,b){return this.rgba(r,g,b,1)},rgba:function(r,g,b,a){var rgb=[r,g,b].map(function(c){return scaled(c,255)});return a=number(a),new tree.Color(rgb,a)},hsl:function(h,s,l){return this.hsla(h,s,l,1)},hsla:function(h,s,l,a){function hue(h){return h=0>h?h+1:h>1?h-1:h,1>6*h?m1+(m2-m1)*h*6:1>2*h?m2:2>3*h?m1+(m2-m1)*(2/3-h)*6:m1}h=number(h)%360/360,s=clamp(number(s)),l=clamp(number(l)),a=clamp(number(a));var m2=.5>=l?l*(s+1):l+s-l*s,m1=2*l-m2;return this.rgba(255*hue(h+1/3),255*hue(h),255*hue(h-1/3),a)},hsv:function(h,s,v){return this.hsva(h,s,v,1)},hsva:function(h,s,v,a){h=number(h)%360/360*360,s=number(s),v=number(v),a=number(a);var i,f;i=Math.floor(h/60%6),f=h/60-i;var vs=[v,v*(1-s),v*(1-f*s),v*(1-(1-f)*s)],perm=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return this.rgba(255*vs[perm[i][0]],255*vs[perm[i][1]],255*vs[perm[i][2]],a)},hue:function(color){return new tree.Dimension(Math.round(color.toHSL().h))},saturation:function(color){return new tree.Dimension(Math.round(100*color.toHSL().s),"%")},lightness:function(color){return new tree.Dimension(Math.round(100*color.toHSL().l),"%")},hsvhue:function(color){return new tree.Dimension(Math.round(color.toHSV().h))},hsvsaturation:function(color){return new tree.Dimension(Math.round(100*color.toHSV().s),"%")},hsvvalue:function(color){return new tree.Dimension(Math.round(100*color.toHSV().v),"%")},red:function(color){return new tree.Dimension(color.rgb[0])},green:function(color){return new tree.Dimension(color.rgb[1])},blue:function(color){return new tree.Dimension(color.rgb[2])},alpha:function(color){return new tree.Dimension(color.toHSL().a)},luma:function(color){return new tree.Dimension(Math.round(color.luma()*color.alpha*100),"%")},saturate:function(color,amount){if(!color.rgb)return null;var hsl=color.toHSL();return hsl.s+=amount.value/100,hsl.s=clamp(hsl.s),hsla(hsl)},desaturate:function(color,amount){var hsl=color.toHSL();return hsl.s-=amount.value/100,hsl.s=clamp(hsl.s),hsla(hsl)},lighten:function(color,amount){var hsl=color.toHSL();return hsl.l+=amount.value/100,hsl.l=clamp(hsl.l),hsla(hsl)},darken:function(color,amount){var hsl=color.toHSL();return hsl.l-=amount.value/100,hsl.l=clamp(hsl.l),hsla(hsl)},fadein:function(color,amount){var hsl=color.toHSL();return hsl.a+=amount.value/100,hsl.a=clamp(hsl.a),hsla(hsl)},fadeout:function(color,amount){var hsl=color.toHSL();return hsl.a-=amount.value/100,hsl.a=clamp(hsl.a),hsla(hsl)},fade:function(color,amount){var hsl=color.toHSL();return hsl.a=amount.value/100,hsl.a=clamp(hsl.a),hsla(hsl)},spin:function(color,amount){var hsl=color.toHSL(),hue=(hsl.h+amount.value)%360;return hsl.h=0>hue?360+hue:hue,hsla(hsl)},mix:function(color1,color2,weight){weight||(weight=new tree.Dimension(50));var p=weight.value/100,w=2*p-1,a=color1.toHSL().a-color2.toHSL().a,w1=((w*a==-1?w:(w+a)/(1+w*a))+1)/2,w2=1-w1,rgb=[color1.rgb[0]*w1+color2.rgb[0]*w2,color1.rgb[1]*w1+color2.rgb[1]*w2,color1.rgb[2]*w1+color2.rgb[2]*w2],alpha=color1.alpha*p+color2.alpha*(1-p);return new tree.Color(rgb,alpha)},greyscale:function(color){return this.desaturate(color,new tree.Dimension(100))},contrast:function(color,dark,light,threshold){if(!color.rgb)return null;if("undefined"==typeof light&&(light=this.rgba(255,255,255,1)),"undefined"==typeof dark&&(dark=this.rgba(0,0,0,1)),dark.luma()>light.luma()){var t=light;light=dark,dark=t}return threshold="undefined"==typeof threshold?.43:number(threshold),color.luma()<threshold?light:dark},e:function(str){return new tree.Anonymous(str instanceof tree.JavaScript?str.evaluated:str)},escape:function(str){return new tree.Anonymous(encodeURI(str.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},"%":function(quoted){for(var args=Array.prototype.slice.call(arguments,1),str=quoted.value,i=0;i<args.length;i++)str=str.replace(/%[sda]/i,function(token){var value=token.match(/s/i)?args[i].value:args[i].toCSS();return token.match(/[A-Z]$/)?encodeURIComponent(value):value});return str=str.replace(/%%/g,"%"),new tree.Quoted('"'+str+'"',str)},unit:function(val,unit){if(!(val instanceof tree.Dimension))throw{type:"Argument",message:"the first argument to unit must be a number"+(val instanceof tree.Operation?". Have you forgotten parenthesis?":"")};return new tree.Dimension(val.value,unit?unit.toCSS():"")},convert:function(val,unit){return val.convertTo(unit.value)},round:function(n,f){var fraction="undefined"==typeof f?0:f.value;return _math(function(num){return num.toFixed(fraction)},null,n)},pi:function(){return new tree.Dimension(Math.PI)},mod:function(a,b){return new tree.Dimension(a.value%b.value,a.unit)},pow:function(x,y){if("number"==typeof x&&"number"==typeof y)x=new tree.Dimension(x),y=new tree.Dimension(y);else if(!(x instanceof tree.Dimension&&y instanceof tree.Dimension))throw{type:"Argument",message:"arguments must be numbers"};return new tree.Dimension(Math.pow(x.value,y.value),x.unit)},_minmax:function(isMin,args){switch(args=Array.prototype.slice.call(args),args.length){case 0:throw{type:"Argument",message:"one or more arguments required"};case 1:return args[0]}var i,j,current,currentUnified,referenceUnified,unit,order=[],values={};for(i=0;i<args.length;i++)current=args[i],current instanceof tree.Dimension?(currentUnified=current.unify(),unit=currentUnified.unit.toString(),j=values[unit],j!==undefined?(referenceUnified=order[j].unify(),(isMin&&currentUnified.value<referenceUnified.value||!isMin&&currentUnified.value>referenceUnified.value)&&(order[j]=current)):(values[unit]=order.length,order.push(current))):order.push(current);return 1==order.length?order[0]:(args=order.map(function(a){return a.toCSS(this.env)}).join(this.env.compress?",":", "),new tree.Anonymous((isMin?"min":"max")+"("+args+")"))},min:function(){return this._minmax(!0,arguments)},max:function(){return this._minmax(!1,arguments)},argb:function(color){return new tree.Anonymous(color.toARGB())},percentage:function(n){return new tree.Dimension(100*n.value,"%")},color:function(n){if(n instanceof tree.Quoted){var returnColor,colorCandidate=n.value;if(returnColor=tree.Color.fromKeyword(colorCandidate))return returnColor;if(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/.test(colorCandidate))return new tree.Color(colorCandidate.slice(1));throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"}}throw{type:"Argument",message:"argument must be a string"}},iscolor:function(n){return this._isa(n,tree.Color)},isnumber:function(n){return this._isa(n,tree.Dimension)},isstring:function(n){return this._isa(n,tree.Quoted)},iskeyword:function(n){return this._isa(n,tree.Keyword)},isurl:function(n){return this._isa(n,tree.URL)},ispixel:function(n){return this.isunit(n,"px")},ispercentage:function(n){return this.isunit(n,"%")},isem:function(n){return this.isunit(n,"em")},isunit:function(n,unit){return n instanceof tree.Dimension&&n.unit.is(unit.value||unit)?tree.True:tree.False},_isa:function(n,Type){return n instanceof Type?tree.True:tree.False},tint:function(color,amount){return this.mix(this.rgb(255,255,255),color,amount)},shade:function(color,amount){return this.mix(this.rgb(0,0,0),color,amount)},extract:function(values,index){return index=index.value-1,Array.isArray(values.value)?values.value[index]:Array(values)[index]},length:function(values){var n=Array.isArray(values.value)?values.value.length:1;return new tree.Dimension(n)},"data-uri":function(mimetypeNode,filePathNode){if("undefined"!=typeof window)return new tree.URL(filePathNode||mimetypeNode,this.currentFileInfo).eval(this.env);var mimetype=mimetypeNode.value,filePath=filePathNode&&filePathNode.value,fs=require("fs"),path=require("path"),useBase64=!1;if(arguments.length<2&&(filePath=mimetype),this.env.isPathRelative(filePath)&&(filePath=this.currentFileInfo.relativeUrls?path.join(this.currentFileInfo.currentDirectory,filePath):path.join(this.currentFileInfo.entryPath,filePath)),arguments.length<2){var mime;try{mime=require("mime")}catch(ex){mime=tree._mime}mimetype=mime.lookup(filePath);var charset=mime.charsets.lookup(mimetype);useBase64=["US-ASCII","UTF-8"].indexOf(charset)<0,useBase64&&(mimetype+=";base64")}else useBase64=/;base64$/.test(mimetype);var buf=fs.readFileSync(filePath),DATA_URI_MAX_KB=32,fileSizeInKB=parseInt(buf.length/1024,10);if(fileSizeInKB>=DATA_URI_MAX_KB&&this.env.ieCompat!==!1)return this.env.silent||console.warn("Skipped data-uri embedding of %s because its size (%dKB) exceeds IE8-safe %dKB!",filePath,fileSizeInKB,DATA_URI_MAX_KB),new tree.URL(filePathNode||mimetypeNode,this.currentFileInfo).eval(this.env);buf=useBase64?buf.toString("base64"):encodeURIComponent(buf);var uri='"data:'+mimetype+","+buf+'"';return new tree.URL(new tree.Anonymous(uri))},"svg-gradient":function(direction){function throwArgumentDescriptor(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position]"}}arguments.length<3&&throwArgumentDescriptor();var gradientDirectionSvg,returner,i,color,position,positionValue,alpha,stops=Array.prototype.slice.call(arguments,1),gradientType="linear",rectangleDimension='x="0" y="0" width="1" height="1"',useBase64=!0,renderEnv={compress:!1},directionValue=direction.toCSS(renderEnv);switch(directionValue){case"to bottom":gradientDirectionSvg='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":gradientDirectionSvg='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":gradientDirectionSvg='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":gradientDirectionSvg='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":gradientType="radial",gradientDirectionSvg='cx="50%" cy="50%" r="75%"',rectangleDimension='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}for(returner='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><'+gradientType+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+gradientDirectionSvg+">",i=0;i<stops.length;i+=1)stops[i].value?(color=stops[i].value[0],position=stops[i].value[1]):(color=stops[i],position=undefined),color instanceof tree.Color&&((0===i||i+1===stops.length)&&position===undefined||position instanceof tree.Dimension)||throwArgumentDescriptor(),positionValue=position?position.toCSS(renderEnv):0===i?"0%":"100%",alpha=color.alpha,returner+='<stop offset="'+positionValue+'" stop-color="'+color.toRGB()+'"'+(1>alpha?' stop-opacity="'+alpha+'"':"")+"/>";if(returner+="</"+gradientType+"Gradient><rect "+rectangleDimension+' fill="url(#gradient)" /></svg>',useBase64)try{returner=require("./encoder").encodeBase64(returner)}catch(e){useBase64=!1}return returner="'data:image/svg+xml"+(useBase64?";base64":"")+","+returner+"'",new tree.URL(new tree.Anonymous(returner))}},tree._mime={_types:{".htm":"text/html",".html":"text/html",".gif":"image/gif",".jpg":"image/jpeg",".jpeg":"image/jpeg",".png":"image/png"},lookup:function(filepath){var ext=require("path").extname(filepath),type=tree._mime._types[ext];if(type===undefined)throw new Error('Optional dependency "mime" is required for '+ext);return type},charsets:{lookup:function(type){return type&&/^text\//.test(type)?"UTF-8":""}}};var mathFunctions={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"},colorBlendMode={multiply:function(cb,cs){return cb*cs},screen:function(cb,cs){return cb+cs-cb*cs},overlay:function(cb,cs){return cb*=2,1>=cb?colorBlendMode.multiply(cb,cs):colorBlendMode.screen(cb-1,cs)},softlight:function(cb,cs){var d=1,e=cb;return cs>.5&&(e=1,d=cb>.25?Math.sqrt(cb):((16*cb-12)*cb+4)*cb),cb-(1-2*cs)*e*(d-cb)},hardlight:function(cb,cs){return colorBlendMode.overlay(cs,cb)},difference:function(cb,cs){return Math.abs(cb-cs)},exclusion:function(cb,cs){return cb+cs-2*cb*cs},average:function(cb,cs){return(cb+cs)/2},negation:function(cb,cs){return 1-Math.abs(cb+cs-1)}};tree.defaultFunc={eval:function(){var v=this.value_,e=this.error_;if(e)throw e;return null!=v?v?tree.True:tree.False:void 0},value:function(v){this.value_=v},error:function(e){this.error_=e},reset:function(){this.value_=this.error_=null}},initFunctions(),tree.fround=function(env,value){var p;return env&&null!=env.numPrecision?(p=Math.pow(10,env.numPrecision),Math.round(value*p)/p):value},tree.functionCall=function(env,currentFileInfo){this.env=env,this.currentFileInfo=currentFileInfo},tree.functionCall.prototype=tree.functions}(require("./tree")),function(tree){tree.colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}}(require("./tree")),function(tree){tree.debugInfo=function(env,ctx,lineSeperator){var result="";if(env.dumpLineNumbers&&!env.compress)switch(env.dumpLineNumbers){case"comments":result=tree.debugInfo.asComment(ctx);break;case"mediaquery":result=tree.debugInfo.asMediaQuery(ctx);break;case"all":result=tree.debugInfo.asComment(ctx)+(lineSeperator||"")+tree.debugInfo.asMediaQuery(ctx)}return result},tree.debugInfo.asComment=function(ctx){return"/* line "+ctx.debugInfo.lineNumber+", "+ctx.debugInfo.fileName+" */\n"},tree.debugInfo.asMediaQuery=function(ctx){return"@media -sass-debug-info{filename{font-family:"+("file://"+ctx.debugInfo.fileName).replace(/([.:\/\\])/g,function(a){return"\\"==a&&(a="/"),"\\"+a})+"}line{font-family:\\00003"+ctx.debugInfo.lineNumber+"}}\n"},tree.find=function(obj,fun){for(var r,i=0;i<obj.length;i++)if(r=fun.call(obj,obj[i]))return r;return null},tree.jsify=function(obj){return Array.isArray(obj.value)&&obj.value.length>1?"["+obj.value.map(function(v){return v.toCSS(!1)}).join(", ")+"]":obj.toCSS(!1)},tree.toCSS=function(env){var strs=[];return this.genCSS(env,{add:function(chunk){strs.push(chunk)},isEmpty:function(){return 0===strs.length}}),strs.join("")},tree.outputRuleset=function(env,output,rules){var i,ruleCnt=rules.length;if(env.tabLevel=(0|env.tabLevel)+1,env.compress){for(output.add("{"),i=0;ruleCnt>i;i++)rules[i].genCSS(env,output);return output.add("}"),void env.tabLevel--}var tabSetStr="\n"+Array(env.tabLevel).join("  "),tabRuleStr=tabSetStr+"  ";if(ruleCnt){for(output.add(" {"+tabRuleStr),rules[0].genCSS(env,output),i=1;ruleCnt>i;i++)output.add(tabRuleStr),rules[i].genCSS(env,output);output.add(tabSetStr+"}")}else output.add(" {"+tabSetStr+"}");env.tabLevel--}}(require("./tree")),function(tree){tree.Alpha=function(val){this.value=val},tree.Alpha.prototype={type:"Alpha",accept:function(visitor){this.value=visitor.visit(this.value)},eval:function(env){return this.value.eval?new tree.Alpha(this.value.eval(env)):this},genCSS:function(env,output){output.add("alpha(opacity="),this.value.genCSS?this.value.genCSS(env,output):output.add(this.value),output.add(")")},toCSS:tree.toCSS}}(require("../tree")),function(tree){tree.Anonymous=function(string,index,currentFileInfo,mapLines){this.value=string.value||string,this.index=index,this.mapLines=mapLines,this.currentFileInfo=currentFileInfo},tree.Anonymous.prototype={type:"Anonymous",eval:function(){return new tree.Anonymous(this.value,this.index,this.currentFileInfo,this.mapLines)},compare:function(x){if(!x.toCSS)return-1;var left=this.toCSS(),right=x.toCSS();return left===right?0:right>left?-1:1},genCSS:function(env,output){output.add(this.value,this.currentFileInfo,this.index,this.mapLines)},toCSS:tree.toCSS}}(require("../tree")),function(tree){tree.Assignment=function(key,val){this.key=key,this.value=val},tree.Assignment.prototype={type:"Assignment",accept:function(visitor){this.value=visitor.visit(this.value)},eval:function(env){return this.value.eval?new tree.Assignment(this.key,this.value.eval(env)):this},genCSS:function(env,output){output.add(this.key+"="),this.value.genCSS?this.value.genCSS(env,output):output.add(this.value)},toCSS:tree.toCSS}}(require("../tree")),function(tree){tree.Call=function(name,args,index,currentFileInfo){this.name=name,this.args=args,this.index=index,this.currentFileInfo=currentFileInfo},tree.Call.prototype={type:"Call",accept:function(visitor){this.args&&(this.args=visitor.visitArray(this.args))},eval:function(env){var result,func,args=this.args.map(function(a){return a.eval(env)}),nameLC=this.name.toLowerCase();if(nameLC in tree.functions)try{if(func=new tree.functionCall(env,this.currentFileInfo),result=func[nameLC].apply(func,args),null!=result)return result}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.currentFileInfo.filename}}return new tree.Call(this.name,args,this.index,this.currentFileInfo)},genCSS:function(env,output){output.add(this.name+"(",this.currentFileInfo,this.index);for(var i=0;i<this.args.length;i++)this.args[i].genCSS(env,output),i+1<this.args.length&&output.add(", ");output.add(")")},toCSS:tree.toCSS}}(require("../tree")),function(tree){function toHex(v){return"#"+v.map(function(c){return c=clamp(Math.round(c),255),(16>c?"0":"")+c.toString(16)}).join("")}function clamp(v,max){return Math.min(Math.max(v,0),max)}tree.Color=function(rgb,a){this.rgb=Array.isArray(rgb)?rgb:6==rgb.length?rgb.match(/.{2}/g).map(function(c){return parseInt(c,16)}):rgb.split("").map(function(c){return parseInt(c+c,16)}),this.alpha="number"==typeof a?a:1};var transparentKeyword="transparent";tree.Color.prototype={type:"Color",eval:function(){return this},luma:function(){return.2126*this.rgb[0]/255+.7152*this.rgb[1]/255+.0722*this.rgb[2]/255},genCSS:function(env,output){output.add(this.toCSS(env))},toCSS:function(env,doNotCompress){var compress=env&&env.compress&&!doNotCompress,alpha=tree.fround(env,this.alpha);if(1>alpha)return 0===alpha&&this.isTransparentKeyword?transparentKeyword:"rgba("+this.rgb.map(function(c){return clamp(Math.round(c),255)}).concat(clamp(alpha,1)).join(","+(compress?"":" "))+")";var color=this.toRGB();if(compress){var splitcolor=color.split("");splitcolor[1]===splitcolor[2]&&splitcolor[3]===splitcolor[4]&&splitcolor[5]===splitcolor[6]&&(color="#"+splitcolor[1]+splitcolor[3]+splitcolor[5])}return color},operate:function(env,op,other){for(var rgb=[],alpha=this.alpha*(1-other.alpha)+other.alpha,c=0;3>c;c++)rgb[c]=tree.operate(env,op,this.rgb[c],other.rgb[c]);return new tree.Color(rgb,alpha)},toRGB:function(){return toHex(this.rgb)},toHSL:function(){var h,s,r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha,max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2,d=max-min;if(max===min)h=s=0;else{switch(s=l>.5?d/(2-max-min):d/(max+min),max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:360*h,s:s,l:l,a:a}},toHSV:function(){var h,s,r=this.rgb[0]/255,g=this.rgb[1]/255,b=this.rgb[2]/255,a=this.alpha,max=Math.max(r,g,b),min=Math.min(r,g,b),v=max,d=max-min;if(s=0===max?0:d/max,max===min)h=0;else{switch(max){case r:h=(g-b)/d+(b>g?6:0);break;case g:h=(b-r)/d+2;break;case b:h=(r-g)/d+4}h/=6}return{h:360*h,s:s,v:v,a:a}},toARGB:function(){return toHex([255*this.alpha].concat(this.rgb))},compare:function(x){return x.rgb?x.rgb[0]===this.rgb[0]&&x.rgb[1]===this.rgb[1]&&x.rgb[2]===this.rgb[2]&&x.alpha===this.alpha?0:-1:-1}},tree.Color.fromKeyword=function(keyword){if(keyword=keyword.toLowerCase(),tree.colors.hasOwnProperty(keyword))return new tree.Color(tree.colors[keyword].slice(1));if(keyword===transparentKeyword){var transparent=new tree.Color([0,0,0],0);return transparent.isTransparentKeyword=!0,transparent}}}(require("../tree")),function(tree){tree.Comment=function(value,silent,index,currentFileInfo){this.value=value,this.silent=!!silent,this.currentFileInfo=currentFileInfo},tree.Comment.prototype={type:"Comment",genCSS:function(env,output){this.debugInfo&&output.add(tree.debugInfo(env,this),this.currentFileInfo,this.index),output.add(this.value.trim())},toCSS:tree.toCSS,isSilent:function(env){var isReference=this.currentFileInfo&&this.currentFileInfo.reference&&!this.isReferenced,isCompressed=env.compress&&!this.value.match(/^\/\*!/);return this.silent||isReference||isCompressed},eval:function(){return this},markReferenced:function(){this.isReferenced=!0}}}(require("../tree")),function(tree){tree.Condition=function(op,l,r,i,negate){this.op=op.trim(),this.lvalue=l,this.rvalue=r,this.index=i,this.negate=negate},tree.Condition.prototype={type:"Condition",accept:function(visitor){this.lvalue=visitor.visit(this.lvalue),this.rvalue=visitor.visit(this.rvalue)},eval:function(env){var result,a=this.lvalue.eval(env),b=this.rvalue.eval(env),i=this.index;return result=function(op){switch(op){case"and":return a&&b;case"or":return a||b;default:if(a.compare)result=a.compare(b);else{if(!b.compare)throw{type:"Type",message:"Unable to perform comparison",index:i};result=b.compare(a)}switch(result){case-1:return"<"===op||"=<"===op||"<="===op;case 0:return"="===op||">="===op||"=<"===op||"<="===op;case 1:return">"===op||">="===op}}}(this.op),this.negate?!result:result}}}(require("../tree")),function(tree){tree.Dimension=function(value,unit){this.value=parseFloat(value),this.unit=unit&&unit instanceof tree.Unit?unit:new tree.Unit(unit?[unit]:undefined)},tree.Dimension.prototype={type:"Dimension",accept:function(visitor){this.unit=visitor.visit(this.unit)},eval:function(){return this},toColor:function(){return new tree.Color([this.value,this.value,this.value])},genCSS:function(env,output){if(env&&env.strictUnits&&!this.unit.isSingular())throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());
var value=tree.fround(env,this.value),strValue=String(value);if(0!==value&&1e-6>value&&value>-1e-6&&(strValue=value.toFixed(20).replace(/0+$/,"")),env&&env.compress){if(0===value&&this.unit.isLength())return void output.add(strValue);value>0&&1>value&&(strValue=strValue.substr(1))}output.add(strValue),this.unit.genCSS(env,output)},toCSS:tree.toCSS,operate:function(env,op,other){var value=tree.operate(env,op,this.value,other.value),unit=this.unit.clone();if("+"===op||"-"===op)if(0===unit.numerator.length&&0===unit.denominator.length)unit.numerator=other.unit.numerator.slice(0),unit.denominator=other.unit.denominator.slice(0);else if(0===other.unit.numerator.length&&0===unit.denominator.length);else{if(other=other.convertTo(this.unit.usedUnits()),env.strictUnits&&other.unit.toString()!==unit.toString())throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+unit.toString()+"' and '"+other.unit.toString()+"'.");value=tree.operate(env,op,this.value,other.value)}else"*"===op?(unit.numerator=unit.numerator.concat(other.unit.numerator).sort(),unit.denominator=unit.denominator.concat(other.unit.denominator).sort(),unit.cancel()):"/"===op&&(unit.numerator=unit.numerator.concat(other.unit.denominator).sort(),unit.denominator=unit.denominator.concat(other.unit.numerator).sort(),unit.cancel());return new tree.Dimension(value,unit)},compare:function(other){if(other instanceof tree.Dimension){var a=this.unify(),b=other.unify(),aValue=a.value,bValue=b.value;return bValue>aValue?-1:aValue>bValue?1:b.unit.isEmpty()||0===a.unit.compare(b.unit)?0:-1}return-1},unify:function(){return this.convertTo({length:"m",duration:"s",angle:"rad"})},convertTo:function(conversions){var i,groupName,group,targetUnit,applyUnit,value=this.value,unit=this.unit.clone(),derivedConversions={};if("string"==typeof conversions){for(i in tree.UnitConversions)tree.UnitConversions[i].hasOwnProperty(conversions)&&(derivedConversions={},derivedConversions[i]=conversions);conversions=derivedConversions}applyUnit=function(atomicUnit,denominator){return group.hasOwnProperty(atomicUnit)?(denominator?value/=group[atomicUnit]/group[targetUnit]:value*=group[atomicUnit]/group[targetUnit],targetUnit):atomicUnit};for(groupName in conversions)conversions.hasOwnProperty(groupName)&&(targetUnit=conversions[groupName],group=tree.UnitConversions[groupName],unit.map(applyUnit));return unit.cancel(),new tree.Dimension(value,unit)}},tree.UnitConversions={length:{m:1,cm:.01,mm:.001,"in":.0254,pt:.0254/72,pc:.0254/72*12},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:.0025,turn:1}},tree.Unit=function(numerator,denominator,backupUnit){this.numerator=numerator?numerator.slice(0).sort():[],this.denominator=denominator?denominator.slice(0).sort():[],this.backupUnit=backupUnit},tree.Unit.prototype={type:"Unit",clone:function(){return new tree.Unit(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit)},genCSS:function(env,output){this.numerator.length>=1?output.add(this.numerator[0]):this.denominator.length>=1?output.add(this.denominator[0]):env&&env.strictUnits||!this.backupUnit||output.add(this.backupUnit)},toCSS:tree.toCSS,toString:function(){var i,returnStr=this.numerator.join("*");for(i=0;i<this.denominator.length;i++)returnStr+="/"+this.denominator[i];return returnStr},compare:function(other){return this.is(other.toString())?0:-1},is:function(unitString){return this.toString()===unitString},isLength:function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/))},isEmpty:function(){return 0===this.numerator.length&&0===this.denominator.length},isSingular:function(){return this.numerator.length<=1&&0===this.denominator.length},map:function(callback){var i;for(i=0;i<this.numerator.length;i++)this.numerator[i]=callback(this.numerator[i],!1);for(i=0;i<this.denominator.length;i++)this.denominator[i]=callback(this.denominator[i],!0)},usedUnits:function(){var group,mapUnit,result={};mapUnit=function(atomicUnit){return group.hasOwnProperty(atomicUnit)&&!result[groupName]&&(result[groupName]=atomicUnit),atomicUnit};for(var groupName in tree.UnitConversions)tree.UnitConversions.hasOwnProperty(groupName)&&(group=tree.UnitConversions[groupName],this.map(mapUnit));return result},cancel:function(){var atomicUnit,i,backup,counter={};for(i=0;i<this.numerator.length;i++)atomicUnit=this.numerator[i],backup||(backup=atomicUnit),counter[atomicUnit]=(counter[atomicUnit]||0)+1;for(i=0;i<this.denominator.length;i++)atomicUnit=this.denominator[i],backup||(backup=atomicUnit),counter[atomicUnit]=(counter[atomicUnit]||0)-1;this.numerator=[],this.denominator=[];for(atomicUnit in counter)if(counter.hasOwnProperty(atomicUnit)){var count=counter[atomicUnit];if(count>0)for(i=0;count>i;i++)this.numerator.push(atomicUnit);else if(0>count)for(i=0;-count>i;i++)this.denominator.push(atomicUnit)}0===this.numerator.length&&0===this.denominator.length&&backup&&(this.backupUnit=backup),this.numerator.sort(),this.denominator.sort()}}}(require("../tree")),function(tree){tree.Directive=function(name,value,index,currentFileInfo){this.name=name,Array.isArray(value)?(this.rules=[new tree.Ruleset(null,value)],this.rules[0].allowImports=!0):this.value=value,this.index=index,this.currentFileInfo=currentFileInfo},tree.Directive.prototype={type:"Directive",accept:function(visitor){this.rules&&(this.rules=visitor.visitArray(this.rules)),this.value&&(this.value=visitor.visit(this.value))},genCSS:function(env,output){output.add(this.name,this.currentFileInfo,this.index),this.rules?tree.outputRuleset(env,output,this.rules):(output.add(" "),this.value.genCSS(env,output),output.add(";"))},toCSS:tree.toCSS,eval:function(env){var evaldDirective=this;return this.rules&&(env.frames.unshift(this),evaldDirective=new tree.Directive(this.name,null,this.index,this.currentFileInfo),evaldDirective.rules=[this.rules[0].eval(env)],evaldDirective.rules[0].root=!0,env.frames.shift()),evaldDirective},variable:function(name){return tree.Ruleset.prototype.variable.call(this.rules[0],name)},find:function(){return tree.Ruleset.prototype.find.apply(this.rules[0],arguments)},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.rules[0])},markReferenced:function(){var i,rules;if(this.isReferenced=!0,this.rules)for(rules=this.rules[0].rules,i=0;i<rules.length;i++)rules[i].markReferenced&&rules[i].markReferenced()}}}(require("../tree")),function(tree){tree.Element=function(combinator,value,index,currentFileInfo){this.combinator=combinator instanceof tree.Combinator?combinator:new tree.Combinator(combinator),this.value="string"==typeof value?value.trim():value?value:"",this.index=index,this.currentFileInfo=currentFileInfo},tree.Element.prototype={type:"Element",accept:function(visitor){var value=this.value;this.combinator=visitor.visit(this.combinator),"object"==typeof value&&(this.value=visitor.visit(value))},eval:function(env){return new tree.Element(this.combinator,this.value.eval?this.value.eval(env):this.value,this.index,this.currentFileInfo)},genCSS:function(env,output){output.add(this.toCSS(env),this.currentFileInfo,this.index)},toCSS:function(env){var value=this.value.toCSS?this.value.toCSS(env):this.value;return""===value&&"&"===this.combinator.value.charAt(0)?"":this.combinator.toCSS(env||{})+value}},tree.Attribute=function(key,op,value){this.key=key,this.op=op,this.value=value},tree.Attribute.prototype={type:"Attribute",eval:function(env){return new tree.Attribute(this.key.eval?this.key.eval(env):this.key,this.op,this.value&&this.value.eval?this.value.eval(env):this.value)},genCSS:function(env,output){output.add(this.toCSS(env))},toCSS:function(env){var value=this.key.toCSS?this.key.toCSS(env):this.key;return this.op&&(value+=this.op,value+=this.value.toCSS?this.value.toCSS(env):this.value),"["+value+"]"}},tree.Combinator=function(value){this.value=" "===value?" ":value?value.trim():""},tree.Combinator.prototype={type:"Combinator",_outputMap:{"":""," ":" ",":":" :","+":" + ","~":" ~ ",">":" > ","|":"|","^":" ^ ","^^":" ^^ "},_outputMapCompressed:{"":""," ":" ",":":" :","+":"+","~":"~",">":">","|":"|","^":"^","^^":"^^"},genCSS:function(env,output){output.add((env.compress?this._outputMapCompressed:this._outputMap)[this.value])},toCSS:tree.toCSS}}(require("../tree")),function(tree){tree.Expression=function(value){this.value=value},tree.Expression.prototype={type:"Expression",accept:function(visitor){this.value&&(this.value=visitor.visitArray(this.value))},eval:function(env){var returnValue,inParenthesis=this.parens&&!this.parensInOp,doubleParen=!1;return inParenthesis&&env.inParenthesis(),this.value.length>1?returnValue=new tree.Expression(this.value.map(function(e){return e.eval(env)})):1===this.value.length?(this.value[0].parens&&!this.value[0].parensInOp&&(doubleParen=!0),returnValue=this.value[0].eval(env)):returnValue=this,inParenthesis&&env.outOfParenthesis(),this.parens&&this.parensInOp&&!env.isMathOn()&&!doubleParen&&(returnValue=new tree.Paren(returnValue)),returnValue},genCSS:function(env,output){for(var i=0;i<this.value.length;i++)this.value[i].genCSS(env,output),i+1<this.value.length&&output.add(" ")},toCSS:tree.toCSS,throwAwayComments:function(){this.value=this.value.filter(function(v){return!(v instanceof tree.Comment)})}}}(require("../tree")),function(tree){tree.Extend=function(selector,option,index){switch(this.selector=selector,this.option=option,this.index=index,this.object_id=tree.Extend.next_id++,this.parent_ids=[this.object_id],option){case"all":this.allowBefore=!0,this.allowAfter=!0;break;default:this.allowBefore=!1,this.allowAfter=!1}},tree.Extend.next_id=0,tree.Extend.prototype={type:"Extend",accept:function(visitor){this.selector=visitor.visit(this.selector)},eval:function(env){return new tree.Extend(this.selector.eval(env),this.option,this.index)},clone:function(){return new tree.Extend(this.selector,this.option,this.index)},findSelfSelectors:function(selectors){var i,selectorElements,selfElements=[];for(i=0;i<selectors.length;i++)selectorElements=selectors[i].elements,i>0&&selectorElements.length&&""===selectorElements[0].combinator.value&&(selectorElements[0].combinator.value=" "),selfElements=selfElements.concat(selectors[i].elements);this.selfSelectors=[{elements:selfElements}]}}}(require("../tree")),function(tree){tree.Import=function(path,features,options,index,currentFileInfo){if(this.options=options,this.index=index,this.path=path,this.features=features,this.currentFileInfo=currentFileInfo,this.options.less!==undefined||this.options.inline)this.css=!this.options.less||this.options.inline;else{var pathValue=this.getPath();pathValue&&/css([\?;].*)?$/.test(pathValue)&&(this.css=!0)}},tree.Import.prototype={type:"Import",accept:function(visitor){this.features&&(this.features=visitor.visit(this.features)),this.path=visitor.visit(this.path),!this.options.inline&&this.root&&(this.root=visitor.visit(this.root))},genCSS:function(env,output){this.css&&(output.add("@import ",this.currentFileInfo,this.index),this.path.genCSS(env,output),this.features&&(output.add(" "),this.features.genCSS(env,output)),output.add(";"))},toCSS:tree.toCSS,getPath:function(){if(this.path instanceof tree.Quoted){var path=this.path.value;return this.css!==undefined||/(\.[a-z]*$)|([\?;].*)$/.test(path)?path:path+".less"}return this.path instanceof tree.URL?this.path.value.value:null},evalForImport:function(env){return new tree.Import(this.path.eval(env),this.features,this.options,this.index,this.currentFileInfo)},evalPath:function(env){var path=this.path.eval(env),rootpath=this.currentFileInfo&&this.currentFileInfo.rootpath;if(!(path instanceof tree.URL)){if(rootpath){var pathValue=path.value;pathValue&&env.isPathRelative(pathValue)&&(path.value=rootpath+pathValue)}path.value=env.normalizePath(path.value)}return path},eval:function(env){var ruleset,features=this.features&&this.features.eval(env);if(this.skip)return[];if(this.options.inline){var contents=new tree.Anonymous(this.root,0,{filename:this.importedFilename},!0);return this.features?new tree.Media([contents],this.features.value):[contents]}if(this.css){var newImport=new tree.Import(this.evalPath(env),features,this.options,this.index);if(!newImport.css&&this.error)throw this.error;return newImport}return ruleset=new tree.Ruleset(null,this.root.rules.slice(0)),ruleset.evalImports(env),this.features?new tree.Media(ruleset.rules,this.features.value):ruleset.rules}}}(require("../tree")),function(tree){tree.JavaScript=function(string,index,escaped){this.escaped=escaped,this.expression=string,this.index=index},tree.JavaScript.prototype={type:"JavaScript",eval:function(env){var result,that=this,context={},expression=this.expression.replace(/@\{([\w-]+)\}/g,function(_,name){return tree.jsify(new tree.Variable("@"+name,that.index).eval(env))});try{expression=new Function("return ("+expression+")")}catch(e){throw{message:"JavaScript evaluation error: "+e.message+" from `"+expression+"`",index:this.index}}var variables=env.frames[0].variables();for(var k in variables)variables.hasOwnProperty(k)&&(context[k.slice(1)]={value:variables[k].value,toJS:function(){return this.value.eval(env).toCSS()}});try{result=expression.call(context)}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",index:this.index}}return"number"==typeof result?new tree.Dimension(result):"string"==typeof result?new tree.Quoted('"'+result+'"',result,this.escaped,this.index):new tree.Anonymous(Array.isArray(result)?result.join(", "):result)}}}(require("../tree")),function(tree){tree.Keyword=function(value){this.value=value},tree.Keyword.prototype={type:"Keyword",eval:function(){return this},genCSS:function(env,output){output.add(this.value)},toCSS:tree.toCSS,compare:function(other){return other instanceof tree.Keyword?other.value===this.value?0:1:-1}},tree.True=new tree.Keyword("true"),tree.False=new tree.Keyword("false")}(require("../tree")),function(tree){tree.Media=function(value,features,index,currentFileInfo){this.index=index,this.currentFileInfo=currentFileInfo;var selectors=this.emptySelectors();this.features=new tree.Value(features),this.rules=[new tree.Ruleset(selectors,value)],this.rules[0].allowImports=!0},tree.Media.prototype={type:"Media",accept:function(visitor){this.features&&(this.features=visitor.visit(this.features)),this.rules&&(this.rules=visitor.visitArray(this.rules))},genCSS:function(env,output){output.add("@media ",this.currentFileInfo,this.index),this.features.genCSS(env,output),tree.outputRuleset(env,output,this.rules)},toCSS:tree.toCSS,eval:function(env){env.mediaBlocks||(env.mediaBlocks=[],env.mediaPath=[]);var media=new tree.Media(null,[],this.index,this.currentFileInfo);this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,media.debugInfo=this.debugInfo);var strictMathBypass=!1;env.strictMath||(strictMathBypass=!0,env.strictMath=!0);try{media.features=this.features.eval(env)}finally{strictMathBypass&&(env.strictMath=!1)}return env.mediaPath.push(media),env.mediaBlocks.push(media),env.frames.unshift(this.rules[0]),media.rules=[this.rules[0].eval(env)],env.frames.shift(),env.mediaPath.pop(),0===env.mediaPath.length?media.evalTop(env):media.evalNested(env)},variable:function(name){return tree.Ruleset.prototype.variable.call(this.rules[0],name)},find:function(){return tree.Ruleset.prototype.find.apply(this.rules[0],arguments)},rulesets:function(){return tree.Ruleset.prototype.rulesets.apply(this.rules[0])},emptySelectors:function(){var el=new tree.Element("","&",this.index,this.currentFileInfo),sels=[new tree.Selector([el],null,null,this.index,this.currentFileInfo)];return sels[0].mediaEmpty=!0,sels},markReferenced:function(){var i,rules=this.rules[0].rules;for(this.isReferenced=!0,i=0;i<rules.length;i++)rules[i].markReferenced&&rules[i].markReferenced()},evalTop:function(env){var result=this;if(env.mediaBlocks.length>1){var selectors=this.emptySelectors();result=new tree.Ruleset(selectors,env.mediaBlocks),result.multiMedia=!0}return delete env.mediaBlocks,delete env.mediaPath,result},evalNested:function(env){var i,value,path=env.mediaPath.concat([this]);for(i=0;i<path.length;i++)value=path[i].features instanceof tree.Value?path[i].features.value:path[i].features,path[i]=Array.isArray(value)?value:[value];return this.features=new tree.Value(this.permute(path).map(function(path){for(path=path.map(function(fragment){return fragment.toCSS?fragment:new tree.Anonymous(fragment)}),i=path.length-1;i>0;i--)path.splice(i,0,new tree.Anonymous("and"));return new tree.Expression(path)})),new tree.Ruleset([],[])},permute:function(arr){if(0===arr.length)return[];if(1===arr.length)return arr[0];for(var result=[],rest=this.permute(arr.slice(1)),i=0;i<rest.length;i++)for(var j=0;j<arr[0].length;j++)result.push([arr[0][j]].concat(rest[i]));return result},bubbleSelectors:function(selectors){this.rules=[new tree.Ruleset(selectors.slice(0),[this.rules[0]])]}}}(require("../tree")),function(tree){tree.mixin={},tree.mixin.Call=function(elements,args,index,currentFileInfo,important){this.selector=new tree.Selector(elements),this.arguments=args&&args.length?args:null,this.index=index,this.currentFileInfo=currentFileInfo,this.important=important},tree.mixin.Call.prototype={type:"MixinCall",accept:function(visitor){this.selector&&(this.selector=visitor.visit(this.selector)),this.arguments&&(this.arguments=visitor.visitArray(this.arguments))},eval:function(env){var mixins,mixin,args,i,m,f,isRecursive,isOneFound,rule,candidate,defaultResult,count,rules=[],match=!1,candidates=[],conditionResult=[],defaultFunc=tree.defaultFunc,defNone=0,defTrue=1,defFalse=2;for(args=this.arguments&&this.arguments.map(function(a){return{name:a.name,value:a.value.eval(env)}}),i=0;i<env.frames.length;i++)if((mixins=env.frames[i].find(this.selector)).length>0){for(isOneFound=!0,m=0;m<mixins.length;m++){for(mixin=mixins[m],isRecursive=!1,f=0;f<env.frames.length;f++)if(!(mixin instanceof tree.mixin.Definition)&&mixin===(env.frames[f].originalRuleset||env.frames[f])){isRecursive=!0;break}if(!isRecursive&&mixin.matchArgs(args,env)){if(candidate={mixin:mixin,group:defNone},mixin.matchCondition){for(f=0;2>f;f++)defaultFunc.value(f),conditionResult[f]=mixin.matchCondition(args,env);(conditionResult[0]||conditionResult[1])&&(conditionResult[0]!=conditionResult[1]&&(candidate.group=conditionResult[1]?defTrue:defFalse),candidates.push(candidate))}else candidates.push(candidate);match=!0}}for(defaultFunc.reset(),count=[0,0,0],m=0;m<candidates.length;m++)count[candidates[m].group]++;if(count[defNone]>0)defaultResult=defFalse;else if(defaultResult=defTrue,count[defTrue]+count[defFalse]>1)throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `"+this.format(args)+"`",index:this.index,filename:this.currentFileInfo.filename};for(m=0;m<candidates.length;m++)if(candidate=candidates[m].group,candidate===defNone||candidate===defaultResult)try{mixin=candidates[m].mixin,mixin instanceof tree.mixin.Definition||(mixin=new tree.mixin.Definition("",[],mixin.rules,null,!1),mixin.originalRuleset=mixins[m].originalRuleset||mixins[m]),Array.prototype.push.apply(rules,mixin.eval(env,args,this.important).rules)}catch(e){throw{message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack}}if(match){if(!this.currentFileInfo||!this.currentFileInfo.reference)for(i=0;i<rules.length;i++)rule=rules[i],rule.markReferenced&&rule.markReferenced();return rules}}throw isOneFound?{type:"Runtime",message:"No matching definition was found for `"+this.format(args)+"`",index:this.index,filename:this.currentFileInfo.filename}:{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename}},format:function(args){return this.selector.toCSS().trim()+"("+(args?args.map(function(a){var argValue="";return a.name&&(argValue+=a.name+":"),argValue+=a.value.toCSS?a.value.toCSS():"???"}).join(", "):"")+")"}},tree.mixin.Definition=function(name,params,rules,condition,variadic){this.name=name,this.selectors=[new tree.Selector([new tree.Element(null,name,this.index,this.currentFileInfo)])],this.params=params,this.condition=condition,this.variadic=variadic,this.arity=params.length,this.rules=rules,this._lookups={},this.required=params.reduce(function(count,p){return!p.name||p.name&&!p.value?count+1:count},0),this.parent=tree.Ruleset.prototype,this.frames=[]},tree.mixin.Definition.prototype={type:"MixinDefinition",accept:function(visitor){this.params&&this.params.length&&(this.params=visitor.visitArray(this.params)),this.rules=visitor.visitArray(this.rules),this.condition&&(this.condition=visitor.visit(this.condition))},variable:function(name){return this.parent.variable.call(this,name)},variables:function(){return this.parent.variables.call(this)},find:function(){return this.parent.find.apply(this,arguments)},rulesets:function(){return this.parent.rulesets.apply(this)},evalParams:function(env,mixinEnv,args,evaldArguments){var varargs,arg,i,j,val,name,isNamedFound,argIndex,frame=new tree.Ruleset(null,null),params=this.params.slice(0);if(mixinEnv=new tree.evalEnv(mixinEnv,[frame].concat(mixinEnv.frames)),args)for(args=args.slice(0),i=0;i<args.length;i++)if(arg=args[i],name=arg&&arg.name){for(isNamedFound=!1,j=0;j<params.length;j++)if(!evaldArguments[j]&&name===params[j].name){evaldArguments[j]=arg.value.eval(env),frame.prependRule(new tree.Rule(name,arg.value.eval(env))),isNamedFound=!0;break}if(isNamedFound){args.splice(i,1),i--;continue}throw{type:"Runtime",message:"Named argument for "+this.name+" "+args[i].name+" not found"}}for(argIndex=0,i=0;i<params.length;i++)if(!evaldArguments[i]){if(arg=args&&args[argIndex],name=params[i].name)if(params[i].variadic&&args){for(varargs=[],j=argIndex;j<args.length;j++)varargs.push(args[j].value.eval(env));frame.prependRule(new tree.Rule(name,new tree.Expression(varargs).eval(env)))}else{if(val=arg&&arg.value)val=val.eval(env);else{if(!params[i].value)throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+args.length+" for "+this.arity+")"};val=params[i].value.eval(mixinEnv),frame.resetCache()}frame.prependRule(new tree.Rule(name,val)),evaldArguments[i]=val}if(params[i].variadic&&args)for(j=argIndex;j<args.length;j++)evaldArguments[j]=args[j].value.eval(env);argIndex++}return frame},eval:function(env,args,important){var rules,ruleset,_arguments=[],mixinFrames=this.frames.concat(env.frames),frame=this.evalParams(env,new tree.evalEnv(env,mixinFrames),args,_arguments);return frame.prependRule(new tree.Rule("@arguments",new tree.Expression(_arguments).eval(env))),rules=this.rules.slice(0),ruleset=new tree.Ruleset(null,rules),ruleset.originalRuleset=this,ruleset=ruleset.eval(new tree.evalEnv(env,[this,frame].concat(mixinFrames))),important&&(ruleset=this.parent.makeImportant.apply(ruleset)),ruleset},matchCondition:function(args,env){return this.condition&&!this.condition.eval(new tree.evalEnv(env,[this.evalParams(env,new tree.evalEnv(env,this.frames.concat(env.frames)),args,[])].concat(this.frames).concat(env.frames)))?!1:!0},matchArgs:function(args,env){var len,argsLength=args&&args.length||0;if(this.variadic){if(argsLength<this.required-1)return!1}else{if(argsLength<this.required)return!1;if(argsLength>this.params.length)return!1}len=Math.min(argsLength,this.arity);for(var i=0;len>i;i++)if(!this.params[i].name&&!this.params[i].variadic&&args[i].value.eval(env).toCSS()!=this.params[i].value.eval(env).toCSS())return!1;return!0}}}(require("../tree")),function(tree){tree.Negative=function(node){this.value=node},tree.Negative.prototype={type:"Negative",accept:function(visitor){this.value=visitor.visit(this.value)},genCSS:function(env,output){output.add("-"),this.value.genCSS(env,output)},toCSS:tree.toCSS,eval:function(env){return env.isMathOn()?new tree.Operation("*",[new tree.Dimension(-1),this.value]).eval(env):new tree.Negative(this.value.eval(env))}}}(require("../tree")),function(tree){tree.Operation=function(op,operands,isSpaced){this.op=op.trim(),this.operands=operands,this.isSpaced=isSpaced},tree.Operation.prototype={type:"Operation",accept:function(visitor){this.operands=visitor.visit(this.operands)},eval:function(env){var a=this.operands[0].eval(env),b=this.operands[1].eval(env);if(env.isMathOn()){if(a instanceof tree.Dimension&&b instanceof tree.Color&&(a=a.toColor()),b instanceof tree.Dimension&&a instanceof tree.Color&&(b=b.toColor()),!a.operate)throw{type:"Operation",message:"Operation on an invalid type"};return a.operate(env,this.op,b)}return new tree.Operation(this.op,[a,b],this.isSpaced)},genCSS:function(env,output){this.operands[0].genCSS(env,output),this.isSpaced&&output.add(" "),output.add(this.op),this.isSpaced&&output.add(" "),this.operands[1].genCSS(env,output)},toCSS:tree.toCSS},tree.operate=function(env,op,a,b){switch(op){case"+":return a+b;case"-":return a-b;case"*":return a*b;case"/":return a/b}}}(require("../tree")),function(tree){tree.Paren=function(node){this.value=node},tree.Paren.prototype={type:"Paren",accept:function(visitor){this.value=visitor.visit(this.value)},genCSS:function(env,output){output.add("("),this.value.genCSS(env,output),output.add(")")},toCSS:tree.toCSS,eval:function(env){return new tree.Paren(this.value.eval(env))}}}(require("../tree")),function(tree){tree.Quoted=function(str,content,escaped,index,currentFileInfo){this.escaped=escaped,this.value=content||"",this.quote=str.charAt(0),this.index=index,this.currentFileInfo=currentFileInfo},tree.Quoted.prototype={type:"Quoted",genCSS:function(env,output){this.escaped||output.add(this.quote,this.currentFileInfo,this.index),output.add(this.value),this.escaped||output.add(this.quote)},toCSS:tree.toCSS,eval:function(env){var that=this,value=this.value.replace(/`([^`]+)`/g,function(_,exp){return new tree.JavaScript(exp,that.index,!0).eval(env).value}).replace(/@\{([\w-]+)\}/g,function(_,name){var v=new tree.Variable("@"+name,that.index,that.currentFileInfo).eval(env,!0);return v instanceof tree.Quoted?v.value:v.toCSS()});return new tree.Quoted(this.quote+value+this.quote,value,this.escaped,this.index,this.currentFileInfo)},compare:function(x){if(!x.toCSS)return-1;var left=this.toCSS(),right=x.toCSS();return left===right?0:right>left?-1:1}}}(require("../tree")),function(tree){function evalName(env,name){var i,value="",n=name.length,output={add:function(s){value+=s}};for(i=0;n>i;i++)name[i].eval(env).genCSS(env,output);return value}tree.Rule=function(name,value,important,merge,index,currentFileInfo,inline){this.name=name,this.value=value instanceof tree.Value?value:new tree.Value([value]),this.important=important?" "+important.trim():"",this.merge=merge,this.index=index,this.currentFileInfo=currentFileInfo,this.inline=inline||!1,this.variable=name.charAt&&"@"===name.charAt(0)},tree.Rule.prototype={type:"Rule",accept:function(visitor){this.value=visitor.visit(this.value)},genCSS:function(env,output){output.add(this.name+(env.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(env,output)}catch(e){throw e.index=this.index,e.filename=this.currentFileInfo.filename,e}output.add(this.important+(this.inline||env.lastRule&&env.compress?"":";"),this.currentFileInfo,this.index)},toCSS:tree.toCSS,eval:function(env){var strictMathBypass=!1,name=this.name;"string"!=typeof name&&(name=1===name.length&&name[0]instanceof tree.Keyword?name[0].value:evalName(env,name)),"font"!==name||env.strictMath||(strictMathBypass=!0,env.strictMath=!0);try{return new tree.Rule(name,this.value.eval(env),this.important,this.merge,this.index,this.currentFileInfo,this.inline)}catch(e){throw e.index=e.index||this.index,e}finally{strictMathBypass&&(env.strictMath=!1)}},makeImportant:function(){return new tree.Rule(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline)}}}(require("../tree")),function(tree){tree.Ruleset=function(selectors,rules,strictImports){this.selectors=selectors,this.rules=rules,this._lookups={},this.strictImports=strictImports},tree.Ruleset.prototype={type:"Ruleset",accept:function(visitor){this.paths?visitor.visitArray(this.paths,!0):this.selectors&&(this.selectors=visitor.visitArray(this.selectors)),this.rules&&this.rules.length&&(this.rules=visitor.visitArray(this.rules))},eval:function(env){var selectors,selCnt,i,thisSelectors=this.selectors,defaultFunc=tree.defaultFunc;if(thisSelectors&&(selCnt=thisSelectors.length)){for(selectors=[],defaultFunc.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"}),i=0;selCnt>i;i++)selectors.push(thisSelectors[i].eval(env));defaultFunc.reset()}var rule,subRule,rules=this.rules?this.rules.slice(0):null,ruleset=new tree.Ruleset(selectors,rules,this.strictImports);ruleset.originalRuleset=this,ruleset.root=this.root,ruleset.firstRoot=this.firstRoot,ruleset.allowImports=this.allowImports,this.debugInfo&&(ruleset.debugInfo=this.debugInfo);var envFrames=env.frames;envFrames.unshift(ruleset);var envSelectors=env.selectors;envSelectors||(env.selectors=envSelectors=[]),envSelectors.unshift(this.selectors),(ruleset.root||ruleset.allowImports||!ruleset.strictImports)&&ruleset.evalImports(env);var rsRules=ruleset.rules,rsRuleCnt=rsRules?rsRules.length:0;for(i=0;rsRuleCnt>i;i++)rsRules[i]instanceof tree.mixin.Definition&&(rsRules[i].frames=envFrames.slice(0));var mediaBlockCount=env.mediaBlocks&&env.mediaBlocks.length||0;for(i=0;rsRuleCnt>i;i++)rsRules[i]instanceof tree.mixin.Call&&(rules=rsRules[i].eval(env).filter(function(r){return r instanceof tree.Rule&&r.variable?!ruleset.variable(r.name):!0}),rsRules.splice.apply(rsRules,[i,1].concat(rules)),rsRuleCnt+=rules.length-1,i+=rules.length-1,ruleset.resetCache());for(i=0;i<rsRules.length;i++)if(rule=rsRules[i],!(rule instanceof tree.mixin.Definition)&&(rsRules[i]=rule=rule.eval?rule.eval(env):rule,rule instanceof tree.Ruleset&&rule.selectors&&1===rule.selectors.length&&rule.selectors[0].isJustParentSelector())){if(rsRules.splice(i--,1),!rule.selectors[0].evaldCondition)continue;for(var j=0;j<rule.rules.length;j++)subRule=rule.rules[j],subRule instanceof tree.Rule&&subRule.variable||rsRules.splice(++i,0,subRule)}if(envFrames.shift(),envSelectors.shift(),env.mediaBlocks)for(i=mediaBlockCount;i<env.mediaBlocks.length;i++)env.mediaBlocks[i].bubbleSelectors(selectors);return ruleset},evalImports:function(env){var i,importRules,rules=this.rules;if(rules)for(i=0;i<rules.length;i++)rules[i]instanceof tree.Import&&(importRules=rules[i].eval(env),importRules&&importRules.length?(rules.splice.apply(rules,[i,1].concat(importRules)),i+=importRules.length-1):rules.splice(i,1,importRules),this.resetCache())},makeImportant:function(){return new tree.Ruleset(this.selectors,this.rules.map(function(r){return r.makeImportant?r.makeImportant():r}),this.strictImports)},matchArgs:function(args){return!args||0===args.length},matchCondition:function(args,env){var lastSelector=this.selectors[this.selectors.length-1];return lastSelector.evaldCondition?lastSelector.condition&&!lastSelector.condition.eval(new tree.evalEnv(env,env.frames))?!1:!0:!1},resetCache:function(){this._rulesets=null,this._variables=null,this._lookups={}},variables:function(){return this._variables||(this._variables=this.rules?this.rules.reduce(function(hash,r){return r instanceof tree.Rule&&r.variable===!0&&(hash[r.name]=r),hash},{}):{}),this._variables},variable:function(name){return this.variables()[name]},rulesets:function(){if(!this.rules)return null;var i,rule,_Ruleset=tree.Ruleset,_MixinDefinition=tree.mixin.Definition,filtRules=[],rules=this.rules,cnt=rules.length;for(i=0;cnt>i;i++)rule=rules[i],(rule instanceof _Ruleset||rule instanceof _MixinDefinition)&&filtRules.push(rule);return filtRules},prependRule:function(rule){var rules=this.rules;rules?rules.unshift(rule):this.rules=[rule]},find:function(selector,self){self=self||this;var match,rules=[],key=selector.toCSS();return key in this._lookups?this._lookups[key]:(this.rulesets().forEach(function(rule){if(rule!==self)for(var j=0;j<rule.selectors.length;j++)if(match=selector.match(rule.selectors[j])){selector.elements.length>match?Array.prototype.push.apply(rules,rule.find(new tree.Selector(selector.elements.slice(match)),self)):rules.push(rule);
break}}),this._lookups[key]=rules,rules)},genCSS:function(env,output){var i,j,rulesetNodeCnt,debugInfo,rule,path,ruleNodes=[],rulesetNodes=[];env.tabLevel=env.tabLevel||0,this.root||env.tabLevel++;var sep,tabRuleStr=env.compress?"":Array(env.tabLevel+1).join("  "),tabSetStr=env.compress?"":Array(env.tabLevel).join("  ");for(i=0;i<this.rules.length;i++)rule=this.rules[i],rule.rules||rule instanceof tree.Media||rule instanceof tree.Directive||this.root&&rule instanceof tree.Comment?rulesetNodes.push(rule):ruleNodes.push(rule);if(!this.root){debugInfo=tree.debugInfo(env,this,tabSetStr),debugInfo&&(output.add(debugInfo),output.add(tabSetStr));var pathSubCnt,paths=this.paths,pathCnt=paths.length;for(sep=env.compress?",":",\n"+tabSetStr,i=0;pathCnt>i;i++)if(path=paths[i],pathSubCnt=path.length)for(i>0&&output.add(sep),env.firstSelector=!0,path[0].genCSS(env,output),env.firstSelector=!1,j=1;pathSubCnt>j;j++)path[j].genCSS(env,output);output.add((env.compress?"{":" {\n")+tabRuleStr)}for(i=0;i<ruleNodes.length;i++)rule=ruleNodes[i],i+1!==ruleNodes.length||this.root&&0!==rulesetNodes.length&&!this.firstRoot||(env.lastRule=!0),rule.genCSS?rule.genCSS(env,output):rule.value&&output.add(rule.value.toString()),env.lastRule?env.lastRule=!1:output.add(env.compress?"":"\n"+tabRuleStr);if(this.root||(output.add(env.compress?"}":"\n"+tabSetStr+"}"),env.tabLevel--),sep=(env.compress?"":"\n")+(this.root?tabRuleStr:tabSetStr),rulesetNodeCnt=rulesetNodes.length)for(ruleNodes.length&&sep&&output.add(sep),rulesetNodes[0].genCSS(env,output),i=1;rulesetNodeCnt>i;i++)sep&&output.add(sep),rulesetNodes[i].genCSS(env,output);output.isEmpty()||env.compress||!this.firstRoot||output.add("\n")},toCSS:tree.toCSS,markReferenced:function(){for(var s=0;s<this.selectors.length;s++)this.selectors[s].markReferenced()},joinSelectors:function(paths,context,selectors){for(var s=0;s<selectors.length;s++)this.joinSelector(paths,context,selectors[s])},joinSelector:function(paths,context,selector){var i,j,k,hasParentSelector,newSelectors,el,sel,parentSel,newSelectorPath,afterParentJoin,newJoinedSelector,newJoinedSelectorEmpty,lastSelector,currentElements,selectorsMultiplied;for(i=0;i<selector.elements.length;i++)el=selector.elements[i],"&"===el.value&&(hasParentSelector=!0);if(hasParentSelector){for(currentElements=[],newSelectors=[[]],i=0;i<selector.elements.length;i++)if(el=selector.elements[i],"&"!==el.value)currentElements.push(el);else{for(selectorsMultiplied=[],currentElements.length>0&&this.mergeElementsOnToSelectors(currentElements,newSelectors),j=0;j<newSelectors.length;j++)if(sel=newSelectors[j],0===context.length)sel.length>0&&(sel[0].elements=sel[0].elements.slice(0),sel[0].elements.push(new tree.Element(el.combinator,"",el.index,el.currentFileInfo))),selectorsMultiplied.push(sel);else for(k=0;k<context.length;k++)parentSel=context[k],newSelectorPath=[],afterParentJoin=[],newJoinedSelectorEmpty=!0,sel.length>0?(newSelectorPath=sel.slice(0),lastSelector=newSelectorPath.pop(),newJoinedSelector=selector.createDerived(lastSelector.elements.slice(0)),newJoinedSelectorEmpty=!1):newJoinedSelector=selector.createDerived([]),parentSel.length>1&&(afterParentJoin=afterParentJoin.concat(parentSel.slice(1))),parentSel.length>0&&(newJoinedSelectorEmpty=!1,newJoinedSelector.elements.push(new tree.Element(el.combinator,parentSel[0].elements[0].value,el.index,el.currentFileInfo)),newJoinedSelector.elements=newJoinedSelector.elements.concat(parentSel[0].elements.slice(1))),newJoinedSelectorEmpty||newSelectorPath.push(newJoinedSelector),newSelectorPath=newSelectorPath.concat(afterParentJoin),selectorsMultiplied.push(newSelectorPath);newSelectors=selectorsMultiplied,currentElements=[]}for(currentElements.length>0&&this.mergeElementsOnToSelectors(currentElements,newSelectors),i=0;i<newSelectors.length;i++)newSelectors[i].length>0&&paths.push(newSelectors[i])}else if(context.length>0)for(i=0;i<context.length;i++)paths.push(context[i].concat(selector));else paths.push([selector])},mergeElementsOnToSelectors:function(elements,selectors){var i,sel;if(0===selectors.length)return void selectors.push([new tree.Selector(elements)]);for(i=0;i<selectors.length;i++)sel=selectors[i],sel.length>0?sel[sel.length-1]=sel[sel.length-1].createDerived(sel[sel.length-1].elements.concat(elements)):sel.push(new tree.Selector(elements))}}}(require("../tree")),function(tree){tree.Selector=function(elements,extendList,condition,index,currentFileInfo,isReferenced){this.elements=elements,this.extendList=extendList,this.condition=condition,this.currentFileInfo=currentFileInfo||{},this.isReferenced=isReferenced,condition||(this.evaldCondition=!0)},tree.Selector.prototype={type:"Selector",accept:function(visitor){this.elements&&(this.elements=visitor.visitArray(this.elements)),this.extendList&&(this.extendList=visitor.visitArray(this.extendList)),this.condition&&(this.condition=visitor.visit(this.condition))},createDerived:function(elements,extendList,evaldCondition){evaldCondition=null!=evaldCondition?evaldCondition:this.evaldCondition;var newSelector=new tree.Selector(elements,extendList||this.extendList,null,this.index,this.currentFileInfo,this.isReferenced);return newSelector.evaldCondition=evaldCondition,newSelector.mediaEmpty=this.mediaEmpty,newSelector},match:function(other){var olen,i,elements=this.elements,len=elements.length;if(other.CacheElements(),olen=other._elements.length,0===olen||olen>len)return 0;for(i=0;olen>i;i++)if(elements[i].value!==other._elements[i])return 0;return olen},CacheElements:function(){var len,v,i,css="";if(!this._elements){for(len=this.elements.length,i=0;len>i;i++)if(v=this.elements[i],css+=v.combinator.value,v.value.value){if("string"!=typeof v.value.value){css="";break}css+=v.value.value}else css+=v.value;this._elements=css.match(/[,&#\.\w-]([\w-]|(\\.))*/g),this._elements?"&"===this._elements[0]&&this._elements.shift():this._elements=[]}},isJustParentSelector:function(){return!this.mediaEmpty&&1===this.elements.length&&"&"===this.elements[0].value&&(" "===this.elements[0].combinator.value||""===this.elements[0].combinator.value)},eval:function(env){var evaldCondition=this.condition&&this.condition.eval(env),elements=this.elements,extendList=this.extendList;return elements=elements&&elements.map(function(e){return e.eval(env)}),extendList=extendList&&extendList.map(function(extend){return extend.eval(env)}),this.createDerived(elements,extendList,evaldCondition)},genCSS:function(env,output){var i,element;if(env&&env.firstSelector||""!==this.elements[0].combinator.value||output.add(" ",this.currentFileInfo,this.index),!this._css)for(i=0;i<this.elements.length;i++)element=this.elements[i],element.genCSS(env,output)},toCSS:tree.toCSS,markReferenced:function(){this.isReferenced=!0},getIsReferenced:function(){return!this.currentFileInfo.reference||this.isReferenced},getIsOutput:function(){return this.evaldCondition}}}(require("../tree")),function(tree){tree.UnicodeDescriptor=function(value){this.value=value},tree.UnicodeDescriptor.prototype={type:"UnicodeDescriptor",genCSS:function(env,output){output.add(this.value)},toCSS:tree.toCSS,eval:function(){return this}}}(require("../tree")),function(tree){tree.URL=function(val,currentFileInfo,isEvald){this.value=val,this.currentFileInfo=currentFileInfo,this.isEvald=isEvald},tree.URL.prototype={type:"Url",accept:function(visitor){this.value=visitor.visit(this.value)},genCSS:function(env,output){output.add("url("),this.value.genCSS(env,output),output.add(")")},toCSS:tree.toCSS,eval:function(ctx){var rootpath,val=this.value.eval(ctx);if(!this.isEvald&&(rootpath=this.currentFileInfo&&this.currentFileInfo.rootpath,rootpath&&"string"==typeof val.value&&ctx.isPathRelative(val.value)&&(val.quote||(rootpath=rootpath.replace(/[\(\)'"\s]/g,function(match){return"\\"+match})),val.value=rootpath+val.value),val.value=ctx.normalizePath(val.value),ctx.urlArgs&&!val.value.match(/^\s*data:/))){var delimiter=-1===val.value.indexOf("?")?"?":"&",urlArgs=delimiter+ctx.urlArgs;-1!==val.value.indexOf("#")?val.value=val.value.replace("#",urlArgs+"#"):val.value+=urlArgs}return new tree.URL(val,this.currentFileInfo,!0)}}}(require("../tree")),function(tree){tree.Value=function(value){this.value=value},tree.Value.prototype={type:"Value",accept:function(visitor){this.value&&(this.value=visitor.visitArray(this.value))},eval:function(env){return 1===this.value.length?this.value[0].eval(env):new tree.Value(this.value.map(function(v){return v.eval(env)}))},genCSS:function(env,output){var i;for(i=0;i<this.value.length;i++)this.value[i].genCSS(env,output),i+1<this.value.length&&output.add(env&&env.compress?",":", ")},toCSS:tree.toCSS}}(require("../tree")),function(tree){tree.Variable=function(name,index,currentFileInfo){this.name=name,this.index=index,this.currentFileInfo=currentFileInfo||{}},tree.Variable.prototype={type:"Variable",eval:function(env){var variable,name=this.name;if(0===name.indexOf("@@")&&(name="@"+new tree.Variable(name.slice(1)).eval(env).value),this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+name,filename:this.currentFileInfo.file,index:this.index};if(this.evaluating=!0,variable=tree.find(env.frames,function(frame){var v=frame.variable(name);return v?v.value.eval(env):void 0}))return this.evaluating=!1,variable;throw{type:"Name",message:"variable "+name+" is undefined",filename:this.currentFileInfo.filename,index:this.index}}}}(require("../tree")),function(tree){var parseCopyProperties=["paths","optimization","files","contents","contentsIgnoredChars","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","processImports","syncImport","javascriptEnabled","mime","useFileCache","currentFileInfo"];tree.parseEnv=function(options){if(copyFromOriginal(options,this,parseCopyProperties),this.contents||(this.contents={}),this.contentsIgnoredChars||(this.contentsIgnoredChars={}),this.files||(this.files={}),!this.currentFileInfo){var filename=options&&options.filename||"input",entryPath=filename.replace(/[^\/\\]*$/,"");options&&(options.filename=null),this.currentFileInfo={filename:filename,relativeUrls:this.relativeUrls,rootpath:options&&options.rootpath||"",currentDirectory:entryPath,entryPath:entryPath,rootFilename:filename}}};var evalCopyProperties=["silent","verbose","compress","yuicompress","ieCompat","strictMath","strictUnits","cleancss","sourceMap","importMultiple","urlArgs"];tree.evalEnv=function(options,frames){copyFromOriginal(options,this,evalCopyProperties),this.frames=frames||[]},tree.evalEnv.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]),this.parensStack.push(!0)},tree.evalEnv.prototype.outOfParenthesis=function(){this.parensStack.pop()},tree.evalEnv.prototype.isMathOn=function(){return this.strictMath?this.parensStack&&this.parensStack.length:!0},tree.evalEnv.prototype.isPathRelative=function(path){return!/^(?:[a-z-]+:|\/)/.test(path)},tree.evalEnv.prototype.normalizePath=function(path){var segment,segments=path.split("/").reverse();for(path=[];0!==segments.length;)switch(segment=segments.pop()){case".":break;case"..":0===path.length||".."===path[path.length-1]?path.push(segment):path.pop();break;default:path.push(segment)}return path.join("/")};var copyFromOriginal=function(original,destination,propertiesToCopy){if(original)for(var i=0;i<propertiesToCopy.length;i++)original.hasOwnProperty(propertiesToCopy[i])&&(destination[propertiesToCopy[i]]=original[propertiesToCopy[i]])}}(require("./tree")),function(tree){function _noop(node){return node}function indexNodeTypes(parent,ticker){var key,child;for(key in parent)if(parent.hasOwnProperty(key))switch(child=parent[key],typeof child){case"function":child.prototype&&child.prototype.type&&(child.prototype.typeIndex=ticker++);break;case"object":ticker=indexNodeTypes(child,ticker)}return ticker}var _visitArgs={visitDeeper:!0},_hasIndexed=!1;tree.visitor=function(implementation){this._implementation=implementation,this._visitFnCache=[],_hasIndexed||(indexNodeTypes(tree,1),_hasIndexed=!0)},tree.visitor.prototype={visit:function(node){if(!node)return node;var nodeTypeIndex=node.typeIndex;if(!nodeTypeIndex)return node;var fnName,visitFnCache=this._visitFnCache,impl=this._implementation,aryIndx=nodeTypeIndex<<1,outAryIndex=1|aryIndx,func=visitFnCache[aryIndx],funcOut=visitFnCache[outAryIndex],visitArgs=_visitArgs;if(visitArgs.visitDeeper=!0,func||(fnName="visit"+node.type,func=impl[fnName]||_noop,funcOut=impl[fnName+"Out"]||_noop,visitFnCache[aryIndx]=func,visitFnCache[outAryIndex]=funcOut),func!==_noop){var newNode=func.call(impl,node,visitArgs);impl.isReplacing&&(node=newNode)}return visitArgs.visitDeeper&&node&&node.accept&&node.accept(this),funcOut!=_noop&&funcOut.call(impl,node),node},visitArray:function(nodes,nonReplacing){if(!nodes)return nodes;var i,cnt=nodes.length;if(nonReplacing||!this._implementation.isReplacing){for(i=0;cnt>i;i++)this.visit(nodes[i]);return nodes}var out=[];for(i=0;cnt>i;i++){var evald=this.visit(nodes[i]);evald.splice?evald.length&&this.flatten(evald,out):out.push(evald)}return out},flatten:function(arr,out){out||(out=[]);var cnt,i,item,nestedCnt,j,nestedItem;for(i=0,cnt=arr.length;cnt>i;i++)if(item=arr[i],item.splice)for(j=0,nestedCnt=item.length;nestedCnt>j;j++)nestedItem=item[j],nestedItem.splice?nestedItem.length&&this.flatten(nestedItem,out):out.push(nestedItem);else out.push(item);return out}}}(require("./tree")),function(tree){tree.importVisitor=function(importer,finish,evalEnv){this._visitor=new tree.visitor(this),this._importer=importer,this._finish=finish,this.env=evalEnv||new tree.evalEnv,this.importCount=0},tree.importVisitor.prototype={isReplacing:!0,run:function(root){var error;try{this._visitor.visit(root)}catch(e){error=e}this.isFinished=!0,0===this.importCount&&this._finish(error)},visitImport:function(importNode,visitArgs){var evaldImportNode,importVisitor=this,inlineCSS=importNode.options.inline;if(!importNode.css||inlineCSS){try{evaldImportNode=importNode.evalForImport(this.env)}catch(e){e.filename||(e.index=importNode.index,e.filename=importNode.currentFileInfo.filename),importNode.css=!0,importNode.error=e}if(evaldImportNode&&(!evaldImportNode.css||inlineCSS)){importNode=evaldImportNode,this.importCount++;var env=new tree.evalEnv(this.env,this.env.frames.slice(0));importNode.options.multiple&&(env.importMultiple=!0),this._importer.push(importNode.getPath(),importNode.currentFileInfo,importNode.options,function(e,root,imported,fullPath){e&&!e.filename&&(e.index=importNode.index,e.filename=importNode.currentFileInfo.filename),imported&&!env.importMultiple&&(importNode.skip=imported);var subFinish=function(e){importVisitor.importCount--,0===importVisitor.importCount&&importVisitor.isFinished&&importVisitor._finish(e)};return!root||(importNode.root=root,importNode.importedFilename=fullPath,inlineCSS||importNode.skip)?void subFinish():void new tree.importVisitor(importVisitor._importer,subFinish,env).run(root)})}}return visitArgs.visitDeeper=!1,importNode},visitRule:function(ruleNode,visitArgs){return visitArgs.visitDeeper=!1,ruleNode},visitDirective:function(directiveNode){return this.env.frames.unshift(directiveNode),directiveNode},visitDirectiveOut:function(){this.env.frames.shift()},visitMixinDefinition:function(mixinDefinitionNode){return this.env.frames.unshift(mixinDefinitionNode),mixinDefinitionNode},visitMixinDefinitionOut:function(){this.env.frames.shift()},visitRuleset:function(rulesetNode){return this.env.frames.unshift(rulesetNode),rulesetNode},visitRulesetOut:function(){this.env.frames.shift()},visitMedia:function(mediaNode){return this.env.frames.unshift(mediaNode.ruleset),mediaNode},visitMediaOut:function(){this.env.frames.shift()}}}(require("./tree")),function(tree){tree.joinSelectorVisitor=function(){this.contexts=[[]],this._visitor=new tree.visitor(this)},tree.joinSelectorVisitor.prototype={run:function(root){return this._visitor.visit(root)},visitRule:function(ruleNode,visitArgs){visitArgs.visitDeeper=!1},visitMixinDefinition:function(mixinDefinitionNode,visitArgs){visitArgs.visitDeeper=!1},visitRuleset:function(rulesetNode){var selectors,context=this.contexts[this.contexts.length-1],paths=[];this.contexts.push(paths),rulesetNode.root||(selectors=rulesetNode.selectors,selectors&&(selectors=selectors.filter(function(selector){return selector.getIsOutput()}),rulesetNode.selectors=selectors.length?selectors:selectors=null,selectors&&rulesetNode.joinSelectors(paths,context,selectors)),selectors||(rulesetNode.rules=null),rulesetNode.paths=paths)},visitRulesetOut:function(){this.contexts.length=this.contexts.length-1},visitMedia:function(mediaNode){var context=this.contexts[this.contexts.length-1];mediaNode.rules[0].root=0===context.length||context[0].multiMedia}}}(require("./tree")),function(tree){tree.toCSSVisitor=function(env){this._visitor=new tree.visitor(this),this._env=env},tree.toCSSVisitor.prototype={isReplacing:!0,run:function(root){return this._visitor.visit(root)},visitRule:function(ruleNode){return ruleNode.variable?[]:ruleNode},visitMixinDefinition:function(){return[]},visitExtend:function(){return[]},visitComment:function(commentNode){return commentNode.isSilent(this._env)?[]:commentNode},visitMedia:function(mediaNode,visitArgs){return mediaNode.accept(this._visitor),visitArgs.visitDeeper=!1,mediaNode.rules.length?mediaNode:[]},visitDirective:function(directiveNode){if(directiveNode.currentFileInfo.reference&&!directiveNode.isReferenced)return[];if("@charset"===directiveNode.name){if(this.charset){if(directiveNode.debugInfo){var comment=new tree.Comment("/* "+directiveNode.toCSS(this._env).replace(/\n/g,"")+" */\n");return comment.debugInfo=directiveNode.debugInfo,this._visitor.visit(comment)}return[]}this.charset=!0}return directiveNode},checkPropertiesInRoot:function(rules){for(var ruleNode,i=0;i<rules.length;i++)if(ruleNode=rules[i],ruleNode instanceof tree.Rule&&!ruleNode.variable)throw{message:"properties must be inside selector blocks, they cannot be in the root.",index:ruleNode.index,filename:ruleNode.currentFileInfo?ruleNode.currentFileInfo.filename:null}},visitRuleset:function(rulesetNode,visitArgs){var rule,rulesets=[];if(rulesetNode.firstRoot&&this.checkPropertiesInRoot(rulesetNode.rules),rulesetNode.root)rulesetNode.accept(this._visitor),visitArgs.visitDeeper=!1,(rulesetNode.firstRoot||rulesetNode.rules&&rulesetNode.rules.length>0)&&rulesets.splice(0,0,rulesetNode);else{rulesetNode.paths&&(rulesetNode.paths=rulesetNode.paths.filter(function(p){var i;for(" "===p[0].elements[0].combinator.value&&(p[0].elements[0].combinator=new tree.Combinator("")),i=0;i<p.length;i++)if(p[i].getIsReferenced()&&p[i].getIsOutput())return!0;return!1}));for(var nodeRules=rulesetNode.rules,nodeRuleCnt=nodeRules?nodeRules.length:0,i=0;nodeRuleCnt>i;)rule=nodeRules[i],rule&&rule.rules?(rulesets.push(this._visitor.visit(rule)),nodeRules.splice(i,1),nodeRuleCnt--):i++;nodeRuleCnt>0?rulesetNode.accept(this._visitor):rulesetNode.rules=null,visitArgs.visitDeeper=!1,nodeRules=rulesetNode.rules,nodeRules&&(this._mergeRules(nodeRules),nodeRules=rulesetNode.rules),nodeRules&&(this._removeDuplicateRules(nodeRules),nodeRules=rulesetNode.rules),nodeRules&&nodeRules.length>0&&rulesetNode.paths.length>0&&rulesets.splice(0,0,rulesetNode)}return 1===rulesets.length?rulesets[0]:rulesets},_removeDuplicateRules:function(rules){if(rules){var ruleList,rule,i,ruleCache={};for(i=rules.length-1;i>=0;i--)if(rule=rules[i],rule instanceof tree.Rule)if(ruleCache[rule.name]){ruleList=ruleCache[rule.name],ruleList instanceof tree.Rule&&(ruleList=ruleCache[rule.name]=[ruleCache[rule.name].toCSS(this._env)]);var ruleCSS=rule.toCSS(this._env);-1!==ruleList.indexOf(ruleCSS)?rules.splice(i,1):ruleList.push(ruleCSS)}else ruleCache[rule.name]=rule}},_mergeRules:function(rules){if(rules){for(var parts,rule,key,groups={},i=0;i<rules.length;i++)rule=rules[i],rule instanceof tree.Rule&&rule.merge&&(key=[rule.name,rule.important?"!":""].join(","),groups[key]?rules.splice(i--,1):groups[key]=[],groups[key].push(rule));Object.keys(groups).map(function(k){parts=groups[k],parts.length>1&&(rule=parts[0],rule.value=new tree.Value(parts.map(function(p){return p.value})))})}}}}(require("./tree")),function(tree){tree.extendFinderVisitor=function(){this._visitor=new tree.visitor(this),this.contexts=[],this.allExtendsStack=[[]]},tree.extendFinderVisitor.prototype={run:function(root){return root=this._visitor.visit(root),root.allExtends=this.allExtendsStack[0],root},visitRule:function(ruleNode,visitArgs){visitArgs.visitDeeper=!1},visitMixinDefinition:function(mixinDefinitionNode,visitArgs){visitArgs.visitDeeper=!1},visitRuleset:function(rulesetNode){if(!rulesetNode.root){var i,j,extend,extendList,allSelectorsExtendList=[],rules=rulesetNode.rules,ruleCnt=rules?rules.length:0;for(i=0;ruleCnt>i;i++)rulesetNode.rules[i]instanceof tree.Extend&&(allSelectorsExtendList.push(rules[i]),rulesetNode.extendOnEveryPath=!0);var paths=rulesetNode.paths;for(i=0;i<paths.length;i++){var selectorPath=paths[i],selector=selectorPath[selectorPath.length-1],selExtendList=selector.extendList;for(extendList=selExtendList?selExtendList.slice(0).concat(allSelectorsExtendList):allSelectorsExtendList,extendList&&(extendList=extendList.map(function(allSelectorsExtend){return allSelectorsExtend.clone()})),j=0;j<extendList.length;j++)this.foundExtends=!0,extend=extendList[j],extend.findSelfSelectors(selectorPath),extend.ruleset=rulesetNode,0===j&&(extend.firstExtendOnThisSelectorPath=!0),this.allExtendsStack[this.allExtendsStack.length-1].push(extend)}this.contexts.push(rulesetNode.selectors)}},visitRulesetOut:function(rulesetNode){rulesetNode.root||(this.contexts.length=this.contexts.length-1)},visitMedia:function(mediaNode){mediaNode.allExtends=[],this.allExtendsStack.push(mediaNode.allExtends)},visitMediaOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(directiveNode){directiveNode.allExtends=[],this.allExtendsStack.push(directiveNode.allExtends)},visitDirectiveOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1}},tree.processExtendsVisitor=function(){this._visitor=new tree.visitor(this)},tree.processExtendsVisitor.prototype={run:function(root){var extendFinder=new tree.extendFinderVisitor;return extendFinder.run(root),extendFinder.foundExtends?(root.allExtends=root.allExtends.concat(this.doExtendChaining(root.allExtends,root.allExtends)),this.allExtendsStack=[root.allExtends],this._visitor.visit(root)):root},doExtendChaining:function(extendsList,extendsListTarget,iterationCount){var extendIndex,targetExtendIndex,matches,newSelector,selectorPath,extend,targetExtend,newExtend,extendsToAdd=[],extendVisitor=this;for(iterationCount=iterationCount||0,extendIndex=0;extendIndex<extendsList.length;extendIndex++)for(targetExtendIndex=0;targetExtendIndex<extendsListTarget.length;targetExtendIndex++)extend=extendsList[extendIndex],targetExtend=extendsListTarget[targetExtendIndex],extend.parent_ids.indexOf(targetExtend.object_id)>=0||(selectorPath=[targetExtend.selfSelectors[0]],matches=extendVisitor.findMatch(extend,selectorPath),matches.length&&extend.selfSelectors.forEach(function(selfSelector){newSelector=extendVisitor.extendSelector(matches,selectorPath,selfSelector),newExtend=new tree.Extend(targetExtend.selector,targetExtend.option,0),newExtend.selfSelectors=newSelector,newSelector[newSelector.length-1].extendList=[newExtend],extendsToAdd.push(newExtend),newExtend.ruleset=targetExtend.ruleset,newExtend.parent_ids=newExtend.parent_ids.concat(targetExtend.parent_ids,extend.parent_ids),targetExtend.firstExtendOnThisSelectorPath&&(newExtend.firstExtendOnThisSelectorPath=!0,targetExtend.ruleset.paths.push(newSelector))}));if(extendsToAdd.length){if(this.extendChainCount++,iterationCount>100){var selectorOne="{unable to calculate}",selectorTwo="{unable to calculate}";try{selectorOne=extendsToAdd[0].selfSelectors[0].toCSS(),selectorTwo=extendsToAdd[0].selector.toCSS()}catch(e){}throw{message:"extend circular reference detected. One of the circular extends is currently:"+selectorOne+":extend("+selectorTwo+")"}}return extendsToAdd.concat(extendVisitor.doExtendChaining(extendsToAdd,extendsListTarget,iterationCount+1))}return extendsToAdd},visitRule:function(ruleNode,visitArgs){visitArgs.visitDeeper=!1},visitMixinDefinition:function(mixinDefinitionNode,visitArgs){visitArgs.visitDeeper=!1},visitSelector:function(selectorNode,visitArgs){visitArgs.visitDeeper=!1},visitRuleset:function(rulesetNode){if(!rulesetNode.root){var matches,pathIndex,extendIndex,selectorPath,allExtends=this.allExtendsStack[this.allExtendsStack.length-1],selectorsToAdd=[],extendVisitor=this;for(extendIndex=0;extendIndex<allExtends.length;extendIndex++)for(pathIndex=0;pathIndex<rulesetNode.paths.length;pathIndex++)if(selectorPath=rulesetNode.paths[pathIndex],!rulesetNode.extendOnEveryPath){var extendList=selectorPath[selectorPath.length-1].extendList;extendList&&extendList.length||(matches=this.findMatch(allExtends[extendIndex],selectorPath),matches.length&&allExtends[extendIndex].selfSelectors.forEach(function(selfSelector){selectorsToAdd.push(extendVisitor.extendSelector(matches,selectorPath,selfSelector))}))}rulesetNode.paths=rulesetNode.paths.concat(selectorsToAdd)}},findMatch:function(extend,haystackSelectorPath){var haystackSelectorIndex,hackstackSelector,hackstackElementIndex,haystackElement,targetCombinator,i,potentialMatch,extendVisitor=this,needleElements=extend.selector.elements,potentialMatches=[],matches=[];for(haystackSelectorIndex=0;haystackSelectorIndex<haystackSelectorPath.length;haystackSelectorIndex++)for(hackstackSelector=haystackSelectorPath[haystackSelectorIndex],hackstackElementIndex=0;hackstackElementIndex<hackstackSelector.elements.length;hackstackElementIndex++)for(haystackElement=hackstackSelector.elements[hackstackElementIndex],(extend.allowBefore||0===haystackSelectorIndex&&0===hackstackElementIndex)&&potentialMatches.push({pathIndex:haystackSelectorIndex,index:hackstackElementIndex,matched:0,initialCombinator:haystackElement.combinator}),i=0;i<potentialMatches.length;i++)potentialMatch=potentialMatches[i],targetCombinator=haystackElement.combinator.value,""===targetCombinator&&0===hackstackElementIndex&&(targetCombinator=" "),!extendVisitor.isElementValuesEqual(needleElements[potentialMatch.matched].value,haystackElement.value)||potentialMatch.matched>0&&needleElements[potentialMatch.matched].combinator.value!==targetCombinator?potentialMatch=null:potentialMatch.matched++,potentialMatch&&(potentialMatch.finished=potentialMatch.matched===needleElements.length,potentialMatch.finished&&!extend.allowAfter&&(hackstackElementIndex+1<hackstackSelector.elements.length||haystackSelectorIndex+1<haystackSelectorPath.length)&&(potentialMatch=null)),potentialMatch?potentialMatch.finished&&(potentialMatch.length=needleElements.length,potentialMatch.endPathIndex=haystackSelectorIndex,potentialMatch.endPathElementIndex=hackstackElementIndex+1,potentialMatches.length=0,matches.push(potentialMatch)):(potentialMatches.splice(i,1),i--);return matches},isElementValuesEqual:function(elementValue1,elementValue2){if("string"==typeof elementValue1||"string"==typeof elementValue2)return elementValue1===elementValue2;if(elementValue1 instanceof tree.Attribute)return elementValue1.op!==elementValue2.op||elementValue1.key!==elementValue2.key?!1:elementValue1.value&&elementValue2.value?(elementValue1=elementValue1.value.value||elementValue1.value,elementValue2=elementValue2.value.value||elementValue2.value,elementValue1===elementValue2):elementValue1.value||elementValue2.value?!1:!0;if(elementValue1=elementValue1.value,elementValue2=elementValue2.value,elementValue1 instanceof tree.Selector){if(!(elementValue2 instanceof tree.Selector)||elementValue1.elements.length!==elementValue2.elements.length)return!1;for(var i=0;i<elementValue1.elements.length;i++){if(elementValue1.elements[i].combinator.value!==elementValue2.elements[i].combinator.value&&(0!==i||(elementValue1.elements[i].combinator.value||" ")!==(elementValue2.elements[i].combinator.value||" ")))return!1;if(!this.isElementValuesEqual(elementValue1.elements[i].value,elementValue2.elements[i].value))return!1}return!0}return!1},extendSelector:function(matches,selectorPath,replacementSelector){var matchIndex,selector,firstElement,match,newElements,currentSelectorPathIndex=0,currentSelectorPathElementIndex=0,path=[];for(matchIndex=0;matchIndex<matches.length;matchIndex++)match=matches[matchIndex],selector=selectorPath[match.pathIndex],firstElement=new tree.Element(match.initialCombinator,replacementSelector.elements[0].value,replacementSelector.elements[0].index,replacementSelector.elements[0].currentFileInfo),match.pathIndex>currentSelectorPathIndex&&currentSelectorPathElementIndex>0&&(path[path.length-1].elements=path[path.length-1].elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex)),currentSelectorPathElementIndex=0,currentSelectorPathIndex++),newElements=selector.elements.slice(currentSelectorPathElementIndex,match.index).concat([firstElement]).concat(replacementSelector.elements.slice(1)),currentSelectorPathIndex===match.pathIndex&&matchIndex>0?path[path.length-1].elements=path[path.length-1].elements.concat(newElements):(path=path.concat(selectorPath.slice(currentSelectorPathIndex,match.pathIndex)),path.push(new tree.Selector(newElements))),currentSelectorPathIndex=match.endPathIndex,currentSelectorPathElementIndex=match.endPathElementIndex,currentSelectorPathElementIndex>=selectorPath[currentSelectorPathIndex].elements.length&&(currentSelectorPathElementIndex=0,currentSelectorPathIndex++);return currentSelectorPathIndex<selectorPath.length&&currentSelectorPathElementIndex>0&&(path[path.length-1].elements=path[path.length-1].elements.concat(selectorPath[currentSelectorPathIndex].elements.slice(currentSelectorPathElementIndex)),currentSelectorPathIndex++),path=path.concat(selectorPath.slice(currentSelectorPathIndex,selectorPath.length))},visitRulesetOut:function(){},visitMedia:function(mediaNode){var newAllExtends=mediaNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);newAllExtends=newAllExtends.concat(this.doExtendChaining(newAllExtends,mediaNode.allExtends)),this.allExtendsStack.push(newAllExtends)},visitMediaOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(directiveNode){var newAllExtends=directiveNode.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);newAllExtends=newAllExtends.concat(this.doExtendChaining(newAllExtends,directiveNode.allExtends)),this.allExtendsStack.push(newAllExtends)},visitDirectiveOut:function(){this.allExtendsStack.length=this.allExtendsStack.length-1}}}(require("./tree")),function(tree){tree.sourceMapOutput=function(options){this._css=[],this._rootNode=options.rootNode,this._writeSourceMap=options.writeSourceMap,this._contentsMap=options.contentsMap,this._contentsIgnoredCharsMap=options.contentsIgnoredCharsMap,this._sourceMapFilename=options.sourceMapFilename,this._outputFilename=options.outputFilename,this._sourceMapURL=options.sourceMapURL,options.sourceMapBasepath&&(this._sourceMapBasepath=options.sourceMapBasepath.replace(/\\/g,"/")),this._sourceMapRootpath=options.sourceMapRootpath,this._outputSourceFiles=options.outputSourceFiles,this._sourceMapGeneratorConstructor=options.sourceMapGenerator||require("source-map").SourceMapGenerator,this._sourceMapRootpath&&"/"!==this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)&&(this._sourceMapRootpath+="/"),this._lineNumber=0,this._column=0},tree.sourceMapOutput.prototype.normalizeFilename=function(filename){return filename=filename.replace(/\\/g,"/"),this._sourceMapBasepath&&0===filename.indexOf(this._sourceMapBasepath)&&(filename=filename.substring(this._sourceMapBasepath.length),("\\"===filename.charAt(0)||"/"===filename.charAt(0))&&(filename=filename.substring(1))),(this._sourceMapRootpath||"")+filename
},tree.sourceMapOutput.prototype.add=function(chunk,fileInfo,index,mapLines){if(chunk){var lines,sourceLines,columns,sourceColumns,i;if(fileInfo){var inputSource=this._contentsMap[fileInfo.filename];this._contentsIgnoredCharsMap[fileInfo.filename]&&(index-=this._contentsIgnoredCharsMap[fileInfo.filename],0>index&&(index=0),inputSource=inputSource.slice(this._contentsIgnoredCharsMap[fileInfo.filename])),inputSource=inputSource.substring(0,index),sourceLines=inputSource.split("\n"),sourceColumns=sourceLines[sourceLines.length-1]}if(lines=chunk.split("\n"),columns=lines[lines.length-1],fileInfo)if(mapLines)for(i=0;i<lines.length;i++)this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+i+1,column:0===i?this._column:0},original:{line:sourceLines.length+i,column:0===i?sourceColumns.length:0},source:this.normalizeFilename(fileInfo.filename)});else this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:sourceLines.length,column:sourceColumns.length},source:this.normalizeFilename(fileInfo.filename)});1===lines.length?this._column+=columns.length:(this._lineNumber+=lines.length-1,this._column=columns.length),this._css.push(chunk)}},tree.sourceMapOutput.prototype.isEmpty=function(){return 0===this._css.length},tree.sourceMapOutput.prototype.toCSS=function(env){if(this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null}),this._outputSourceFiles)for(var filename in this._contentsMap)if(this._contentsMap.hasOwnProperty(filename)){var source=this._contentsMap[filename];this._contentsIgnoredCharsMap[filename]&&(source=source.slice(this._contentsIgnoredCharsMap[filename])),this._sourceMapGenerator.setSourceContent(this.normalizeFilename(filename),source)}if(this._rootNode.genCSS(env,this),this._css.length>0){var sourceMapURL,sourceMapContent=JSON.stringify(this._sourceMapGenerator.toJSON());this._sourceMapURL?sourceMapURL=this._sourceMapURL:this._sourceMapFilename&&(sourceMapURL=this.normalizeFilename(this._sourceMapFilename)),this._writeSourceMap?this._writeSourceMap(sourceMapContent):sourceMapURL="data:application/json,"+encodeURIComponent(sourceMapContent),sourceMapURL&&this._css.push("/*# sourceMappingURL="+sourceMapURL+" */")}return this._css.join("")}}(require("./tree"));var isFileProtocol=/^(file|chrome(-extension)?|resource|qrc|app):/.test(location.protocol);less.env=less.env||("127.0.0.1"==location.hostname||"0.0.0.0"==location.hostname||"localhost"==location.hostname||location.port&&location.port.length>0||isFileProtocol?"development":"production");var logLevel={info:2,errors:1,none:0};if(less.logLevel="undefined"!=typeof less.logLevel?less.logLevel:logLevel.info,less.async=less.async||!1,less.fileAsync=less.fileAsync||!1,less.poll=less.poll||(isFileProtocol?1e3:1500),less.functions)for(var func in less.functions)less.functions.hasOwnProperty(func)&&(less.tree.functions[func]=less.functions[func]);var dumpLineNumbers=/!dumpLineNumbers:(comments|mediaquery|all)/.exec(location.hash);dumpLineNumbers&&(less.dumpLineNumbers=dumpLineNumbers[1]);var typePattern=/^text\/(x-)?less$/,cache=null,fileCache={};if(less.watch=function(){return less.watchMode||(less.env="development",initRunningMode()),this.watchMode=!0,!0},less.unwatch=function(){return clearInterval(less.watchTimer),this.watchMode=!1,!1},/!watch/.test(location.hash)&&less.watch(),"development"!=less.env)try{cache="undefined"==typeof window.localStorage?null:window.localStorage}catch(_){}var links=document.getElementsByTagName("link");less.sheets=[];for(var i=0;i<links.length;i++)("stylesheet/less"===links[i].rel||links[i].rel.match(/stylesheet/)&&links[i].type.match(typePattern))&&less.sheets.push(links[i]);less.modifyVars=function(record){less.refresh(!1,record)},less.refresh=function(reload,modifyVars){var startTime,endTime;startTime=endTime=new Date,loadStyleSheets(function(e,root,_,sheet,env){return e?error(e,sheet.href):(env.local?log("loading "+sheet.href+" from cache.",logLevel.info):(log("parsed "+sheet.href+" successfully.",logLevel.info),createCSS(root.toCSS(less),sheet,env.lastModified)),log("css for "+sheet.href+" generated in "+(new Date-endTime)+"ms",logLevel.info),0===env.remaining&&log("css generated in "+(new Date-startTime)+"ms",logLevel.info),void(endTime=new Date))},reload,modifyVars),loadStyles(modifyVars)},less.refreshStyles=loadStyles,less.Parser.fileLoader=loadFile,less.refresh("development"===less.env),"function"==typeof define&&define.amd&&define(function(){return less})}(window),function(window,document,undefined){"use strict";function minErr(module){return function(){var message,i,code=arguments[0],prefix="["+(module?module+":":"")+code+"] ",template=arguments[1],templateArgs=arguments,stringify=function(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof obj?"undefined":"string"!=typeof obj?JSON.stringify(obj):obj};for(message=prefix+template.replace(/\{\d+\}/g,function(match){var arg,index=+match.slice(1,-1);return index+2<templateArgs.length?(arg=templateArgs[index+2],"function"==typeof arg?arg.toString().replace(/ ?\{[\s\S]*$/,""):"undefined"==typeof arg?"undefined":"string"!=typeof arg?toJson(arg):arg):match}),message=message+"\nhttp://errors.angularjs.org/1.2.15-build.2399+sha.ca4ddfa/"+(module?module+"/":"")+code,i=2;i<arguments.length;i++)message=message+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(stringify(arguments[i]));return new Error(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length=obj.length;return 1===obj.nodeType&&length?!0:isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj}function forEach(obj,iterator,context){var key;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key);else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context);else if(isArrayLike(obj))for(key=0;key<obj.length;key++)iterator.call(context,obj[key],key);else for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key);return obj}function sortedKeys(obj){var keys=[];for(var key in obj)obj.hasOwnProperty(key)&&keys.push(key);return keys.sort()}function forEachSorted(obj,iterator,context){for(var keys=sortedKeys(obj),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){for(var digit,index=uid.length;index;){if(index--,digit=uid[index].charCodeAt(0),57==digit)return uid[index]="A",uid.join("");if(90!=digit)return uid[index]=String.fromCharCode(digit+1),uid.join("");uid[index]="0"}return uid.unshift("0"),uid.join("")}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function extend(dst){var h=dst.$$hashKey;return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst[key]=value})}),setHashKey(dst,h),dst}function int(str){return parseInt(str,10)}function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!=value&&"object"==typeof value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isArray(value){return"[object Array]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.document&&obj.location&&obj.alert&&obj.setInterval}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function map(obj,iterator,context){var results=[];return forEach(obj,function(value,index,list){results.push(iterator.call(context,value,index,list))}),results}function includes(array,obj){return-1!=indexOf(array,obj)}function indexOf(array,obj){if(array.indexOf)return array.indexOf(obj);for(var i=0;i<array.length;i++)if(obj===array[i])return i;return-1}function arrayRemove(array,value){var index=indexOf(array,value);return index>=0&&array.splice(index,1),value}function copy(source,destination){if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)destination.push(copy(source[i]))}else{var h=destination.$$hashKey;forEach(destination,function(value,key){delete destination[key]});for(var key in source)destination[key]=copy(source[key]);setHashKey(destination,h)}}else destination=source,source&&(isArray(source)?destination=copy(source,[]):isDate(source)?destination=new Date(source.getTime()):isRegExp(source)?destination=new RegExp(source.source):isObject(source)&&(destination=copy(source,{})));return destination}function shallowCopy(src,dst){dst=dst||{};for(var key in src)!src.hasOwnProperty(key)||"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key]);return dst}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return isDate(o2)&&o1.getTime()==o2.getTime();if(isRegExp(o1)&&isRegExp(o2))return o1.toString()==o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2))return!1;keySet={};for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!keySet.hasOwnProperty(key)&&"$"!==key.charAt(0)&&o2[key]!==undefined&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function csp(){return document.securityPolicy&&document.securityPolicy.isActive||document.querySelector&&!(!document.querySelector("[ng-csp]")&&!document.querySelector("[data-ng-csp]"))}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,curryArgs.concat(slice.call(arguments,0))):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:JSON.stringify(obj,toJsonReplacer,pretty?"  ":null)}function fromJson(json){return isString(json)?JSON.parse(json):json}function toBoolean(value){if("function"==typeof value)value=!0;else if(value&&0!==value.length){var v=lowercase(""+value);value=!("f"==v||"0"==v||"false"==v||"no"==v||"n"==v||"[]"==v)}else value=!1;return value}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var TEXT_NODE=3,elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===TEXT_NODE?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var key_value,key,obj={};return forEach((keyValue||"").split("&"),function(keyValue){if(keyValue&&(key_value=keyValue.split("="),key=tryDecodeURIComponent(key_value[0]),isDefined(key))){var val=isDefined(key_value[1])?tryDecodeURIComponent(key_value[1]):!0;obj[key]?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function angularInit(element,bootstrap){function append(element){element&&elements.push(element)}var appElement,module,elements=[element],names=["ng:app","ng-app","x-ng-app","data-ng-app"],NG_APP_CLASS_REGEXP=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;forEach(names,function(name){names[name]=!0,append(document.getElementById(name)),name=name.replace(":","\\:"),element.querySelectorAll&&(forEach(element.querySelectorAll("."+name),append),forEach(element.querySelectorAll("."+name+"\\:"),append),forEach(element.querySelectorAll("["+name+"]"),append))}),forEach(elements,function(element){if(!appElement){var className=" "+element.className+" ",match=NG_APP_CLASS_REGEXP.exec(className);match?(appElement=element,module=(match[2]||"").replace(/\s+/g,",")):forEach(element.attributes,function(attr){!appElement&&names[attr.name]&&(appElement=element,module=attr.value)})}}),appElement&&bootstrap(appElement,module?[module]:[])}function bootstrap(element,modules){var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag)}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),modules.unshift("ng");var injector=createInjector(modules);return injector.invoke(["$rootScope","$rootElement","$compile","$injector","$animate",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),void(angular.resumeBootstrap=function(extraModules){forEach(extraModules,function(module){modules.push(module)}),doBootstrap()}))}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){jQuery=window.jQuery,jQuery?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),jqLitePatchJQueryRemove("remove",!0,!0,!1),jqLitePatchJQueryRemove("empty",!1,!1,!1),jqLitePatchJQueryRemove("html",!1,!1,!0)):jqLite=JQLite,angular.element=jqLite}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;len>i;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockElements(nodes){var startNode=nodes[0],endNode=nodes[nodes.length-1];if(startNode===endNode)return jqLite(startNode);var element=startNode,elements=[element];do{if(element=element.nextSibling,!element)break;elements.push(element)}while(element!==endNode);return jqLite(elements)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod){return function(){return invokeQueue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],runBlocks=[],config=invokeLater("$injector","invoke"),moduleInstance={_invokeQueue:invokeQueue,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLater("$provide","provider"),factory:invokeLater("$provide","factory"),service:invokeLater("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),animation:invokeLater("$animateProvider","register"),filter:invokeLater("$filterProvider","register"),controller:invokeLater("$controllerProvider","register"),directive:invokeLater("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},$$minErr:minErr,$$csp:csp}),angularModule=setupModuleLoader(window);try{angularModule("ngLocale")}catch(e){angularModule("ngLocale",[]).provider("$locale",$LocaleProvider)}angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,required:requiredDirective,ngRequired:requiredDirective,ngValue:ngValueDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$asyncCallback:$$AsyncCallbackProvider})}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLitePatchJQueryRemove(name,dispatchThis,filterElems,getterIfNoArguments){function removePatch(param){var set,setIndex,setLength,element,childIndex,childLength,children,list=filterElems&&param?[this.filter(param)]:[this],fireEvent=dispatchThis;if(!getterIfNoArguments||null!=param)for(;list.length;)for(set=list.shift(),setIndex=0,setLength=set.length;setLength>setIndex;setIndex++)for(element=jqLite(set[setIndex]),fireEvent?element.triggerHandler("$destroy"):fireEvent=!fireEvent,childIndex=0,childLength=(children=element.children()).length;childLength>childIndex;childIndex++)list.push(jQuery(children[childIndex]));return originalJqFn.apply(this,arguments)}var originalJqFn=jQuery.fn[name];originalJqFn=originalJqFn.$original||originalJqFn,removePatch.$original=originalJqFn,jQuery.fn[name]=removePatch}function JQLite(element){if(element instanceof JQLite)return element;if(isString(element)&&(element=trim(element)),!(this instanceof JQLite)){if(isString(element)&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}if(isString(element)){var div=document.createElement("div");div.innerHTML="<div>&#160;</div>"+element,div.removeChild(div.firstChild),jqLiteAddNodes(this,div.childNodes);var fragment=jqLite(document.createDocumentFragment());fragment.append(this)}else jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element){jqLiteRemoveData(element);for(var i=0,children=element.childNodes||[];i<children.length;i++)jqLiteDealoc(children[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var events=jqLiteExpandoStore(element,"events"),handle=jqLiteExpandoStore(element,"handle");handle&&(isUndefined(type)?forEach(events,function(eventHandler,type){removeEventListenerFn(element,type,eventHandler),delete events[type]}):forEach(type.split(" "),function(type){isUndefined(fn)?(removeEventListenerFn(element,type,events[type]),delete events[type]):arrayRemove(events[type]||[],fn)}))}function jqLiteRemoveData(element,name){var expandoId=element[jqName],expandoStore=jqCache[expandoId];if(expandoStore){if(name)return void delete jqCache[expandoId].data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element[jqName]=undefined}}function jqLiteExpandoStore(element,key,value){var expandoId=element[jqName],expandoStore=jqCache[expandoId||-1];return isDefined(value)?(expandoStore||(element[jqName]=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={}),void(expandoStore[key]=value)):expandoStore&&expandoStore[key]}function jqLiteData(element,key,value){var data=jqLiteExpandoStore(element,"data"),isSetter=isDefined(value),keyDefined=!isSetter&&isDefined(key),isSimpleGetter=keyDefined&&!isObject(key);if(data||isSimpleGetter||jqLiteExpandoStore(element,"data",data={}),isSetter)data[key]=value;else{if(!keyDefined)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}function jqLiteHasClass(element,selector){return element.getAttribute?(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1:!1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements){elements=elements.nodeName||!isDefined(elements.length)||isWindow(elements)?[elements]:elements;for(var i=0;i<elements.length;i++)root.push(elements[i])}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element=jqLite(element),9==element[0].nodeType&&(element=element.find("html"));for(var names=isArray(name)?name:[name];element.length;){for(var i=0,ii=names.length;ii>i;i++)if((value=element.data(names[i]))!==undefined)return value;element=element.parent()}}function jqLiteEmpty(element){for(var i=0,childNodes=element.childNodes;i<childNodes.length;i++)jqLiteDealoc(childNodes[i]);for(;element.firstChild;)element.removeChild(element.firstChild)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[element.nodeName]&&booleanAttr}function createEventHandler(element,events){var eventHandler=function(event,type){if(event.preventDefault||(event.preventDefault=function(){event.returnValue=!1}),event.stopPropagation||(event.stopPropagation=function(){event.cancelBubble=!0}),event.target||(event.target=event.srcElement||document),isUndefined(event.defaultPrevented)){var prevent=event.preventDefault;event.preventDefault=function(){event.defaultPrevented=!0,prevent.call(event)},event.defaultPrevented=!1}event.isDefaultPrevented=function(){return event.defaultPrevented||event.returnValue===!1};var eventHandlersCopy=shallowCopy(events[type||event.type]||[]);forEach(eventHandlersCopy,function(fn){fn.call(element,event)}),8>=msie?(event.preventDefault=null,event.stopPropagation=null,event.isDefaultPrevented=null):(delete event.preventDefault,delete event.stopPropagation,delete event.isDefaultPrevented)};return eventHandler.elem=element,eventHandler}function hashKey(obj){var key,objType=typeof obj;return"object"==objType&&null!==obj?"function"==typeof(key=obj.$$hashKey)?key=obj.$$hashKey():key===undefined&&(key=obj.$$hashKey=nextUid()):key=obj,objType+":"+key}function HashMap(array){forEach(array,this.put,this)}function annotate(fn){var $inject,fnText,argDecl,last;return"function"==typeof fn?($inject=fn.$inject)||($inject=[],fn.length&&(fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})),fn.$inject=$inject):isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0),$inject}function createInjector(modulesToLoad){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function factory(name,factoryFn){return provider(name,{$get:factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val))}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){var moduleFn,invokeQueue,i,ii,runBlocks=[];return forEach(modulesToLoad,function(module){if(!loadedModules.get(module)){loadedModules.put(module,!0);try{if(isString(module))for(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),invokeQueue=moduleFn._invokeQueue,i=0,ii=invokeQueue.length;ii>i;i++){var invokeArgs=invokeQueue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}else isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals){var length,i,key,args=[],$inject=annotate(fn);for(i=0,length=$inject.length;length>i;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key))}return fn.$inject||(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals){var instance,returnedValue,Constructor=function(){};return Constructor.prototype=(isArray(Type)?Type[Type.length-1]:Type).prototype,instance=new Constructor,returnedValue=invoke(Type,instance,locals),isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap,providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(){throw $injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))
}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(servicename){var provider=providerInjector.get(servicename+providerSuffix);return instanceInjector.invoke(provider.$get,provider)});return forEach(loadModules(modulesToLoad),function(fn){instanceInjector.invoke(fn||noop)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return forEach(list,function(element){result||"a"!==lowercase(element.nodeName)||(result=element)}),result}function scroll(){var elm,hash=$location.hash();hash?(elm=document.getElementById(hash))?elm.scrollIntoView():(elm=getFirstAnchor(document.getElementsByName(hash)))?elm.scrollIntoView():"top"===hash&&$window.scrollTo(0,0):$window.scrollTo(0,0)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(){$rootScope.$evalAsync(scroll)}),scroll}]}function $$AsyncCallbackProvider(){this.$get=["$$rAF","$timeout",function($$rAF,$timeout){return $$rAF.supported?function(fn){return $$rAF(fn)}:function(fn){return $timeout(fn,0,!1)}}]}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function startPoller(interval,setTimeout){!function check(){forEach(pollFns,function(pollFn){pollFn()}),pollTimeout=setTimeout(check,interval)}()}function fireUrlChange(){newLocation=null,lastBrowserUrl!=self.url()&&(lastBrowserUrl=self.url(),forEach(urlChangeListeners,function(listener){listener(self.url())}))}var self=this,rawDocument=document[0],location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){forEach(pollFns,function(pollFn){pollFn()}),0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var pollTimeout,pollFns=[];self.addPollFn=function(fn){return isUndefined(pollTimeout)&&startPoller(100,setTimeout),pollFns.push(fn),fn};var lastBrowserUrl=location.href,baseElement=document.find("base"),newLocation=null;self.url=function(url,replace){if(location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){if(lastBrowserUrl==url)return;return lastBrowserUrl=url,$sniffer.history?replace?history.replaceState(null,"",url):(history.pushState(null,"",url),baseElement.attr("href",baseElement.attr("href"))):(newLocation=url,replace?location.replace(url):location.href=url),self}return newLocation||location.href.replace(/%27/g,"'")};var urlChangeListeners=[],urlChangeInit=!1;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",fireUrlChange),$sniffer.hashchange?jqLite(window).on("hashchange",fireUrlChange):self.addPollFn(fireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var lastCookies={},lastCookieString="",cookiePath=self.baseHref();self.cookies=function(name,value){var cookieLength,cookieArray,cookie,i,index;if(!name){if(rawDocument.cookie!==lastCookieString)for(lastCookieString=rawDocument.cookie,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=unescape(cookie.substring(0,index)),lastCookies[name]===undefined&&(lastCookies[name]=unescape(cookie.substring(index+1))));return lastCookies}value===undefined?rawDocument.cookie=escape(name)+"=;path="+cookiePath+";expires=Thu, 01 Jan 1970 00:00:00 GMT":isString(value)&&(cookieLength=(rawDocument.cookie=escape(name)+"="+escape(value)+";path="+cookiePath).length+1,cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"))},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return pendingDeferIds[deferId]?(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0):!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}if(!isUndefined(value))return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}delete data[key],size--},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,TABLE_CONTENT_REGEXP=/^<\s*(tr|th|td|thead|tbody|tfoot)(\s+[^>]*)?>/i,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"A",directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$http,$templateCache,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){3==node.nodeType&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=node=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);return safeAddClass($compileNodes,"ng-scope"),function(scope,cloneConnectFn,transcludeControllers){assertArg(scope,"scope");var $linkNode=cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes;forEach(transcludeControllers,function(instance,name){$linkNode.data("$"+name+"Controller",instance)});for(var i=0,ii=$linkNode.length;ii>i;i++){var node=$linkNode[i],nodeType=node.nodeType;(1===nodeType||9===nodeType)&&$linkNode.eq(i).data("$scope",scope)}return cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode),$linkNode}}function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,boundTranscludeFn){var nodeLinkFn,childLinkFn,node,$node,childScope,childTranscludeFn,i,ii,n,nodeListLength=nodeList.length,stableNodeList=new Array(nodeListLength);for(i=0;nodeListLength>i;i++)stableNodeList[i]=nodeList[i];for(i=0,n=0,ii=linkFns.length;ii>i;n++)node=stableNodeList[n],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],$node=jqLite(node),nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(),$node.data("$scope",childScope)):childScope=scope,childTranscludeFn=nodeLinkFn.transclude,childTranscludeFn||!boundTranscludeFn&&transcludeFn?nodeLinkFn(childLinkFn,childScope,node,$rootElement,createBoundTranscludeFn(scope,childTranscludeFn||transcludeFn)):nodeLinkFn(childLinkFn,childScope,node,$rootElement,boundTranscludeFn)):childLinkFn&&childLinkFn(scope,node.childNodes,undefined,boundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&safeAddClass(jqLite(nodeList[i]),"ng-scope"),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?nodeLinkFn.transclude:transcludeFn),linkFns.push(nodeLinkFn,childLinkFn),linkFnFound=linkFnFound||nodeLinkFn||childLinkFn,previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn){return function(transcludedScope,cloneFn,controllers){var scopeCreated=!1;transcludedScope||(transcludedScope=scope.$new(),transcludedScope.$$transcluded=!0,scopeCreated=!0);var clone=transcludeFn(transcludedScope,cloneFn,controllers);return scopeCreated&&clone.on("$destroy",bind(transcludedScope,transcludedScope.$destroy)),clone}}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case 1:addDirective(directives,directiveNormalize(nodeName_(node).toLowerCase()),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++){var attrStartName=!1,attrEndName=!1;if(attr=nAttrs[j],!msie||msie>=8||attr.specified){name=attr.name,ngAttrName=directiveNormalize(name),NG_ATTR_BINDING.test(ngAttrName)&&(name=snake_case(ngAttrName.substr(6),"-"));var directiveNName=ngAttrName.replace(/(Start|End)$/,"");ngAttrName===directiveNName+"Start"&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,attrs[nName]=value=trim(attr.value),getBooleanAttrName(node,nName)&&(attrs[nName]=!0),addAttrInterpolateDirective(node,directives,value,nName),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}}if(className=node.className,isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case 3:addTextInterpolateDirective(directives,node.nodeValue);break;case 8:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);1==node.nodeType&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))}function getControllers(require,$element,elementControllers){var value,retrievalMethod="data",optional=!1;if(isString(require)){for(;"^"==(value=require.charAt(0))||"?"==value;)require=require.substr(1),"^"==value&&(retrievalMethod="inheritedData"),optional=optional||"?"==value;if(value=null,elementControllers&&"data"===retrievalMethod&&(value=elementControllers[require]),value=value||$element[retrievalMethod]("$"+require+"Controller"),!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",require,directiveName);return value}return isArray(require)&&(value=[],forEach(require,function(require){value.push(getControllers(require,$element,elementControllers))})),value}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn){var transcludeControllers;return arguments.length<2&&(cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers)}var attrs,$element,i,ii,linkFn,controller,isolateScope,transcludeFn,elementControllers={};if(attrs=compileNode===linkNode?templateAttrs:shallowCopy(templateAttrs,new Attributes(jqLite(linkNode),templateAttrs.$attr)),$element=attrs.$$element,newIsolateScopeDirective){var LOCAL_REGEXP=/^\s*([@=&])(\??)\s*(\w*)\s*$/,$linkNode=jqLite(linkNode);isolateScope=scope.$new(!0),templateDirective&&templateDirective===newIsolateScopeDirective.$$originalDirective?$linkNode.data("$isolateScope",isolateScope):$linkNode.data("$isolateScopeNoTemplate",isolateScope),safeAddClass($linkNode,"ng-isolate-scope"),forEach(newIsolateScopeDirective.scope,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,match=definition.match(LOCAL_REGEXP)||[],attrName=match[3]||scopeName,optional="?"==match[2],mode=match[1];switch(isolateScope.$$isolateBindings[scopeName]=mode+attrName,mode){case"@":attrs.$observe(attrName,function(value){isolateScope[scopeName]=value}),attrs.$$observers[attrName].$$scope=scope,attrs[attrName]&&(isolateScope[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(optional&&!attrs[attrName])return;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b},parentSet=parentGet.assign||function(){throw lastValue=isolateScope[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],newIsolateScopeDirective.name)},lastValue=isolateScope[scopeName]=parentGet(scope),isolateScope.$watch(function(){var parentValue=parentGet(scope);return compare(parentValue,isolateScope[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=isolateScope[scopeName]):isolateScope[scopeName]=parentValue),lastValue=parentValue},null,parentGet.literal);break;case"&":parentGet=$parse(attrs[attrName]),isolateScope[scopeName]=function(locals){return parentGet(scope,locals)};break;default:throw $compileMinErr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",newIsolateScopeDirective.name,scopeName,definition)}})}for(transcludeFn=boundTranscludeFn&&controllersBoundTransclude,controllerDirectives&&forEach(controllerDirectives,function(directive){var controllerInstance,locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};controller=directive.controller,"@"==controller&&(controller=attrs[directive.name]),controllerInstance=$controller(controller,locals),elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance),directive.controllerAs&&(locals.$scope[directive.controllerAs]=controllerInstance)}),i=0,ii=preLinkFns.length;ii>i;i++)try{linkFn=preLinkFns[i],linkFn(linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.require,$element,elementControllers),transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)try{linkFn=postLinkFns[i],linkFn(linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.require,$element,elementControllers),transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}previousCompileContext=previousCompileContext||{};for(var newScopeDirective,directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;ii>i;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(newScopeDirective=newScopeDirective||directive,directive.templateUrl||(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode),isObject(directiveValue)&&(newIsolateScopeDirective=directive))),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||{},assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=groupScan(compileNode,attrStart,attrEnd),$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,jqLite(sliceArgs($template)),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=directiveTemplateContents(directiveValue),compileNode=$template[0],1!=$template.length||1!==compileNode.nodeType)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transclude=hasTranscludeDirective&&childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;jj>j;j++)directives[j]=inherit(directives[j],{$$isolateScope:!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i],(maxPriority===undefined||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)}catch(e){$exceptionHandler(e)}return match}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function directiveTemplateContents(template){var type;if(template=trim(template),type=TABLE_CONTENT_REGEXP.exec(template)){type=type[1].toLowerCase();var table=jqLite("<table>"+template+"</table>");return/(thead|tbody|tfoot)/.test(type)?table.children(type):(table=table.children("tbody"),"tr"===type?table.children("tr"):table.children("tr").contents())}return jqLite("<div>"+template+"</div>").contents()}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=extend({},origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl;return $compileNode.empty(),$http.get($sce.getTrustedResourceUrl(templateUrl),{cache:$templateCache}).success(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=directiveTemplateContents(content),compileNode=$template[0],1!=$template.length||1!==compileNode.nodeType)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transclude?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}linkQueue=null}).error(function(response,code,headers,config){throw $compileMinErr("tpload","Failed to load template: {0}",config.url)}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){linkQueue?(linkQueue.push(scope),linkQueue.push(node),linkQueue.push(rootElement),linkQueue.push(boundTranscludeFn)):afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,boundTranscludeFn)}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",previousDirective.name,directive.name,what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:valueFn(function(scope,node){var parent=node.parent(),bindings=parent.data("$binding")||[];bindings.push(interpolateFn),safeAddClass(parent.data("$binding",bindings),"ng-binding"),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})})})}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"FORM"==tag&&"action"==attrNormalizedName||"IMG"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name){var interpolateFn=$interpolate(value,!0);if(interpolateFn){if("multiple"===name&&"SELECT"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");interpolateFn=$interpolate(attr[name],!0,getTrustedContext(node,name)),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;jj>j;j++,j2++)jj>j2?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1;break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();
fragment.appendChild(firstElementToRemove),newNode[jqLite.expando]=firstElementToRemove[jqLite.expando];for(var k=1,kk=elementsToRemove.length;kk>k;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}var Attributes=function(element,attr){this.$$element=element,this.$attr=attr||{}};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses),toRemove=tokenDifference(oldClasses,newClasses);0===toAdd.length?$animate.removeClass(this.$$element,toRemove):0===toRemove.length?$animate.addClass(this.$$element,toAdd):$animate.setClass(this.$$element,toAdd,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,booleanKey=getBooleanAttrName(this.$$element[0],key);booleanKey&&(this.$$element.prop(key,value),attrName=booleanKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),("A"===nodeName&&"href"===key||"IMG"===nodeName&&"src"===key)&&(this[key]=value=$$sanitizeUri(value,"src"===key)),writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[key],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers={}),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){listeners.$$inter||fn(attrs[key])}),fn}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function $ControllerProvider(){var controllers={},CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.$get=["$injector","$window",function($injector,$window){return function(expression,locals){var instance,match,constructor,identifier;if(isString(expression)&&(match=expression.match(CNTRL_REG),constructor=match[1],identifier=match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||getter($window,constructor,!0),assertArgFn(expression,constructor,!0)),instance=$injector.instantiate(expression,locals),identifier){if(!locals||"object"!=typeof locals.$scope)throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",constructor||expression.name,identifier);locals.$scope[identifier]=instance}return instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(){$log.error.apply($log,arguments)}}]}function parseHeaders(headers){var key,val,i,parsed={};return headers?(forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=lowercase(trim(line.substr(0,i))),val=trim(line.substr(i+1)),key&&(parsed[key]?parsed[key]+=", "+val:parsed[key]=val)}),parsed):parsed}function headersGetter(headers){var headersObj=isObject(headers)?headers:undefined;return function(name){return headersObj||(headersObj=parseHeaders(headers)),name?headersObj[lowercase(name)]||null:headersObj}}function transformData(data,headers,fns){return isFunction(fns)?fns(data,headers):(forEach(fns,function(fn){data=fn(data,headers)}),data)}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var JSON_START=/^\s*(\[|\{[^\{])/,JSON_END=/[\}\]]\s*$/,PROTECTION_PREFIX=/^\)\]\}',?\n/,CONTENT_TYPE_APPLICATION_JSON={"Content-Type":"application/json;charset=utf-8"},defaults=this.defaults={transformResponse:[function(data){return isString(data)&&(data=data.replace(PROTECTION_PREFIX,""),JSON_START.test(data)&&JSON_END.test(data)&&(data=fromJson(data))),data}],transformRequest:[function(d){return isObject(d)&&!isFile(d)?toJson(d):d}],headers:{common:{Accept:"application/json, text/plain, */*"},post:copy(CONTENT_TYPE_APPLICATION_JSON),put:copy(CONTENT_TYPE_APPLICATION_JSON),patch:copy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},interceptorFactories=this.interceptors=[],responseInterceptorFactories=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$browser,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response,{data:transformData(response.data,response.headers,config.transformResponse)});return isSuccess(response.status)?resp:$q.reject(resp)}function mergeHeaders(config){function execHeaders(headers){var headerContent;forEach(headers,function(headerFn,header){isFunction(headerFn)&&(headerContent=headerFn(),null!=headerContent?headers[header]=headerContent:delete headers[header])})}var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]),execHeaders(defHeaders),execHeaders(reqHeaders);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return reqHeaders}var config={method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse},headers=mergeHeaders(requestConfig);extend(config,requestConfig),config.headers=headers,config.method=uppercase(config.method);var xsrfValue=urlIsSameOrigin(config.url)?$browser.cookies()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;xsrfValue&&(headers[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue);var serverRequest=function(config){headers=config.headers;var reqData=transformData(config.data,headersGetter(headers),config.transformRequest);return isUndefined(config.data)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData,headers).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise},promise}function createShortMethods(){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend(config||{},{method:name,url:url}))}})}function createShortMethodsWithData(){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend(config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData,reqHeaders){function done(status,response,headersString){cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString)]):cache.remove(url)),resolvePromise(response,status,headersString),$rootScope.$$phase||$rootScope.$apply()}function resolvePromise(response,status,headers){status=Math.max(status,0),(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config})}function removePendingReq(){var idx=indexOf($http.pendingRequests,config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,url=buildUrl(config.url,config.params);if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),(config.cache||defaults.cache)&&config.cache!==!1&&"GET"==config.method&&(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache)if(cachedResp=cache.get(url),isDefined(cachedResp)){if(cachedResp.then)return cachedResp.then(removePendingReq,removePendingReq),cachedResp;isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],copy(cachedResp[2])):resolvePromise(cachedResp,200,{})}else cache.put(url,promise);return isUndefined(cachedResp)&&$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType),promise}function buildUrl(url,params){if(!params)return url;var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)||(value=[value]),forEach(value,function(v){isObject(v)&&(v=toJson(v)),parts.push(encodeUriQuery(key)+"="+encodeUriQuery(v))}))}),parts.length>0&&(url+=(-1==url.indexOf("?")?"?":"&")+parts.join("&")),url}var defaultCache=$cacheFactory("$http"),reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),forEach(responseInterceptorFactories,function(interceptorFactory,index){var responseFn=isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory);reversedInterceptors.splice(index,0,{response:function(response){return responseFn($q.when(response))},responseError:function(response){return responseFn($q.reject(response))}})}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put"),$http.defaults=defaults,$http}]}function createXhr(method){if(8>=msie&&(!method.match(/^(get|post|head|put|delete|options)$/i)||!window.XMLHttpRequest))return new window.ActiveXObject("Microsoft.XMLHTTP");if(window.XMLHttpRequest)return new window.XMLHttpRequest;throw minErr("$httpBackend")("noxhr","This browser does not support XMLHttpRequest.")}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,done){var script=rawDocument.createElement("script"),doneWrapper=function(){script.onreadystatechange=script.onload=script.onerror=null,rawDocument.body.removeChild(script),done&&done()};return script.type="text/javascript",script.src=url,msie&&8>=msie?script.onreadystatechange=function(){/loaded|complete/.test(script.readyState)&&doneWrapper()}:script.onload=script.onerror=function(){doneWrapper()},rawDocument.body.appendChild(script),doneWrapper}var ABORTED=-1;return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){status=ABORTED,jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString){timeoutId&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,status=0===status?response?200:404:status,status=1223==status?204:status,callback(status,response,headersString),$browser.$$completeOutstandingRequest(noop)}var status;if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),function(){callbacks[callbackId].data?completeRequest(callback,200,callbacks[callbackId].data):completeRequest(callback,status||-2),callbacks[callbackId]=angular.noop})}else{var xhr=createXhr(method);if(xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onreadystatechange=function(){if(xhr&&4==xhr.readyState){var responseHeaders=null,response=null;status!==ABORTED&&(responseHeaders=xhr.getAllResponseHeaders(),response="response"in xhr?xhr.response:xhr.responseText),completeRequest(callback,status||xhr.status,response,responseHeaders)}},withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(post||null)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else timeout&&timeout.then&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function $interpolate(text,mustHaveExpression,trustedContext){for(var startIndex,endIndex,fn,exp,index=0,parts=[],length=text.length,hasInterpolation=!1,concat=[];length>index;)-1!=(startIndex=text.indexOf(startSymbol,index))&&-1!=(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))?(index!=startIndex&&parts.push(text.substring(index,startIndex)),parts.push(fn=$parse(exp=text.substring(startIndex+startSymbolLength,endIndex))),fn.exp=exp,index=endIndex+endSymbolLength,hasInterpolation=!0):(index!=length&&parts.push(text.substring(index)),index=length);if((length=parts.length)||(parts.push(""),length=1),trustedContext&&parts.length>1)throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text);return!mustHaveExpression||hasInterpolation?(concat.length=length,fn=function(context){try{for(var part,i=0,ii=length;ii>i;i++)"function"==typeof(part=parts[i])&&(part=part(context),part=trustedContext?$sce.getTrusted(trustedContext,part):$sce.valueOf(part),null===part||isUndefined(part)?part="":"string"!=typeof part&&(part=toJson(part))),concat[i]=part;return concat.join("")}catch(err){var newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}},fn.exp=text,fn.parts=parts,fn):void 0}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length;return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q",function($rootScope,$window,$q){function interval(fn,delay,count,invokeApply){var setInterval=$window.setInterval,clearInterval=$window.clearInterval,deferred=$q.defer(),promise=deferred.promise,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply;return count=isDefined(count)?count:0,promise.then(null,null,fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return promise&&promise.$$intervalId in intervals?(intervals[promise.$$intervalId].reject("canceled"),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0):!1},interval}]}function $LocaleProvider(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(num){return 1===num?"one":"other"}}}}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj,appBase){var parsedUrl=urlResolve(absoluteUrl,appBase);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=int(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj,appBase){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl,appBase);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){return 0===whole.indexOf(begin)?whole.substr(begin.length):void 0}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"";var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this,appBase),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this,appBase),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$rewrite=function(url){var appUrl,prevAppUrl;return(appUrl=beginsWith(appBase,url))!==undefined?(prevAppUrl=appUrl,(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):(appUrl=beginsWith(appBaseNoFile,url))!==undefined?appBaseNoFile+appUrl:appBaseNoFile==url+"/"?appBaseNoFile:void 0}}function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this,appBase),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/?.*?:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url),withoutHashUrl="#"==withoutBaseUrl.charAt(0)?beginsWith(hashPrefix,withoutBaseUrl):this.$$html5?withoutBaseUrl:"";if(!isString(withoutHashUrl))throw $locationMinErr("ihshprfx",'Invalid url "{0}", missing hash prefix "{1}".',url,hashPrefix);parseAppUrl(withoutHashUrl,this,appBase),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$rewrite=function(url){return stripHash(appBase)==stripHash(url)?url:void 0}}function LocationHashbangInHtml5Url(appBase,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$rewrite=function(url){var appUrl;return appBase==stripHash(url)?url:(appUrl=beginsWith(appBaseNoFile,url))?appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"?appBaseNoFile:void 0}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode=!1;this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isDefined(mode)?(html5Mode=mode,this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function($rootScope,$browser,$sniffer,$rootElement){function afterLocationChange(oldUrl){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();html5Mode?(appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url):(appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl),$location=new LocationMode(appBase,"#"+hashPrefix),$location.$$parse($location.$$rewrite(initialUrl)),$rootElement.on("click",function(event){if(!event.ctrlKey&&!event.metaKey&&2!=event.which){for(var elm=jqLite(event.target);"a"!==lowercase(elm[0].nodeName);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href);var rewrittenUrl=$location.$$rewrite(absHref);absHref&&!elm.attr("target")&&rewrittenUrl&&!event.isDefaultPrevented()&&(event.preventDefault(),rewrittenUrl!=$browser.url()&&($location.$$parse(rewrittenUrl),$rootScope.$apply(),window.angular["ff-684208-preventDefault"]=!0))}}),$location.absUrl()!=initialUrl&&$browser.url($location.absUrl(),!0),$browser.onUrlChange(function(newUrl){$location.absUrl()!=newUrl&&($rootScope.$evalAsync(function(){var oldUrl=$location.absUrl();$location.$$parse(newUrl),$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl).defaultPrevented?($location.$$parse(oldUrl),$browser.url(oldUrl)):afterLocationChange(oldUrl)}),$rootScope.$$phase||$rootScope.$digest())});var changeCounter=0;return $rootScope.$watch(function(){var oldUrl=$browser.url(),currentReplace=$location.$$replace;return changeCounter&&oldUrl==$location.absUrl()||(changeCounter++,$rootScope.$evalAsync(function(){$rootScope.$broadcast("$locationChangeStart",$location.absUrl(),oldUrl).defaultPrevented?$location.$$parse(oldUrl):($browser.url($location.absUrl(),currentReplace),afterLocationChange(oldUrl))})),$location.$$replace=!1,changeCounter}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("constructor"===name)throw $parseMinErr("isecfld",'Referencing "constructor" field in Angular expressions is disallowed! Expression: {0}',fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.document&&obj.location&&obj.alert&&obj.setInterval)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function setter(obj,path,setValue,fullExp,options){options=options||{};for(var key,element=path.split("."),i=0;element.length>1;i++){key=ensureSafeMemberName(element.shift(),fullExp);var propertyObj=obj[key];propertyObj||(propertyObj={},obj[key]=propertyObj),obj=propertyObj,obj.then&&options.unwrapPromises&&(promiseWarning(fullExp),"$$v"in obj||!function(promise){promise.then(function(val){promise.$$v=val})}(obj),obj.$$v===undefined&&(obj.$$v={}),obj=obj.$$v)}return key=ensureSafeMemberName(element.shift(),fullExp),obj[key]=setValue,setValue}function cspSafeGetterFn(key0,key1,key2,key3,key4,fullExp,options){return ensureSafeMemberName(key0,fullExp),ensureSafeMemberName(key1,fullExp),ensureSafeMemberName(key2,fullExp),ensureSafeMemberName(key3,fullExp),ensureSafeMemberName(key4,fullExp),options.unwrapPromises?function(scope,locals){var promise,pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null==pathVal?pathVal:(pathVal=pathVal[key0],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key1?null==pathVal?undefined:(pathVal=pathVal[key1],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key2?null==pathVal?undefined:(pathVal=pathVal[key2],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key3?null==pathVal?undefined:(pathVal=pathVal[key3],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),key4?null==pathVal?undefined:(pathVal=pathVal[key4],pathVal&&pathVal.then&&(promiseWarning(fullExp),"$$v"in pathVal||(promise=pathVal,promise.$$v=undefined,promise.then(function(val){promise.$$v=val})),pathVal=pathVal.$$v),pathVal):pathVal):pathVal):pathVal):pathVal)}:function(scope,locals){var pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null==pathVal?pathVal:(pathVal=pathVal[key0],key1?null==pathVal?undefined:(pathVal=pathVal[key1],key2?null==pathVal?undefined:(pathVal=pathVal[key2],key3?null==pathVal?undefined:(pathVal=pathVal[key3],key4?null==pathVal?undefined:pathVal=pathVal[key4]:pathVal):pathVal):pathVal):pathVal)}}function simpleGetterFn1(key0,fullExp){return ensureSafeMemberName(key0,fullExp),function(scope,locals){return null==scope?undefined:(locals&&locals.hasOwnProperty(key0)?locals:scope)[key0]}}function simpleGetterFn2(key0,key1,fullExp){return ensureSafeMemberName(key0,fullExp),ensureSafeMemberName(key1,fullExp),function(scope,locals){return null==scope?undefined:(scope=(locals&&locals.hasOwnProperty(key0)?locals:scope)[key0],null==scope?undefined:scope[key1])}}function getterFn(path,options,fullExp){if(getterFnCache.hasOwnProperty(path))return getterFnCache[path];var fn,pathKeys=path.split("."),pathKeysLength=pathKeys.length;if(options.unwrapPromises||1!==pathKeysLength)if(options.unwrapPromises||2!==pathKeysLength)if(options.csp)fn=6>pathKeysLength?cspSafeGetterFn(pathKeys[0],pathKeys[1],pathKeys[2],pathKeys[3],pathKeys[4],fullExp,options):function(scope,locals){var val,i=0;do val=cspSafeGetterFn(pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],fullExp,options)(scope,locals),locals=undefined,scope=val;while(pathKeysLength>i);return val};else{var code="var p;\n";forEach(pathKeys,function(key,index){ensureSafeMemberName(key,fullExp),code+="if(s == null) return undefined;\ns="+(index?"s":'((k&&k.hasOwnProperty("'+key+'"))?k:s)')+'["'+key+'"];\n'+(options.unwrapPromises?'if (s && s.then) {\n pw("'+fullExp.replace(/(["\r\n])/g,"\\$1")+'");\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n':"")}),code+="return s;";var evaledFnGetter=new Function("s","k","pw",code);evaledFnGetter.toString=valueFn(code),fn=options.unwrapPromises?function(scope,locals){return evaledFnGetter(scope,locals,promiseWarning)}:evaledFnGetter}else fn=simpleGetterFn2(pathKeys[0],pathKeys[1],fullExp);else fn=simpleGetterFn1(pathKeys[0],fullExp);return"hasOwnProperty"!==path&&(getterFnCache[path]=fn),fn}function $ParseProvider(){var cache={},$parseOptions={csp:!1,unwrapPromises:!1,logPromiseWarnings:!0};this.unwrapPromises=function(value){return isDefined(value)?($parseOptions.unwrapPromises=!!value,this):$parseOptions.unwrapPromises},this.logPromiseWarnings=function(value){return isDefined(value)?($parseOptions.logPromiseWarnings=value,this):$parseOptions.logPromiseWarnings},this.$get=["$filter","$sniffer","$log",function($filter,$sniffer,$log){return $parseOptions.csp=$sniffer.csp,promiseWarning=function(fullExp){$parseOptions.logPromiseWarnings&&!promiseWarningCache.hasOwnProperty(fullExp)&&(promiseWarningCache[fullExp]=!0,$log.warn("[$parse] Promise found in the expression `"+fullExp+"`. Automatic unwrapping of promises in Angular expressions is deprecated."))},function(exp){var parsedExpression;switch(typeof exp){case"string":if(cache.hasOwnProperty(exp))return cache[exp];var lexer=new Lexer($parseOptions),parser=new Parser(lexer,$filter,$parseOptions);return parsedExpression=parser.parse(exp,!1),"hasOwnProperty"!==exp&&(cache[exp]=parsedExpression),parsedExpression;case"function":return exp;default:return noop}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function defaultCallback(value){return value}function defaultErrback(reason){return reject(reason)}function all(promises){var deferred=defer(),counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,ref(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise
}var defer=function(){var value,deferred,pending=[];return deferred={resolve:function(val){if(pending){var callbacks=pending;pending=undefined,value=ref(val),callbacks.length&&nextTick(function(){for(var callback,i=0,ii=callbacks.length;ii>i;i++)callback=callbacks[i],value.then(callback[0],callback[1],callback[2])})}},reject:function(reason){deferred.resolve(createInternalRejectedPromise(reason))},notify:function(progress){if(pending){var callbacks=pending;pending.length&&nextTick(function(){for(var callback,i=0,ii=callbacks.length;ii>i;i++)callback=callbacks[i],callback[2](progress)})}},promise:{then:function(callback,errback,progressback){var result=defer(),wrappedCallback=function(value){try{result.resolve((isFunction(callback)?callback:defaultCallback)(value))}catch(e){result.reject(e),exceptionHandler(e)}},wrappedErrback=function(reason){try{result.resolve((isFunction(errback)?errback:defaultErrback)(reason))}catch(e){result.reject(e),exceptionHandler(e)}},wrappedProgressback=function(progress){try{result.notify((isFunction(progressback)?progressback:defaultCallback)(progress))}catch(e){exceptionHandler(e)}};return pending?pending.push([wrappedCallback,wrappedErrback,wrappedProgressback]):value.then(wrappedCallback,wrappedErrback,wrappedProgressback),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback){function makePromise(value,resolved){var result=defer();return resolved?result.resolve(value):result.reject(value),result.promise}function handleCallback(value,isResolved){var callbackOutput=null;try{callbackOutput=(callback||defaultCallback)()}catch(e){return makePromise(e,!1)}return callbackOutput&&isFunction(callbackOutput.then)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)}return this.then(function(value){return handleCallback(value,!0)},function(error){return handleCallback(error,!1)})}}}},ref=function(value){return value&&isFunction(value.then)?value:{then:function(callback){var result=defer();return nextTick(function(){result.resolve(callback(value))}),result.promise}}},reject=function(reason){var result=defer();return result.reject(reason),result.promise},createInternalRejectedPromise=function(reason){return{then:function(callback,errback){var result=defer();return nextTick(function(){try{result.resolve((isFunction(errback)?errback:defaultErrback)(reason))}catch(e){result.reject(e),exceptionHandler(e)}}),result.promise}}},when=function(value,callback,errback,progressback){var done,result=defer(),wrappedCallback=function(value){try{return(isFunction(callback)?callback:defaultCallback)(value)}catch(e){return exceptionHandler(e),reject(e)}},wrappedErrback=function(reason){try{return(isFunction(errback)?errback:defaultErrback)(reason)}catch(e){return exceptionHandler(e),reject(e)}},wrappedProgressback=function(progress){try{return(isFunction(progressback)?progressback:defaultCallback)(progress)}catch(e){exceptionHandler(e)}};return nextTick(function(){ref(value).then(function(value){done||(done=!0,result.resolve(ref(value).then(wrappedCallback,wrappedErrback,wrappedProgressback)))},function(reason){done||(done=!0,result.resolve(wrappedErrback(reason)))},function(progress){done||result.notify(wrappedProgressback(progress))})}),result.promise};return{defer:defer,reject:reject,when:when,all:all}}function $$RAFProvider(){this.$get=["$window",function($window){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame,raf=function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}};return raf.supported=!!requestAnimationFrame,raf}]}function $RootScopeProvider(){var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$postDigestQueue=[],this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings={}}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function compileToFn(exp,name){var fn=$parse(exp);return assertArgFn(fn,name),fn}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}Scope.prototype={constructor:Scope,$new:function(isolate){var ChildScope,child;return isolate?(child=new Scope,child.$root=this.$root,child.$$asyncQueue=this.$$asyncQueue,child.$$postDigestQueue=this.$$postDigestQueue):(ChildScope=function(){},ChildScope.prototype=this,child=new ChildScope,child.$id=nextUid()),child["this"]=child,child.$$listeners={},child.$$listenerCount={},child.$parent=this,child.$$watchers=child.$$nextSibling=child.$$childHead=child.$$childTail=null,child.$$prevSibling=this.$$childTail,this.$$childHead?(this.$$childTail.$$nextSibling=child,this.$$childTail=child):this.$$childHead=this.$$childTail=child,child},$watch:function(watchExp,listener,objectEquality){var scope=this,get=compileToFn(watchExp,"watch"),array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:watchExp,eq:!!objectEquality};if(lastDirtyWatch=null,!isFunction(listener)){var listenFn=compileToFn(listener||noop,"listener");watcher.fn=function(newVal,oldVal,scope){listenFn(scope)}}if("string"==typeof watchExp&&get.constant){var originalFn=watcher.fn;watcher.fn=function(newVal,oldVal,scope){originalFn.call(this,newVal,oldVal,scope),arrayRemove(array,watcher)}}return array||(array=scope.$$watchers=[]),array.unshift(watcher),function(){arrayRemove(array,watcher),lastDirtyWatch=null}},$watchCollection:function(obj,listener){function $watchCollectionWatch(){newValue=objGetter(self);var newLength,key;if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;newLength>i;i++)oldValue[i]!==newValue[i]&&(changeDetected++,oldValue[i]=newValue[i])}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)newValue.hasOwnProperty(key)&&(newLength++,oldValue.hasOwnProperty(key)?oldValue[key]!==newValue[key]&&(changeDetected++,oldValue[key]=newValue[key]):(oldLength++,oldValue[key]=newValue[key],changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)oldValue.hasOwnProperty(key)&&!newValue.hasOwnProperty(key)&&(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}function $watchCollectionAction(){listener(newValue,oldValue,self)}var oldValue,newValue,self=this,changeDetected=0,objGetter=$parse(obj),internalArray=[],internalObject={},oldLength=0;return this.$watch($watchCollectionWatch,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,logMsg,asyncTask,asyncQueue=this.$$asyncQueue,postDigestQueue=this.$$postDigestQueue,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression)}catch(e){clearPhase(),$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value):value,watch.fn(value,last===initWatchVal?value:last,current),5>ttl&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),logMsg=isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,logMsg+="; newVal: "+toJson(value)+"; oldVal: "+toJson(last),watchLog[logIdx].push(logMsg))}catch(e){clearPhase(),$exceptionHandler(e)}if(!(next=current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,toJson(watchLog))}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$rootScope&&(forEach(this.$$listenerCount,bind(null,decrementListenerCount,this)),parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null)}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr){$rootScope.$$phase||$rootScope.$$asyncQueue.length||$browser.defer(function(){$rootScope.$$asyncQueue.length&&$rootScope.$digest()}),this.$$asyncQueue.push({scope:this,expression:expr})},$$postDigest:function(fn){this.$$postDigestQueue.push(fn)},$apply:function(expr){try{return beginPhase("$apply"),this.$eval(expr)}catch(e){$exceptionHandler(e)}finally{clearPhase();try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){namedListeners[indexOf(namedListeners,listener)]=null,decrementListenerCount(self,1,name)}},$emit:function(name){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;length>i;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event;scope=scope.$parent}while(scope);return event},$broadcast:function(name){for(var listeners,i,length,target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;length>i;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event}};var $rootScope=new Scope;return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*(https?|ftp|file):|data:image\//;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return msie&&!(msie>=8)||(normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex))?uri:"unsafe:"+normalizedVal}}}function escapeForRegexp(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;n>i;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;n>i;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||trustedValue===undefined||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||maybeTrusted===undefined||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sniffer","$sceDelegate",function($parse,$sniffer,$sceDelegate){if(enabled&&$sniffer.msie&&$sniffer.msieDocumentMode<8)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 9 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=copy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:function(self,locals){return sce.getTrusted(type,parsed(self,locals))}};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=int((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},documentMode=document.documentMode,vendorRegex=/^(Moz|webkit|O|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(document.body.style.webkitTransition),animations=isString(document.body.style.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||4>android||boxee),hashchange:"onhashchange"in $window&&(!documentMode||documentMode>7),hasEvent:function(event){if("input"==event&&9==msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android,msie:msie,msieDocumentMode:documentMode}}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function($rootScope,$browser,$q,$exceptionHandler){function timeout(fn,delay,invokeApply){var timeoutId,deferred=$q.defer(),promise=deferred.promise,skipApply=isDefined(invokeApply)&&!invokeApply;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn())}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return promise&&promise.$$timeoutId in deferreds?(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId)):!1},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArray(array))return array;var comparatorType=typeof comparator,predicates=[];predicates.check=function(value){for(var j=0;j<predicates.length;j++)if(!predicates[j](value))return!1;return!0},"function"!==comparatorType&&(comparator="boolean"===comparatorType&&comparator?function(obj,text){return angular.equals(obj,text)}:function(obj,text){if(obj&&text&&"object"==typeof obj&&"object"==typeof text){for(var objKey in obj)if("$"!==objKey.charAt(0)&&hasOwnProperty.call(obj,objKey)&&comparator(obj[objKey],text[objKey]))return!0;return!1}return text=(""+text).toLowerCase(),(""+obj).toLowerCase().indexOf(text)>-1});var search=function(obj,text){if("string"==typeof text&&"!"===text.charAt(0))return!search(obj,text.substr(1));switch(typeof obj){case"boolean":case"number":case"string":return comparator(obj,text);case"object":switch(typeof text){case"object":return comparator(obj,text);default:for(var objKey in obj)if("$"!==objKey.charAt(0)&&search(obj[objKey],text))return!0}return!1;case"array":for(var i=0;i<obj.length;i++)if(search(obj[i],text))return!0;return!1;default:return!1}};switch(typeof expression){case"boolean":case"number":case"string":expression={$:expression};case"object":for(var key in expression)!function(path){"undefined"!=typeof expression[path]&&predicates.push(function(value){return search("$"==path?value:value&&value[path],expression[path])})}(key);break;case"function":predicates.push(expression);break;default:return array}for(var filtered=[],j=0;j<array.length;j++){var value=array[j];predicates.check(value)&&filtered.push(value)}return filtered}}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,2).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(null==number||!isFinite(number)||isObject(number))return"";var isNegative=0>number;number=Math.abs(number);var numStr=number+"",formatedText="",parts=[],hasExponent=!1;if(-1!==numStr.indexOf("e")){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?numStr="0":(formatedText=numStr,hasExponent=!0)}if(hasExponent)fractionSize>0&&number>-1&&1>number&&(formatedText=number.toFixed(fractionSize));else{var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac));var pow=Math.pow(10,fractionSize);number=Math.round(number*pow)/pow;var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group)for(pos=whole.length-lgroup,i=0;pos>i;i++)(pos-i)%group===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(i=pos;i<whole.length;i++)(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return parts.push(isNegative?pattern.negPre:pattern.posPre),parts.push(formatedText),parts.push(isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&-12==offset&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date){var zone=-1*date.getTimezoneOffset(),paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(4>=dayOfWeekOnFirst?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=int(match[9]+match[10]),tzMin=int(match[9]+match[11])),dateSetter.call(date,int(match[1]),int(match[2])-1,int(match[3]));var h=int(match[4]||0)-tzHour,m=int(match[5]||0)-tzMin,s=int(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?int(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);return forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object){return toJson(object,!0)}}function limitToFilter(){return function(input,limit){if(!isArray(input)&&!isString(input))return input;if(limit=int(limit),isString(input))return limit?limit>=0?input.slice(0,limit):input.slice(limit,input.length):"";var i,n,out=[];for(limit>input.length?limit=input.length:limit<-input.length&&(limit=-input.length),limit>0?(i=0,n=limit):(i=input.length+limit,n=input.length);n>i;i++)out.push(input[i]);return out}}function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){function comparator(o1,o2){for(var i=0;i<sortPredicate.length;i++){var comp=sortPredicate[i](o1,o2);if(0!==comp)return comp}return 0}function reverseComparator(comp,descending){return toBoolean(descending)?function(a,b){return comp(b,a)}:comp}function compare(v1,v2){var t1=typeof v1,t2=typeof v2;return t1==t2?("string"==t1&&(v1=v1.toLowerCase(),v2=v2.toLowerCase()),v1===v2?0:v2>v1?-1:1):t2>t1?-1:1}if(!isArray(array))return array;if(!sortPredicate)return array;sortPredicate=isArray(sortPredicate)?sortPredicate:[sortPredicate],sortPredicate=map(sortPredicate,function(predicate){var descending=!1,get=predicate||identity;return isString(predicate)&&(("+"==predicate.charAt(0)||"-"==predicate.charAt(0))&&(descending="-"==predicate.charAt(0),predicate=predicate.substring(1)),get=$parse(predicate)),reverseComparator(function(a,b){return compare(get(a),get(b))},descending)});for(var arrayCopy=[],i=0;i<array.length;i++)arrayCopy.push(array[i]);return arrayCopy.sort(reverseComparator(comparator,reverseOrder))}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function FormController(element,attrs,$scope,$animate){function toggleValidCss(isValid,validationErrorKey){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",$animate.removeClass(element,(isValid?INVALID_CLASS:VALID_CLASS)+validationErrorKey),$animate.addClass(element,(isValid?VALID_CLASS:INVALID_CLASS)+validationErrorKey)}var form=this,parentForm=element.parent().controller("form")||nullFormCtrl,invalidCount=0,errors=form.$error={},controls=[];form.$name=attrs.name||attrs.ngForm,form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,parentForm.$addControl(form),element.addClass(PRISTINE_CLASS),toggleValidCss(!0),form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control)},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(errors,function(queue,validationToken){form.$setValidity(validationToken,!0,control)}),arrayRemove(controls,control)},form.$setValidity=function(validationToken,isValid,control){var queue=errors[validationToken];if(isValid)queue&&(arrayRemove(queue,control),queue.length||(invalidCount--,invalidCount||(toggleValidCss(isValid),form.$valid=!0,form.$invalid=!1),errors[validationToken]=!1,toggleValidCss(!0,validationToken),parentForm.$setValidity(validationToken,!0,form)));else{if(invalidCount||toggleValidCss(isValid),queue){if(includes(queue,control))return}else errors[validationToken]=queue=[],invalidCount++,toggleValidCss(!1,validationToken),parentForm.$setValidity(validationToken,!1,form);queue.push(control),form.$valid=!1,form.$invalid=!0}},form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS),$animate.addClass(element,DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,parentForm.$setDirty()},form.$setPristine=function(){$animate.removeClass(element,DIRTY_CLASS),$animate.addClass(element,PRISTINE_CLASS),form.$dirty=!1,form.$pristine=!0,forEach(controls,function(control){control.$setPristine()
})}}function validate(ctrl,validatorName,validity,value){return ctrl.$setValidity(validatorName,validity),validity?value:undefined}function addNativeHtml5Validators(ctrl,validatorName,element){var validity=element.prop("validity");if(isObject(validity)){var validator=function(value){return ctrl.$error[validatorName]||!(validity.badInput||validity.customError||validity.typeMismatch)||validity.valueMissing?value:void ctrl.$setValidity(validatorName,!1)};ctrl.$parsers.push(validator),ctrl.$formatters.push(validator)}}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){var validity=element.prop("validity");if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(){composing=!0}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(){if(!composing){var value=element.val();toBoolean(attr.ngTrim||"T")&&(value=trim(value)),(ctrl.$viewValue!==value||validity&&""===value&&!validity.valueMissing)&&(scope.$$phase?ctrl.$setViewValue(value):scope.$apply(function(){ctrl.$setViewValue(value)}))}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(){timeout||(timeout=$browser.defer(function(){listener(),timeout=null}))};element.on("keydown",function(event){var key=event.keyCode;91===key||key>15&&19>key||key>=37&&40>=key||deferListener()}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){element.val(ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue)};var patternValidator,match,pattern=attr.ngPattern;if(pattern){var validateRegex=function(regexp,value){return validate(ctrl,"pattern",ctrl.$isEmpty(value)||regexp.test(value),value)};match=pattern.match(/^\/(.*)\/([gim]*)$/),match?(pattern=new RegExp(match[1],match[2]),patternValidator=function(value){return validateRegex(pattern,value)}):patternValidator=function(value){var patternObj=scope.$eval(pattern);if(!patternObj||!patternObj.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",pattern,patternObj,startingTag(element));return validateRegex(patternObj,value)},ctrl.$formatters.push(patternValidator),ctrl.$parsers.push(patternValidator)}if(attr.ngMinlength){var minlength=int(attr.ngMinlength),minLengthValidator=function(value){return validate(ctrl,"minlength",ctrl.$isEmpty(value)||value.length>=minlength,value)};ctrl.$parsers.push(minLengthValidator),ctrl.$formatters.push(minLengthValidator)}if(attr.ngMaxlength){var maxlength=int(attr.ngMaxlength),maxLengthValidator=function(value){return validate(ctrl,"maxlength",ctrl.$isEmpty(value)||value.length<=maxlength,value)};ctrl.$parsers.push(maxLengthValidator),ctrl.$formatters.push(maxLengthValidator)}}function weekParser(isoWeek){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return new Date(year,0,firstThurs.getDate()+addDays)}}return 0/0}function createDateParser(regexp,mapping){return function(iso){var parts,map;return isDate(iso)?iso:isString(iso)&&(regexp.lastIndex=0,parts=regexp.exec(iso))?(parts.shift(),map={yyyy:0,MM:1,dd:1,HH:0,mm:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)}),new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm)):0/0}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){if(textInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?(ctrl.$setValidity(type,!0),null):regexp.test(value)?(ctrl.$setValidity(type,!0),parseDate(value)):(ctrl.$setValidity(type,!1),undefined)}),ctrl.$formatters.push(function(value){return isDate(value)?$filter("date")(value,format):""}),attr.min){var minValidator=function(value){var valid=ctrl.$isEmpty(value)||parseDate(value)>=parseDate(attr.min);return ctrl.$setValidity("min",valid),valid?value:undefined};ctrl.$parsers.push(minValidator),ctrl.$formatters.push(minValidator)}if(attr.max){var maxValidator=function(value){var valid=ctrl.$isEmpty(value)||parseDate(value)<=parseDate(attr.max);return ctrl.$setValidity("max",valid),valid?value:undefined};ctrl.$parsers.push(maxValidator),ctrl.$formatters.push(maxValidator)}}}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(textInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$parsers.push(function(value){var empty=ctrl.$isEmpty(value);return empty||NUMBER_REGEXP.test(value)?(ctrl.$setValidity("number",!0),""===value?null:empty?value:parseFloat(value)):(ctrl.$setValidity("number",!1),undefined)}),addNativeHtml5Validators(ctrl,"number",element),ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?"":""+value}),attr.min){var minValidator=function(value){var min=parseFloat(attr.min);return validate(ctrl,"min",ctrl.$isEmpty(value)||value>=min,value)};ctrl.$parsers.push(minValidator),ctrl.$formatters.push(minValidator)}if(attr.max){var maxValidator=function(value){var max=parseFloat(attr.max);return validate(ctrl,"max",ctrl.$isEmpty(value)||max>=value,value)};ctrl.$parsers.push(maxValidator),ctrl.$formatters.push(maxValidator)}ctrl.$formatters.push(function(value){return validate(ctrl,"number",ctrl.$isEmpty(value)||isNumber(value),value)})}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){textInputType(scope,element,attr,ctrl,$sniffer,$browser);var urlValidator=function(value){return validate(ctrl,"url",ctrl.$isEmpty(value)||URL_REGEXP.test(value),value)};ctrl.$formatters.push(urlValidator),ctrl.$parsers.push(urlValidator)}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){textInputType(scope,element,attr,ctrl,$sniffer,$browser);var emailValidator=function(value){return validate(ctrl,"email",ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value),value)};ctrl.$formatters.push(emailValidator),ctrl.$parsers.push(emailValidator)}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid()),element.on("click",function(){element[0].checked&&scope.$apply(function(){ctrl.$setViewValue(attr.value)})}),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function checkboxInputType(scope,element,attr,ctrl){var trueValue=attr.ngTrueValue,falseValue=attr.ngFalseValue;isString(trueValue)||(trueValue=!0),isString(falseValue)||(falseValue=!1),element.on("click",function(){scope.$apply(function(){ctrl.$setViewValue(element[0].checked)})}),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value!==trueValue},ctrl.$formatters.push(function(value){return value===trueValue}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,function(){return{restrict:"AC",link:function(scope,element,attr){function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=flattenClasses(newVal||"");oldVal?equals(newVal,oldVal)||attr.$updateClass(newClasses,flattenClasses(oldVal)):attr.$addClass(newClasses)}oldVal=copy(newVal)}function flattenClasses(classVal){if(isArray(classVal))return classVal.join(" ");if(isObject(classVal)){var classes=[];return forEach(classVal,function(v,k){v&&classes.push(k)}),classes.join(" ")}return classVal}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==old$index&1){var classes=flattenClasses(scope.$eval(attr[name]));mod===selector?attr.$addClass(classes):attr.$removeClass(classes)}})}}}}var lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,nodeName_,slice=[].slice,push=[].push,toString=Object.prototype.toString,ngMinErr=minErr("ng"),angular=(window.angular,window.angular||(window.angular={})),uid=["0","0","0"];msie=int((/msie (\d+)/.exec(lowercase(navigator.userAgent))||[])[1]),isNaN(msie)&&(msie=int((/trident\/.*; rv:(\d+)/.exec(lowercase(navigator.userAgent))||[])[1])),noop.$inject=[],identity.$inject=[];var trim=function(){return String.prototype.trim?function(value){return isString(value)?value.trim():value}:function(value){return isString(value)?value.replace(/^\s\s*/,"").replace(/\s\s*$/,""):value}}();nodeName_=9>msie?function(element){return element=element.nodeName?element:element[0],element.scopeName&&"HTML"!=element.scopeName?uppercase(element.scopeName+":"+element.nodeName):element.nodeName}:function(element){return element.nodeName?element.nodeName:element[0].nodeName};var SNAKE_CASE_REGEXP=/[A-Z]/g,version={full:"1.2.15-build.2399+sha.ca4ddfa",major:1,minor:2,dot:15,codeName:"snapshot"},jqCache=JQLite.cache={},jqName=JQLite.expando="ng-"+(new Date).getTime(),jqId=1,addEventListenerFn=window.document.addEventListener?function(element,type,fn){element.addEventListener(type,fn,!1)}:function(element,type,fn){element.attachEvent("on"+type,fn)},removeEventListenerFn=window.document.removeEventListener?function(element,type,fn){element.removeEventListener(type,fn,!1)}:function(element,type,fn){element.detachEvent("on"+type,fn)},SPECIAL_CHARS_REGEXP=(JQLite._data=function(node){return this.cache[node[this.expando]]||{}},/([\:\-\_]+(.))/g),MOZ_HACK_REGEXP=/^moz([A-Z])/,jqLiteMinErr=minErr("jqLite"),JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[uppercase(value)]=!0}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite(element).data("$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite(element).data("$isolateScope")||jqLite(element).data("$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){if(name=camelCase(name),!isDefined(value)){var val;return 8>=msie&&(val=element.currentStyle&&element.currentStyle[name],""===val&&(val="auto")),val=val||element.style[name],8>=msie&&(val=""===val?undefined:val),val}element.style[name]=value},attr:function(element,name,value){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){var textProp=NODE_TYPE_TEXT_PROPERTY[element.nodeType];return isUndefined(value)?textProp?element[textProp]:"":void(element[textProp]=value)}var NODE_TYPE_TEXT_PROPERTY=[];return 9>msie?(NODE_TYPE_TEXT_PROPERTY[1]="innerText",NODE_TYPE_TEXT_PROPERTY[3]="nodeValue"):NODE_TYPE_TEXT_PROPERTY[1]=NODE_TYPE_TEXT_PROPERTY[3]="textContent",getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if("SELECT"===nodeName_(element)&&element.multiple){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){if(isUndefined(value))return element.innerHTML;for(var i=0,childNodes=element.childNodes;i<childNodes.length;i++)jqLiteDealoc(childNodes[i]);element.innerHTML=value},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key;if(fn!==jqLiteEmpty&&(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)===undefined){if(isObject(arg1)){for(i=0;i<this.length;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=value===undefined?Math.min(this.length,1):this.length,j=0;jj>j;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;i<this.length;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,dealoc:jqLiteDealoc,on:function onFn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");var events=jqLiteExpandoStore(element,"events"),handle=jqLiteExpandoStore(element,"handle");events||jqLiteExpandoStore(element,"events",events={}),handle||jqLiteExpandoStore(element,"handle",handle=createEventHandler(element,events)),forEach(type.split(" "),function(type){var eventFns=events[type];if(!eventFns){if("mouseenter"==type||"mouseleave"==type){var contains=document.body.contains||document.body.compareDocumentPosition?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};events[type]=[];var eventmap={mouseleave:"mouseout",mouseenter:"mouseover"};onFn(element,eventmap[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!contains(target,related))&&handle(event,type)})}else addEventListenerFn(element,type,handle),events[type]=[];eventFns=events[type]}eventFns.push(fn)})},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){1===element.nodeType&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){forEach(new JQLite(node),function(child){(1===element.nodeType||11===element.nodeType)&&element.appendChild(child)})},prepend:function(element,node){if(1===element.nodeType){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode)[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:function(element){jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)},after:function(element,newElement){var index=element,parent=element.parentNode;forEach(new JQLite(newElement),function(node){parent.insertBefore(node,index.nextSibling),index=node})},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&11!==parent.nodeType?parent:null},next:function(element){if(element.nextElementSibling)return element.nextElementSibling;for(var elm=element.nextSibling;null!=elm&&1!==elm.nodeType;)elm=elm.nextSibling;return elm},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,eventName,eventData){var eventFns=(jqLiteExpandoStore(element,"events")||{})[eventName];eventData=eventData||[];var event=[{preventDefault:noop,stopPropagation:noop}];forEach(eventFns,function(fn){fn.apply(element,event.concat(eventData))})}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0;i<this.length;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key)]=value},get:function(key){return this[hashKey(key)]},remove:function(key){var value=this[key=hashKey(key)];return delete this[key],value}};var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector"),$animateMinErr=minErr("$animate"),$AnimateProvider=["$provide",function($provide){this.$$selectors={},this.register=function(name,factory){var key=name+"-animation";if(name&&"."!=name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);this.$$selectors[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){return 1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null),this.$$classNameFilter},this.$get=["$timeout","$$asyncCallback",function($timeout,$$asyncCallback){function async(fn){fn&&$$asyncCallback(fn)}return{enter:function(element,parent,after,done){after?after.after(element):(parent&&parent[0]||(parent=after.parent()),parent.append(element)),async(done)},leave:function(element,done){element.remove(),async(done)},move:function(element,parent,after,done){this.enter(element,parent,after,done)},addClass:function(element,className,done){className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteAddClass(element,className)}),async(done)},removeClass:function(element,className,done){className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteRemoveClass(element,className)}),async(done)},setClass:function(element,add,remove,done){forEach(element,function(element){jqLiteAddClass(element,add),jqLiteRemoveClass(element,remove)}),async(done)},enabled:noop}}]}],$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^(x[\:\-_]|data[\:\-_])/i,$interpolateMinErr=minErr("$interpolate"),PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location");LocationHashbangInHtml5Url.prototype=LocationHashbangUrl.prototype=LocationHtml5Url.prototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url,replace){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return match[1]&&this.path(decodeURIComponent(match[1])),(match[2]||match[1])&&this.search(match[3]||""),this.hash(match[5]||"",replace),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return"/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search))this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue}return this.$$compose(),this},hash:locationGetterSetter("$$hash",identity),replace:function(){return this.$$replace=!0,this}};var promiseWarning,$parseMinErr=minErr("$parse"),promiseWarningCache={},OPERATORS={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:noop,"+":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),isDefined(a)?isDefined(b)?a+b:a:isDefined(b)?b:undefined},"-":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),(isDefined(a)?a:0)-(isDefined(b)?b:0)},"*":function(self,locals,a,b){return a(self,locals)*b(self,locals)},"/":function(self,locals,a,b){return a(self,locals)/b(self,locals)},"%":function(self,locals,a,b){return a(self,locals)%b(self,locals)},"^":function(self,locals,a,b){return a(self,locals)^b(self,locals)},"=":noop,"===":function(self,locals,a,b){return a(self,locals)===b(self,locals)},"!==":function(self,locals,a,b){return a(self,locals)!==b(self,locals)},"==":function(self,locals,a,b){return a(self,locals)==b(self,locals)},"!=":function(self,locals,a,b){return a(self,locals)!=b(self,locals)},"<":function(self,locals,a,b){return a(self,locals)<b(self,locals)},">":function(self,locals,a,b){return a(self,locals)>b(self,locals)},"<=":function(self,locals,a,b){return a(self,locals)<=b(self,locals)},">=":function(self,locals,a,b){return a(self,locals)>=b(self,locals)},"&&":function(self,locals,a,b){return a(self,locals)&&b(self,locals)},"||":function(self,locals,a,b){return a(self,locals)||b(self,locals)},"&":function(self,locals,a,b){return a(self,locals)&b(self,locals)},"|":function(self,locals,a,b){return b(self,locals)(self,locals,a(self,locals))},"!":function(self,locals,a){return!a(self,locals)}},ESCAPE={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){this.text=text,this.index=0,this.ch=undefined,this.lastCh=":",this.tokens=[];for(var token,json=[];this.index<this.text.length;){if(this.ch=this.text.charAt(this.index),this.is("\"'"))this.readString(this.ch);else if(this.isNumber(this.ch)||this.is(".")&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(this.ch))this.readIdent(),this.was("{,")&&"{"===json[0]&&(token=this.tokens[this.tokens.length-1])&&(token.json=-1===token.text.indexOf("."));else if(this.is("(){}[].,;:?"))this.tokens.push({index:this.index,text:this.ch,json:this.was(":[,")&&this.is("{[")||this.is("}]:,")}),this.is("{[")&&json.unshift(this.ch),this.is("}]")&&json.shift(),this.index++;else{if(this.isWhitespace(this.ch)){this.index++;continue}var ch2=this.ch+this.peek(),ch3=ch2+this.peek(2),fn=OPERATORS[this.ch],fn2=OPERATORS[ch2],fn3=OPERATORS[ch3];fn3?(this.tokens.push({index:this.index,text:ch3,fn:fn3}),this.index+=3):fn2?(this.tokens.push({index:this.index,text:ch2,fn:fn2}),this.index+=2):fn?(this.tokens.push({index:this.index,text:this.ch,fn:fn,json:this.was("[,:")&&this.is("+-")}),this.index+=1):this.throwError("Unexpected next character ",this.index,this.index+1)}this.lastCh=this.ch}return this.tokens},is:function(chars){return-1!==chars.indexOf(this.ch)},was:function(chars){return-1!==chars.indexOf(this.lastCh)},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):!1},isNumber:function(ch){return ch>="0"&&"9">=ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"	"===ch||"\n"===ch||""===ch||" "===ch},isIdent:function(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}number=1*number,this.tokens.push({index:start,text:number,json:!0,fn:function(){return number}})},readIdent:function(){for(var lastDot,peekIndex,methodName,ch,parser=this,ident="",start=this.index;this.index<this.text.length&&(ch=this.text.charAt(this.index),"."===ch||this.isIdent(ch)||this.isNumber(ch));)"."===ch&&(lastDot=this.index),ident+=ch,this.index++;if(lastDot)for(peekIndex=this.index;peekIndex<this.text.length;){if(ch=this.text.charAt(peekIndex),"("===ch){methodName=ident.substr(lastDot-start+1),ident=ident.substr(0,lastDot-start),this.index=peekIndex;break}if(!this.isWhitespace(ch))break;peekIndex++}var token={index:start,text:ident};if(OPERATORS.hasOwnProperty(ident))token.fn=OPERATORS[ident],token.json=OPERATORS[ident];else{var getter=getterFn(ident,this.options,this.text);token.fn=extend(function(self,locals){return getter(self,locals)},{assign:function(self,value){return setter(self,ident,value,parser.text,parser.options)}})}this.tokens.push(token),methodName&&(this.tokens.push({index:lastDot,text:".",json:!1}),this.tokens.push({index:lastDot+1,text:methodName,json:!1}))},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep?rep:ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,string:string,json:!0,fn:function(){return string}});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options};Parser.ZERO=function(){return 0},Parser.prototype={constructor:Parser,parse:function(text,json){this.text=text,this.json=json,this.tokens=this.lexer.lex(text),json&&(this.assignment=this.logicalOR,this.functionCall=this.fieldAccess=this.objectIndex=this.filterChain=function(){this.throwError("is not valid json",{text:text,index:0})});var value=json?this.primary():this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value.literal=!!value.literal,value.constant=!!value.constant,value},primary:function(){var primary;if(this.expect("("))primary=this.filterChain(),this.consume(")");else if(this.expect("["))primary=this.arrayDeclaration();else if(this.expect("{"))primary=this.object();else{var token=this.expect();primary=token.fn,primary||this.throwError("not a primary expression",token),token.json&&(primary.constant=!0,primary.literal=!0)}for(var next,context;next=this.expect("(","[",".");)"("===next.text?(primary=this.functionCall(primary,context),context=null):"["===next.text?(context=primary,primary=this.objectIndex(primary)):"."===next.text?(context=primary,primary=this.fieldAccess(primary)):this.throwError("IMPOSSIBLE");return primary},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){if(this.tokens.length>0){var token=this.tokens[0],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return token?(this.json&&!token.json&&this.throwError("is not valid json",token),this.tokens.shift(),token):!1},consume:function(e1){this.expect(e1)||this.throwError("is unexpected, expecting ["+e1+"]",this.peek())},unaryFn:function(fn,right){return extend(function(self,locals){return fn(self,locals,right)},{constant:right.constant})},ternaryFn:function(left,middle,right){return extend(function(self,locals){return left(self,locals)?middle(self,locals):right(self,locals)},{constant:left.constant&&middle.constant&&right.constant})},binaryFn:function(left,fn,right){return extend(function(self,locals){return fn(self,locals,left,right)},{constant:left.constant&&right.constant})},statements:function(){for(var statements=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&statements.push(this.filterChain()),!this.expect(";"))return 1===statements.length?statements[0]:function(self,locals){for(var value,i=0;i<statements.length;i++){var statement=statements[i];statement&&(value=statement(self,locals))}return value}},filterChain:function(){for(var token,left=this.expression();;){if(!(token=this.expect("|")))return left;left=this.binaryFn(left,token.fn,this.filter())}},filter:function(){for(var token=this.expect(),fn=this.$filter(token.text),argsFn=[];;){if(!(token=this.expect(":"))){var fnInvoke=function(self,locals,input){for(var args=[input],i=0;i<argsFn.length;i++)args.push(argsFn[i](self,locals));return fn.apply(self,args)};return function(){return fnInvoke}}argsFn.push(this.expression())}},expression:function(){return this.assignment()},assignment:function(){var right,token,left=this.ternary();return(token=this.expect("="))?(left.assign||this.throwError("implies assignment but ["+this.text.substring(0,token.index)+"] can not be assigned to",token),right=this.ternary(),function(scope,locals){return left.assign(scope,right(scope,locals),locals)}):left},ternary:function(){var middle,token,left=this.logicalOR();return(token=this.expect("?"))?(middle=this.ternary(),(token=this.expect(":"))?this.ternaryFn(left,middle,this.ternary()):void this.throwError("expected :",token)):left},logicalOR:function(){for(var token,left=this.logicalAND();;){if(!(token=this.expect("||")))return left;left=this.binaryFn(left,token.fn,this.logicalAND())}},logicalAND:function(){var token,left=this.equality();return(token=this.expect("&&"))&&(left=this.binaryFn(left,token.fn,this.logicalAND())),left},equality:function(){var token,left=this.relational();return(token=this.expect("==","!=","===","!=="))&&(left=this.binaryFn(left,token.fn,this.equality())),left},relational:function(){var token,left=this.additive();return(token=this.expect("<",">","<=",">="))&&(left=this.binaryFn(left,token.fn,this.relational())),left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left=this.binaryFn(left,token.fn,this.multiplicative());
return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left=this.binaryFn(left,token.fn,this.unary());return left},unary:function(){var token;return this.expect("+")?this.primary():(token=this.expect("-"))?this.binaryFn(Parser.ZERO,token.fn,this.unary()):(token=this.expect("!"))?this.unaryFn(token.fn,this.unary()):this.primary()},fieldAccess:function(object){var parser=this,field=this.expect().text,getter=getterFn(field,this.options,this.text);return extend(function(scope,locals,self){return getter(self||object(scope,locals))},{assign:function(scope,value,locals){return setter(object(scope,locals),field,value,parser.text,parser.options)}})},objectIndex:function(obj){var parser=this,indexFn=this.expression();return this.consume("]"),extend(function(self,locals){var v,p,o=obj(self,locals),i=indexFn(self,locals);return o?(v=ensureSafeObject(o[i],parser.text),v&&v.then&&parser.options.unwrapPromises&&(p=v,"$$v"in v||(p.$$v=undefined,p.then(function(val){p.$$v=val})),v=v.$$v),v):undefined},{assign:function(self,value,locals){var key=indexFn(self,locals),safe=ensureSafeObject(obj(self,locals),parser.text);return safe[key]=value}})},functionCall:function(fn,contextGetter){var argsFn=[];if(")"!==this.peekToken().text)do argsFn.push(this.expression());while(this.expect(","));this.consume(")");var parser=this;return function(scope,locals){for(var args=[],context=contextGetter?contextGetter(scope,locals):scope,i=0;i<argsFn.length;i++)args.push(argsFn[i](scope,locals));var fnPtr=fn(scope,locals,context)||noop;ensureSafeObject(context,parser.text),ensureSafeObject(fnPtr,parser.text);var v=fnPtr.apply?fnPtr.apply(context,args):fnPtr(args[0],args[1],args[2],args[3],args[4]);return ensureSafeObject(v,parser.text)}},arrayDeclaration:function(){var elementFns=[],allConstant=!0;if("]"!==this.peekToken().text)do{if(this.peek("]"))break;var elementFn=this.expression();elementFns.push(elementFn),elementFn.constant||(allConstant=!1)}while(this.expect(","));return this.consume("]"),extend(function(self,locals){for(var array=[],i=0;i<elementFns.length;i++)array.push(elementFns[i](self,locals));return array},{literal:!0,constant:allConstant})},object:function(){var keyValues=[],allConstant=!0;if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var token=this.expect(),key=token.string||token.text;this.consume(":");var value=this.expression();keyValues.push({key:key,value:value}),value.constant||(allConstant=!1)}while(this.expect(","));return this.consume("}"),extend(function(self,locals){for(var object={},i=0;i<keyValues.length;i++){var keyValue=keyValues[i];object[keyValue.key]=keyValue.value(self,locals)}return object},{literal:!0,constant:allConstant})}};var getterFnCache={},$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href,!0);$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1)},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){return 8>=msie&&(attr.href||attr.name||attr.$set("href",""),element.append(document.createComment("IE fix"))),attr.href||attr.xlinkHref||attr.name?void 0:function(scope,element){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:100,link:function(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){value&&(attr.$set(name,value),msie&&propName&&element.prop(propName,attr[name]))})}}}});var nullFormCtrl={$addControl:noop,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop};FormController.$inject=["$element","$attrs","$scope","$animate"];var formDirectiveFactory=function(isNgForm){return["$timeout",function($timeout){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",controller:FormController,compile:function(){return{pre:function(scope,formElement,attr,controller){if(!attr.action){var preventDefaultListener=function(event){event.preventDefault?event.preventDefault():event.returnValue=!1};addEventListenerFn(formElement[0],"submit",preventDefaultListener),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",preventDefaultListener)},0,!1)})}var parentFormCtrl=formElement.parent().controller("form"),alias=attr.name||attr.ngForm;alias&&setter(scope,alias,controller,alias),parentFormCtrl&&formElement.on("$destroy",function(){parentFormCtrl.$removeControl(controller),alias&&setter(scope,alias,undefined,alias),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[a-z0-9!#$%&'*+/=?^_`{|}~.-]+@[a-z0-9-]+(\.[a-z0-9-]+)*$/i,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)$/,WEEK_REGEXP=/^(\d{4})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)$/,inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm"]),"yyyy-MM-ddTHH:mm"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm"]),"HH:mm"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter",function($browser,$sniffer,$filter){return{restrict:"E",require:"?ngModel",link:function(scope,element,attr,ctrl){ctrl&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrl,$sniffer,$browser,$filter)}}}],VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate){function toggleValidCss(isValid,validationErrorKey){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",$animate.removeClass($element,(isValid?INVALID_CLASS:VALID_CLASS)+validationErrorKey),$animate.addClass($element,(isValid?VALID_CLASS:INVALID_CLASS)+validationErrorKey)}this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=$attr.name;var ngModelGet=$parse($attr.ngModel),ngModelSet=ngModelGet.assign;if(!ngModelSet)throw minErr("ngModel")("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element));this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var parentForm=$element.inheritedData("$formController")||nullFormCtrl,invalidCount=0,$error=this.$error={};$element.addClass(PRISTINE_CLASS),toggleValidCss(!0),this.$setValidity=function(validationErrorKey,isValid){$error[validationErrorKey]!==!isValid&&(isValid?($error[validationErrorKey]&&invalidCount--,invalidCount||(toggleValidCss(!0),this.$valid=!0,this.$invalid=!1)):(toggleValidCss(!1),this.$invalid=!0,this.$valid=!1,invalidCount++),$error[validationErrorKey]=!isValid,toggleValidCss(isValid,validationErrorKey),parentForm.$setValidity(validationErrorKey,isValid,this))},this.$setPristine=function(){this.$dirty=!1,this.$pristine=!0,$animate.removeClass($element,DIRTY_CLASS),$animate.addClass($element,PRISTINE_CLASS)},this.$setViewValue=function(value){this.$viewValue=value,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,$animate.removeClass($element,PRISTINE_CLASS),$animate.addClass($element,DIRTY_CLASS),parentForm.$setDirty()),forEach(this.$parsers,function(fn){value=fn(value)}),this.$modelValue!==value&&(this.$modelValue=value,ngModelSet($scope,value),forEach(this.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}}))};var ctrl=this;$scope.$watch(function(){var value=ngModelGet($scope);if(ctrl.$modelValue!==value){var formatters=ctrl.$formatters,idx=formatters.length;for(ctrl.$modelValue=value;idx--;)value=formatters[idx](value);ctrl.$viewValue!==value&&(ctrl.$viewValue=value,ctrl.$render())}return value})}],ngModelDirective=function(){return{require:["ngModel","^?form"],controller:NgModelController,link:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;formCtrl.$addControl(modelCtrl),scope.$on("$destroy",function(){formCtrl.$removeControl(modelCtrl)})}}},ngChangeDirective=valueFn({require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),requiredDirective=function(){return{require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){attr.required=!0;var validator=function(value){return attr.required&&ctrl.$isEmpty(value)?void ctrl.$setValidity("required",!1):(ctrl.$setValidity("required",!0),value)};ctrl.$formatters.push(validator),ctrl.$parsers.unshift(validator),attr.$observe("required",function(){validator(ctrl.$viewValue)})}}}},ngListDirective=function(){return{require:"ngModel",link:function(scope,element,attr,ctrl){var match=/\/(.*)\//.exec(attr.ngList),separator=match&&new RegExp(match[1])||attr.ngList||",",parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trim(value))}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(", "):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=ngDirective(function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.ngBind),scope.$watch(attr.ngBind,function(value){element.text(value==undefined?"":value)})}),ngBindTemplateDirective=["$interpolate",function($interpolate){return function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));element.addClass("ng-binding").data("$binding",interpolateFn),attr.$observe("ngBindTemplate",function(value){element.text(value)})}}],ngBindHtmlDirective=["$sce","$parse",function($sce,$parse){return function(scope,element,attr){function getStringValue(){return(parsed(scope)||"").toString()}element.addClass("ng-binding").data("$binding",attr.ngBindHtml);var parsed=$parse(attr.ngBindHtml);scope.$watch(getStringValue,function(){element.html($sce.getTrustedHtml(parsed(scope))||"")})}}],ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{scope:!0,controller:"@",priority:500}}],ngEventDirectives={};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(name){var directiveName=directiveNormalize("ng-"+name);ngEventDirectives[directiveName]=["$parse",function($parse){return{compile:function($element,attr){var fn=$parse(attr[directiveName]);return function(scope,element){element.on(lowercase(name),function(event){scope.$apply(function(){fn(scope,{$event:event})})})}}}}]});var ngIfDirective=["$animate",function($animate){return{transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){toBoolean(value)?childScope||(childScope=$scope.$new(),$transclude(childScope,function(clone){clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)})):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockElements(block.clone),$animate.leave(previousElements,function(){previousElements=null}),block=null))})}}}],ngIncludeDirective=["$http","$templateCache","$anchorScroll","$animate","$sce",function($http,$templateCache,$anchorScroll,$animate,$sce){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement,function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch($sce.parseAsResourceUrl(srcExp),function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($http.get(src,{cache:$templateCache}).success(function(response){if(thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element,afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded"),scope.$eval(onloadExp)}}).error(function(){thisChangeId===changeCounter&&cleanupLastIncludeContent()}),scope.$emit("$includeContentRequested")):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){$element.html(ctrl.template),$compile($element.contents())(scope)}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngPluralizeDirective=["$locale","$interpolate",function($locale,$interpolate){var BRACE=/{}/g;return{restrict:"EA",link:function(scope,element,attr){var numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),isWhen=/^when(Minus)?(.+)$/;forEach(attr,function(expression,attributeName){isWhen.test(attributeName)&&(whens[lowercase(attributeName.replace("when","").replace("Minus","-"))]=element.attr(attr.$attr[attributeName]))}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,startSymbol+numberExp+"-"+offset+endSymbol))}),scope.$watch(function(){var value=parseFloat(scope.$eval(numberExp));return isNaN(value)?"":(value in whens||(value=$locale.pluralCat(value-offset)),whensExpFns[value](scope,element,!0))},function(newVal){element.text(newVal)})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){function getBlockStart(block){return block.clone[0]}function getBlockEnd(block){return block.clone[block.clone.length-1]}var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat");return{transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var trackByExp,trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,lhs,rhs,valueIdentifier,keyIdentifier,expression=$attr.ngRepeat,match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?\s*$/),hashFnLocals={$id:hashKey};if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);if(lhs=match[1],rhs=match[2],trackByExp=match[3],trackByExp?(trackByExpGetter=$parse(trackByExp),trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)}):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),match=lhs.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);valueIdentifier=match[3]||match[1],keyIdentifier=match[2];var lastBlockMap={};$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,arrayLength,childScope,key,value,trackById,trackByIdFn,collectionKeys,block,elementsToRemove,previousNode=$element[0],nextBlockMap={},nextBlockOrder=[];if(isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(key in collection)collection.hasOwnProperty(key)&&"$"!=key.charAt(0)&&collectionKeys.push(key);collectionKeys.sort()}for(arrayLength=collectionKeys.length,length=nextBlockOrder.length=collectionKeys.length,index=0;length>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),assertNotHasOwnProperty(trackById,"`track by` id"),lastBlockMap.hasOwnProperty(trackById))block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap.hasOwnProperty(trackById))throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}",expression,trackById);nextBlockOrder[index]={id:trackById},nextBlockMap[trackById]=!1}for(key in lastBlockMap)lastBlockMap.hasOwnProperty(key)&&(block=lastBlockMap[key],elementsToRemove=getBlockElements(block.clone),$animate.leave(elementsToRemove),forEach(elementsToRemove,function(element){element[NG_REMOVED]=!0}),block.scope.$destroy());for(index=0,length=collectionKeys.length;length>index;index++){if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],nextBlockOrder[index-1]&&(previousNode=getBlockEnd(nextBlockOrder[index-1])),block.scope){childScope=block.scope,nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockElements(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block)}else childScope=$scope.$new();childScope[valueIdentifier]=value,keyIdentifier&&(childScope[keyIdentifier]=key),childScope.$index=index,childScope.$first=0===index,childScope.$last=index===arrayLength-1,childScope.$middle=!(childScope.$first||childScope.$last),childScope.$odd=!(childScope.$even=0===(1&index)),block.scope||$transclude(childScope,function(clone){clone[clone.length++]=document.createComment(" end ngRepeat: "+expression+" "),$animate.enter(clone,null,jqLite(previousNode)),previousNode=clone,block.scope=childScope,block.clone=clone,nextBlockMap[block.id]=block})}lastBlockMap=nextBlockMap})}}}],ngShowDirective=["$animate",function($animate){return function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[toBoolean(value)?"removeClass":"addClass"](element,"ng-hide")})}}],ngHideDirective=["$animate",function($animate){return function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[toBoolean(value)?"addClass":"removeClass"](element,"ng-hide")})}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watch(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)},!0)}),ngSwitchDirective=["$animate",function($animate){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var selectedTranscludes,selectedElements,previousElements,watchExpr=attr.ngSwitch||attr.on,selectedScopes=[];scope.$watch(watchExpr,function(value){var i,ii=selectedScopes.length;if(ii>0){if(previousElements){for(i=0;ii>i;i++)previousElements[i].remove();previousElements=null}for(previousElements=[],i=0;ii>i;i++){var selected=selectedElements[i];selectedScopes[i].$destroy(),previousElements[i]=selected,$animate.leave(selected,function(){previousElements.splice(i,1),0===previousElements.length&&(previousElements=null)})}}selectedElements=[],selectedScopes=[],(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&(scope.$eval(attr.change),forEach(selectedTranscludes,function(selectedTransclude){var selectedScope=scope.$new();selectedScopes.push(selectedScope),selectedTransclude.transclude(selectedScope,function(caseElement){var anchor=selectedTransclude.element;selectedElements.push(caseElement),$animate.enter(caseElement,anchor.parent(),anchor)})}))})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:800,require:"^ngSwitch",link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:800,require:"^ngSwitch",link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],ngOptionsMinErr=minErr("ngOptions"),ngOptionsDirective=valueFn({terminal:!0}),selectDirective=["$compile","$parse",function($compile,$parse){var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,nullModelCtrl={$setViewValue:noop};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function($element,$scope,$attrs){var nullOption,unknownOption,self=this,optionsMap={},ngModelCtrl=nullModelCtrl;self.databound=$attrs.ngModel,self.init=function(ngModelCtrl_,nullOption_,unknownOption_){ngModelCtrl=ngModelCtrl_,nullOption=nullOption_,unknownOption=unknownOption_},self.addOption=function(value){assertNotHasOwnProperty(value,'"option value"'),optionsMap[value]=!0,ngModelCtrl.$viewValue==value&&($element.val(value),unknownOption.parent()&&unknownOption.remove())},self.removeOption=function(value){this.hasOption(value)&&(delete optionsMap[value],ngModelCtrl.$viewValue==value&&this.renderUnknownOption(value))},self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";unknownOption.val(unknownVal),$element.prepend(unknownOption),$element.val(unknownVal),unknownOption.prop("selected",!0)},self.hasOption=function(value){return optionsMap.hasOwnProperty(value)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop})}],link:function(scope,element,attr,ctrls){function setupAsSingle(scope,selectElement,ngModelCtrl,selectCtrl){ngModelCtrl.$render=function(){var viewValue=ngModelCtrl.$viewValue;selectCtrl.hasOption(viewValue)?(unknownOption.parent()&&unknownOption.remove(),selectElement.val(viewValue),""===viewValue&&emptyOption.prop("selected",!0)):isUndefined(viewValue)&&emptyOption?selectElement.val(""):selectCtrl.renderUnknownOption(viewValue)},selectElement.on("change",function(){scope.$apply(function(){unknownOption.parent()&&unknownOption.remove(),ngModelCtrl.$setViewValue(selectElement.val())})})}function setupAsMultiple(scope,selectElement,ctrl){var lastView;ctrl.$render=function(){var items=new HashMap(ctrl.$viewValue);forEach(selectElement.find("option"),function(option){option.selected=isDefined(items.get(option.value))})},scope.$watch(function(){equals(lastView,ctrl.$viewValue)||(lastView=copy(ctrl.$viewValue),ctrl.$render())}),selectElement.on("change",function(){scope.$apply(function(){var array=[];forEach(selectElement.find("option"),function(option){option.selected&&array.push(option.value)}),ctrl.$setViewValue(array)})})}function setupAsOptions(scope,selectElement,ctrl){function render(){var optionGroupName,optionGroup,option,existingParent,existingOptions,existingOption,key,groupLength,length,groupIndex,index,selected,lastElement,element,label,optionGroups={"":[]},optionGroupNames=[""],modelValue=ctrl.$modelValue,values=valuesFn(scope)||[],keys=keyName?sortedKeys(values):values,locals={},selectedSet=!1;if(multiple)if(trackFn&&isArray(modelValue)){selectedSet=new HashMap([]);for(var trackIndex=0;trackIndex<modelValue.length;trackIndex++)locals[valueName]=modelValue[trackIndex],selectedSet.put(trackFn(scope,locals),modelValue[trackIndex])}else selectedSet=new HashMap(modelValue);for(index=0;length=keys.length,length>index;index++){if(key=index,keyName){if(key=keys[index],"$"===key.charAt(0))continue;locals[keyName]=key}if(locals[valueName]=values[key],optionGroupName=groupByFn(scope,locals)||"",(optionGroup=optionGroups[optionGroupName])||(optionGroup=optionGroups[optionGroupName]=[],optionGroupNames.push(optionGroupName)),multiple)selected=isDefined(selectedSet.remove(trackFn?trackFn(scope,locals):valueFn(scope,locals)));else{if(trackFn){var modelCast={};modelCast[valueName]=modelValue,selected=trackFn(scope,modelCast)===trackFn(scope,locals)}else selected=modelValue===valueFn(scope,locals);selectedSet=selectedSet||selected}label=displayFn(scope,locals),label=isDefined(label)?label:"",optionGroup.push({id:trackFn?trackFn(scope,locals):keyName?keys[index]:index,label:label,selected:selected})}for(multiple||(nullOption||null===modelValue?optionGroups[""].unshift({id:"",label:"",selected:!selectedSet}):selectedSet||optionGroups[""].unshift({id:"?",label:"",selected:!0})),groupIndex=0,groupLength=optionGroupNames.length;groupLength>groupIndex;groupIndex++){for(optionGroupName=optionGroupNames[groupIndex],optionGroup=optionGroups[optionGroupName],optionGroupsCache.length<=groupIndex?(existingParent={element:optGroupTemplate.clone().attr("label",optionGroupName),label:optionGroup.label},existingOptions=[existingParent],optionGroupsCache.push(existingOptions),selectElement.append(existingParent.element)):(existingOptions=optionGroupsCache[groupIndex],existingParent=existingOptions[0],existingParent.label!=optionGroupName&&existingParent.element.attr("label",existingParent.label=optionGroupName)),lastElement=null,index=0,length=optionGroup.length;length>index;index++)option=optionGroup[index],(existingOption=existingOptions[index+1])?(lastElement=existingOption.element,existingOption.label!==option.label&&lastElement.text(existingOption.label=option.label),existingOption.id!==option.id&&lastElement.val(existingOption.id=option.id),lastElement[0].selected!==option.selected&&lastElement.prop("selected",existingOption.selected=option.selected)):(""===option.id&&nullOption?element=nullOption:(element=optionTemplate.clone()).val(option.id).attr("selected",option.selected).text(option.label),existingOptions.push(existingOption={element:element,label:option.label,id:option.id,selected:option.selected}),lastElement?lastElement.after(element):existingParent.element.append(element),lastElement=element);for(index++;existingOptions.length>index;)existingOptions.pop().element.remove()}for(;optionGroupsCache.length>groupIndex;)optionGroupsCache.pop()[0].element.remove()}var match;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP)))throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],keyName=match[5],groupByFn=$parse(match[3]||""),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7]),track=match[8],trackFn=track?$parse(match[8]):null,optionGroupsCache=[[{element:selectElement,label:""}]];nullOption&&($compile(nullOption)(scope),nullOption.removeClass("ng-scope"),nullOption.remove()),selectElement.empty(),selectElement.on("change",function(){scope.$apply(function(){var optionGroup,key,value,optionElement,index,groupIndex,length,groupLength,trackIndex,collection=valuesFn(scope)||[],locals={};if(multiple){for(value=[],groupIndex=0,groupLength=optionGroupsCache.length;groupLength>groupIndex;groupIndex++)for(optionGroup=optionGroupsCache[groupIndex],index=1,length=optionGroup.length;length>index;index++)if((optionElement=optionGroup[index].element)[0].selected){if(key=optionElement.val(),keyName&&(locals[keyName]=key),trackFn)for(trackIndex=0;trackIndex<collection.length&&(locals[valueName]=collection[trackIndex],trackFn(scope,locals)!=key);trackIndex++);else locals[valueName]=collection[key];value.push(valueFn(scope,locals))
}}else if(key=selectElement.val(),"?"==key)value=undefined;else if(""===key)value=null;else if(trackFn){for(trackIndex=0;trackIndex<collection.length;trackIndex++)if(locals[valueName]=collection[trackIndex],trackFn(scope,locals)==key){value=valueFn(scope,locals);break}}else locals[valueName]=collection[key],keyName&&(locals[keyName]=key),value=valueFn(scope,locals);ctrl.$setViewValue(value)})}),ctrl.$render=render,scope.$watch(render)}if(ctrls[1]){for(var emptyOption,selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,optionsExp=attr.ngOptions,nullOption=!1,optionTemplate=jqLite(document.createElement("option")),optGroupTemplate=jqLite(document.createElement("optgroup")),unknownOption=optionTemplate.clone(),i=0,children=element.children(),ii=children.length;ii>i;i++)if(""===children[i].value){emptyOption=nullOption=children.eq(i);break}selectCtrl.init(ngModelCtrl,nullOption,unknownOption),multiple&&(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}),optionsExp?setupAsOptions(scope,element,ngModelCtrl):multiple?setupAsMultiple(scope,element,ngModelCtrl):setupAsSingle(scope,element,ngModelCtrl,selectCtrl)}}}}],optionDirective=["$interpolate",function($interpolate){var nullSelectCtrl={addOption:noop,removeOption:noop};return{restrict:"E",priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.databound?element.prop("selected",!1):selectCtrl=nullSelectCtrl,interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),newVal!==oldVal&&selectCtrl.removeOption(oldVal),selectCtrl.addOption(newVal)}):selectCtrl.addOption(attr.value),element.on("$destroy",function(){selectCtrl.removeOption(attr.value)})}}}}],styleDirective=valueFn({restrict:"E",terminal:!1});bindJQuery(),publishExternalAPI(angular),jqLite(document).ready(function(){angularInit(document,bootstrap)})}(window,document),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide{display:none !important;}ng\\:form{display:block;}.ng-animate-block-transitions{transition:0s all!important;-webkit-transition:0s all!important;}</style>'),function(){var n=null;!function(G){function m(a){if(m[a]!==s)return m[a];var c;if("bug-string-char-index"==a)c="a"!="a"[0];else if("json"==a)c=m("json-stringify")&&m("json-parse");else{var e;if("json-stringify"==a){c=o.stringify;var b="function"==typeof c&&l;if(b){(e=function(){return 1}).toJSON=e;try{b="0"===c(0)&&"0"===c(new Number)&&'""'==c(new String)&&c(p)===s&&c(s)===s&&c()===s&&"1"===c(e)&&"[1]"==c([e])&&"[null]"==c([s])&&"null"==c(n)&&"[null,null,null]"==c([s,p,n])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==c({a:[e,!0,!1,n,"\x00\b\n\f\r	"]})&&"1"===c(n,e)&&"[\n 1,\n 2\n]"==c([1,2],n,1)&&'"-271821-04-20T00:00:00.000Z"'==c(new Date(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==c(new Date(864e13))&&'"-000001-01-01T00:00:00.000Z"'==c(new Date(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==c(new Date(-1))}catch(f){b=!1}}c=b}if("json-parse"==a){if(c=o.parse,"function"==typeof c)try{if(0===c("0")&&!c(!1)){e=c('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var j=5==e.a.length&&1===e.a[0];if(j){try{j=!c('"	"')}catch(d){}if(j)try{j=1!==c("01")}catch(h){}if(j)try{j=1!==c("1.")}catch(k){}}}}catch(N){j=!1}c=j}}return m[a]=!!c}var q,x,s,p={}.toString,H="function"==typeof define&&define.amd,y="object"==typeof JSON&&JSON,o="object"==typeof exports&&exports&&!exports.nodeType&&exports;o&&y?(o.stringify=y.stringify,o.parse=y.parse):o=G.JSON=y||{};var l=new Date(-0xc782b5b800cec);try{l=-109252==l.getUTCFullYear()&&0===l.getUTCMonth()&&1===l.getUTCDate()&&10==l.getUTCHours()&&37==l.getUTCMinutes()&&6==l.getUTCSeconds()&&708==l.getUTCMilliseconds()}catch(O){}if(!m("json")){var t=m("bug-string-char-index");if(!l)var u=Math.floor,I=[0,31,59,90,120,151,181,212,243,273,304,334],z=function(a,c){return I[c]+365*(a-1970)+u((a-1969+(c=+(c>1)))/4)-u((a-1901+c)/100)+u((a-1601+c)/400)};(q={}.hasOwnProperty)||(q=function(a){var e,c={};return(c.__proto__=n,c.__proto__={toString:1},c).toString!=p?q=function(a){var c=this.__proto__,a=a in(this.__proto__=n,this);return this.__proto__=c,a}:(e=c.constructor,q=function(a){var c=(this.constructor||e).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=n,q.call(this,a)});var J={"boolean":1,number:1,string:1,undefined:1};if(x=function(a,c){var b,f,j,e=0;(b=function(){this.valueOf=0}).prototype.valueOf=0,f=new b;for(j in f)q.call(f,j)&&e++;return b=f=n,e?x=2==e?function(a,c){var f,e={},b="[object Function]"==p.call(a);for(f in a)!(b&&"prototype"==f)&&!q.call(e,f)&&(e[f]=1)&&q.call(a,f)&&c(f)}:function(a,c){var b,f,e="[object Function]"==p.call(a);for(b in a)!(e&&"prototype"==b)&&q.call(a,b)&&!(f="constructor"===b)&&c(b);(f||q.call(a,b="constructor"))&&c(b)}:(f=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],x=function(a,c){var b,g,e="[object Function]"==p.call(a);(g=!e)&&(g="function"!=typeof a.constructor)&&(g=typeof a.hasOwnProperty,g="object"==g?!!a.hasOwnProperty:!J[g]),g=g?a.hasOwnProperty:q;for(b in a)!(e&&"prototype"==b)&&g.call(a,b)&&c(b);for(e=f.length;b=f[--e];g.call(a,b)&&c(b));}),x(a,c)},!m("json-stringify")){var K={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},v=function(a,c){return("000000"+(c||0)).slice(-a)},D=function(a){var j,c='"',b=0,g=a.length,f=g>10&&t;for(f&&(j=a.split(""));g>b;b++){var d=a.charCodeAt(b);switch(d){case 8:case 9:case 10:case 12:case 13:case 34:case 92:c+=K[d];break;default:if(32>d){c+="\\u00"+v(2,d.toString(16));break}c+=f?j[b]:t?a.charAt(b):a[b]}}return c+'"'},B=function(a,c,b,g,f,j,d){var h,k,i,l,m,o,r,t,w;try{h=c[a]}catch(y){}if("object"==typeof h&&h)if(k=p.call(h),"[object Date]"!=k||q.call(h,"toJSON"))"function"==typeof h.toJSON&&("[object Number]"!=k&&"[object String]"!=k&&"[object Array]"!=k||q.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(z){for(l=u(h/864e5),k=u(l/365.2425)+1970-1;z(k+1,0)<=l;k++);for(i=u((l-z(k,0))/30.42);z(k,i+1)<=l;i++);l=1+l-z(k,i),m=(h%864e5+864e5)%864e5,o=u(m/36e5)%24,r=u(m/6e4)%60,t=u(m/1e3)%60,m%=1e3}else k=h.getUTCFullYear(),i=h.getUTCMonth(),l=h.getUTCDate(),o=h.getUTCHours(),r=h.getUTCMinutes(),t=h.getUTCSeconds(),m=h.getUTCMilliseconds();h=(0>=k||k>=1e4?(0>k?"-":"+")+v(6,0>k?-k:k):v(4,k))+"-"+v(2,i+1)+"-"+v(2,l)+"T"+v(2,o)+":"+v(2,r)+":"+v(2,t)+"."+v(3,m)+"Z"}else h=n;if(b&&(h=b.call(c,a,h)),h===n)return"null";if(k=p.call(h),"[object Boolean]"==k)return""+h;if("[object Number]"==k)return h>-1/0&&1/0>h?""+h:"null";if("[object String]"==k)return D(""+h);if("object"==typeof h){for(a=d.length;a--;)if(d[a]===h)throw TypeError();if(d.push(h),w=[],c=j,j+=f,"[object Array]"==k){for(i=0,a=h.length;a>i;i++)k=B(i,h,b,g,f,j,d),w.push(k===s?"null":k);a=w.length?f?"[\n"+j+w.join(",\n"+j)+"\n"+c+"]":"["+w.join(",")+"]":"[]"}else x(g||h,function(a){var c=B(a,h,b,g,f,j,d);c!==s&&w.push(D(a)+":"+(f?" ":"")+c)}),a=w.length?f?"{\n"+j+w.join(",\n"+j)+"\n"+c+"}":"{"+w.join(",")+"}":"{}";return d.pop(),a}};o.stringify=function(a,c,b){var g,f,j,d;if("function"==typeof c||"object"==typeof c&&c)if("[object Function]"==(d=p.call(c)))f=c;else if("[object Array]"==d){j={};for(var i,h=0,k=c.length;k>h;i=c[h++],d=p.call(i),("[object String]"==d||"[object Number]"==d)&&(j[i]=1));}if(b)if("[object Number]"==(d=p.call(b))){if((b-=b%1)>0)for(g="",b>10&&(b=10);g.length<b;g+=" ");}else"[object String]"==d&&(g=b.length<=10?b:b.slice(0,10));return B("",(i={},i[""]=a,i),f,j,g,"",[])}}if(!m("json-parse")){var b,A,L=String.fromCharCode,M={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},i=function(){throw b=A=n,SyntaxError()},r=function(){for(var e,g,f,j,d,a=A,c=a.length;c>b;)switch(d=a.charCodeAt(b)){case 9:case 10:case 13:case 32:b++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=t?a.charAt(b):a[b],b++,e;case 34:for(e="@",b++;c>b;)if(d=a.charCodeAt(b),32>d)i();else if(92==d)switch(d=a.charCodeAt(++b)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=M[d],b++;break;case 117:for(g=++b,f=b+4;f>b;b++)d=a.charCodeAt(b),d>=48&&57>=d||d>=97&&102>=d||d>=65&&70>=d||i();e+=L("0x"+a.slice(g,b));break;default:i()}else{if(34==d)break;for(d=a.charCodeAt(b),g=b;d>=32&&92!=d&&34!=d;)d=a.charCodeAt(++b);e+=a.slice(g,b)}if(34==a.charCodeAt(b))return b++,e;i();default:if(g=b,45==d&&(j=!0,d=a.charCodeAt(++b)),d>=48&&57>=d){for(48==d&&(d=a.charCodeAt(b+1),d>=48&&57>=d)&&i();c>b&&(d=a.charCodeAt(b),d>=48&&57>=d);b++);if(46==a.charCodeAt(b)){for(f=++b;c>f&&(d=a.charCodeAt(f),d>=48&&57>=d);f++);f==b&&i(),b=f}if(d=a.charCodeAt(b),101==d||69==d){for(d=a.charCodeAt(++b),(43==d||45==d)&&b++,f=b;c>f&&(d=a.charCodeAt(f),d>=48&&57>=d);f++);f==b&&i(),b=f}return+a.slice(g,b)}if(j&&i(),"true"==a.slice(b,b+4))return b+=4,!0;if("false"==a.slice(b,b+5))return b+=5,!1;if("null"==a.slice(b,b+4))return b+=4,n;i()}return"$"},C=function(a){var c,b;if("$"==a&&i(),"string"==typeof a){if("@"==(t?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(c=[];a=r(),"]"!=a;b||(b=!0))b&&(","==a?(a=r(),"]"==a&&i()):i()),","==a&&i(),c.push(C(a));return c}if("{"==a){for(c={};a=r(),"}"!=a;b||(b=!0))b&&(","==a?(a=r(),"}"==a&&i()):i()),(","==a||"string"!=typeof a||"@"!=(t?a.charAt(0):a[0])||":"!=r())&&i(),c[a.slice(1)]=C(r());return c}i()}return a},F=function(a,b,e){e=E(a,b,e),e===s?delete a[b]:a[b]=e},E=function(a,b,e){var f,g=a[b];if("object"==typeof g&&g)if("[object Array]"==p.call(g))for(f=g.length;f--;)F(g,f,e);else x(g,function(a){F(g,a,e)});return e.call(a,b,g)};o.parse=function(a,c){var e,g;return b=0,A=""+a,e=C(r()),"$"!=r()&&i(),b=A=n,c&&"[object Function]"==p.call(c)?E((g={},g[""]=e,g),"",c):e}}}H&&define(function(){return o})}(this)}(),function(window,angular,undefined){"use strict";function isValidDottedPath(path){return null!=path&&""!==path&&"hasOwnProperty"!==path&&MEMBER_NAME_REGEX.test("."+path)}function lookupDottedPath(obj,path){if(!isValidDottedPath(path))throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',path);for(var keys=path.split("."),i=0,ii=keys.length;ii>i&&obj!==undefined;i++){var key=keys[i];obj=null!==obj?obj[key]:undefined}return obj}function shallowClearAndCopy(src,dst){dst=dst||{},angular.forEach(dst,function(value,key){delete dst[key]});for(var key in src)!src.hasOwnProperty(key)||"$"===key.charAt(0)&&"$"===key.charAt(1)||(dst[key]=src[key]);return dst}var $resourceMinErr=angular.$$minErr("$resource"),MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;angular.module("ngResource",["ng"]).factory("$resource",["$http","$q",function($http,$q){function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function Route(template,defaults){this.template=template,this.defaults=defaults||{},this.urlParams={}}function resourceFactory(url,paramDefaults,actions){function extractParams(data,actionParams){var ids={};return actionParams=extend({},paramDefaults,actionParams),forEach(actionParams,function(value,key){isFunction(value)&&(value=value()),ids[key]=value&&value.charAt&&"@"==value.charAt(0)?lookupDottedPath(data,value.substr(1)):value}),ids}function defaultResponseInterceptor(response){return response.resource}function Resource(value){shallowClearAndCopy(value||{},this)}var route=new Route(url);return actions=extend({},DEFAULT_ACTIONS,actions),forEach(actions,function(action,name){var hasBody=/^(POST|PUT|PATCH)$/i.test(action.method);Resource[name]=function(a1,a2,a3,a4){var data,success,error,params={};switch(arguments.length){case 4:error=a4,success=a3;case 3:case 2:if(!isFunction(a2)){params=a1,data=a2,success=a3;break}if(isFunction(a1)){success=a1,error=a2;break}success=a2,error=a3;case 1:isFunction(a1)?success=a1:hasBody?data=a1:params=a1;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var isInstanceCall=this instanceof Resource,value=isInstanceCall?data:action.isArray?[]:new Resource(data),httpConfig={},responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor,responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||undefined;forEach(action,function(value,key){"params"!=key&&"isArray"!=key&&"interceptor"!=key&&(httpConfig[key]=copy(value))}),hasBody&&(httpConfig.data=data),route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$http(httpConfig).then(function(response){var data=response.data,promise=value.$promise;if(data){if(angular.isArray(data)!==!!action.isArray)throw $resourceMinErr("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",action.isArray?"array":"object",angular.isArray(data)?"array":"object");action.isArray?(value.length=0,forEach(data,function(item){value.push(new Resource(item))})):(shallowClearAndCopy(data,value),value.$promise=promise)}return value.$resolved=!0,response.resource=value,response},function(response){return value.$resolved=!0,(error||noop)(response),$q.reject(response)});return promise=promise.then(function(response){var value=responseInterceptor(response);return(success||noop)(value,response.headers),value},responseErrorInterceptor),isInstanceCall?promise:(value.$promise=promise,value.$resolved=!1,value)},Resource.prototype["$"+name]=function(params,success,error){isFunction(params)&&(error=success,success=params,params={});var result=Resource[name].call(this,params,this,success,error);return result.$promise||result}}),Resource.bind=function(additionalParamDefaults){return resourceFactory(url,extend({},paramDefaults,additionalParamDefaults),actions)},Resource}var DEFAULT_ACTIONS={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isFunction=angular.isFunction;return Route.prototype={setUrlParams:function(config,params,actionUrl){var val,encodedVal,self=this,url=actionUrl||self.template,urlParams=self.urlParams={};forEach(url.split(/\W/),function(param){if("hasOwnProperty"===param)throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(param)&&param&&new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)&&(urlParams[param]=!0)}),url=url.replace(/\\:/g,":"),params=params||{},forEach(self.urlParams,function(_,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam],angular.isDefined(val)&&null!==val?(encodedVal=encodeUriSegment(val),url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),function(match,p1){return encodedVal+p1})):url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){return"/"==tail.charAt(0)?tail:leadingSlashes+tail})}),url=url.replace(/\/+$/,"")||"/",url=url.replace(/\/\.(?=\w+($|\?))/,"."),config.url=url.replace(/\/\\\./,"/."),forEach(params,function(value,key){self.urlParams[key]||(config.params=config.params||{},config.params[key]=value)})}},resourceFactory}])}(window,window.angular),function(window,angular,undefined){"use strict";angular.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function($rootScope,$browser){function push(){var name,value,browserCookies,updated;for(name in lastCookies)isUndefined(cookies[name])&&$browser.cookies(name,undefined);for(name in cookies)value=cookies[name],angular.isString(value)?value!==lastCookies[name]&&($browser.cookies(name,value),updated=!0):angular.isDefined(lastCookies[name])?cookies[name]=lastCookies[name]:delete cookies[name];if(updated){updated=!1,browserCookies=$browser.cookies();for(name in cookies)cookies[name]!==browserCookies[name]&&(isUndefined(browserCookies[name])?delete cookies[name]:cookies[name]=browserCookies[name],updated=!0)}}var lastBrowserCookies,cookies={},lastCookies={},runEval=!1,copy=angular.copy,isUndefined=angular.isUndefined;return $browser.addPollFn(function(){var currentCookies=$browser.cookies();lastBrowserCookies!=currentCookies&&(lastBrowserCookies=currentCookies,copy(currentCookies,lastCookies),copy(currentCookies,cookies),runEval&&$rootScope.$apply())})(),runEval=!0,$rootScope.$watch(push),cookies}]).factory("$cookieStore",["$cookies",function($cookies){return{get:function(key){var value=$cookies[key];return value?angular.fromJson(value):value},put:function(key,value){$cookies[key]=angular.toJson(value)},remove:function(key){delete $cookies[key]}}}])}(window,window.angular),function(window,angular){"use strict";function $SanitizeProvider(){this.$get=["$$sanitizeUri",function($$sanitizeUri){return function(html){var buf=[];return htmlParser(html,htmlSanitizeWriter(buf,function(uri,isImage){return!/^unsafe/.test($$sanitizeUri(uri,isImage))})),buf.join("")}}]}function sanitizeText(chars){var buf=[],writer=htmlSanitizeWriter(buf,angular.noop);return writer.chars(chars),buf.join("")}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function htmlParser(html,handler){function parseStartTag(tag,tagName,rest,unary){if(tagName=angular.lowercase(tagName),blockElements[tagName])for(;stack.last()&&inlineElements[stack.last()];)parseEndTag("",stack.last());optionalEndTagElements[tagName]&&stack.last()==tagName&&parseEndTag("",tagName),unary=voidElements[tagName]||!!unary,unary||stack.push(tagName);var attrs={};rest.replace(ATTR_REGEXP,function(match,name,doubleQuotedValue,singleQuotedValue,unquotedValue){var value=doubleQuotedValue||singleQuotedValue||unquotedValue||"";attrs[name]=decodeEntities(value)}),handler.start&&handler.start(tagName,attrs,unary)}function parseEndTag(tag,tagName){var i,pos=0;if(tagName=angular.lowercase(tagName))for(pos=stack.length-1;pos>=0&&stack[pos]!=tagName;pos--);if(pos>=0){for(i=stack.length-1;i>=pos;i--)handler.end&&handler.end(stack[i]);stack.length=pos}}var index,chars,match,stack=[],last=html;for(stack.last=function(){return stack[stack.length-1]};html;){if(chars=!0,stack.last()&&specialElements[stack.last()])html=html.replace(new RegExp("(.*)<\\s*\\/\\s*"+stack.last()+"[^>]*>","i"),function(all,text){return text=text.replace(COMMENT_REGEXP,"$1").replace(CDATA_REGEXP,"$1"),handler.chars&&handler.chars(decodeEntities(text)),""}),parseEndTag("",stack.last());else if(0===html.indexOf("<!--")?(index=html.indexOf("--",4),index>=0&&html.lastIndexOf("-->",index)===index&&(handler.comment&&handler.comment(html.substring(4,index)),html=html.substring(index+3),chars=!1)):DOCTYPE_REGEXP.test(html)?(match=html.match(DOCTYPE_REGEXP),match&&(html=html.replace(match[0],""),chars=!1)):BEGING_END_TAGE_REGEXP.test(html)?(match=html.match(END_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(END_TAG_REGEXP,parseEndTag),chars=!1)):BEGIN_TAG_REGEXP.test(html)&&(match=html.match(START_TAG_REGEXP),match&&(html=html.substring(match[0].length),match[0].replace(START_TAG_REGEXP,parseStartTag),chars=!1)),chars){index=html.indexOf("<");var text=0>index?html:html.substring(0,index);html=0>index?"":html.substring(index),handler.chars&&handler.chars(decodeEntities(text))}if(html==last)throw $sanitizeMinErr("badparse","The sanitizer was unable to parse the following block of html: {0}",html);last=html}parseEndTag()}function decodeEntities(value){if(!value)return"";var parts=spaceRe.exec(value),spaceBefore=parts[1],spaceAfter=parts[3],content=parts[2];return content&&(hiddenPre.innerHTML=content.replace(/</g,"&lt;"),content="textContent"in hiddenPre?hiddenPre.textContent:hiddenPre.innerText),spaceBefore+content+spaceAfter}function encodeEntities(value){return value.replace(/&/g,"&amp;").replace(NON_ALPHANUMERIC_REGEXP,function(value){return"&#"+value.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function htmlSanitizeWriter(buf,uriValidator){var ignore=!1,out=angular.bind(buf,buf.push);return{start:function(tag,attrs,unary){tag=angular.lowercase(tag),!ignore&&specialElements[tag]&&(ignore=tag),ignore||validElements[tag]!==!0||(out("<"),out(tag),angular.forEach(attrs,function(value,key){var lkey=angular.lowercase(key),isImage="img"===tag&&"src"===lkey||"background"===lkey;validAttrs[lkey]!==!0||uriAttrs[lkey]===!0&&!uriValidator(value,isImage)||(out(" "),out(key),out('="'),out(encodeEntities(value)),out('"'))}),out(unary?"/>":">"))},end:function(tag){tag=angular.lowercase(tag),ignore||validElements[tag]!==!0||(out("</"),out(tag),out(">")),tag==ignore&&(ignore=!1)},chars:function(chars){ignore||out(encodeEntities(chars))}}}var $sanitizeMinErr=angular.$$minErr("$sanitize"),START_TAG_REGEXP=/^<\s*([\w:-]+)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*>/,END_TAG_REGEXP=/^<\s*\/\s*([\w:-]+)[^>]*>/,ATTR_REGEXP=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,BEGIN_TAG_REGEXP=/^</,BEGING_END_TAGE_REGEXP=/^<\s*\//,COMMENT_REGEXP=/<!--(.*?)-->/g,DOCTYPE_REGEXP=/<!DOCTYPE([^>]*?)>/i,CDATA_REGEXP=/<!\[CDATA\[(.*?)]]>/g,NON_ALPHANUMERIC_REGEXP=/([^\#-~| |!])/g,voidElements=makeMap("area,br,col,hr,img,wbr"),optionalEndTagBlockElements=makeMap("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),optionalEndTagInlineElements=makeMap("rp,rt"),optionalEndTagElements=angular.extend({},optionalEndTagInlineElements,optionalEndTagBlockElements),blockElements=angular.extend({},optionalEndTagBlockElements,makeMap("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),inlineElements=angular.extend({},optionalEndTagInlineElements,makeMap("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),specialElements=makeMap("script,style"),validElements=angular.extend({},voidElements,blockElements,inlineElements,optionalEndTagElements),uriAttrs=makeMap("background,cite,href,longdesc,src,usemap"),validAttrs=angular.extend({},uriAttrs,makeMap("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,span,start,summary,target,title,type,valign,value,vspace,width")),hiddenPre=document.createElement("pre"),spaceRe=/^(\s*)([\s\S]*?)(\s*)$/;angular.module("ngSanitize",[]).provider("$sanitize",$SanitizeProvider),angular.module("ngSanitize").filter("linky",["$sanitize",function($sanitize){var LINKY_URL_REGEXP=/((ftp|https?):\/\/|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>]/,MAILTO_REGEXP=/^mailto:/;return function(text,target){function addText(text){text&&html.push(sanitizeText(text))}function addLink(url,text){html.push("<a "),angular.isDefined(target)&&(html.push('target="'),html.push(target),html.push('" ')),html.push('href="'),html.push(url),html.push('">'),addText(text),html.push("</a>")}if(!text)return text;for(var match,url,i,raw=text,html=[];match=raw.match(LINKY_URL_REGEXP);)url=match[0],match[2]==match[3]&&(url="mailto:"+url),i=match.index,addText(raw.substr(0,i)),addLink(url,match[0].replace(MAILTO_REGEXP,"")),raw=raw.substring(i+match[0].length);return addText(raw),$sanitize(html.join(""))}}])}(window,window.angular),function(window,angular){"use strict";function $RouteProvider(){function inherit(parent,extra){return angular.extend(new(angular.extend(function(){},{prototype:parent})),extra)}function pathRegExp(path,opts){var insensitive=opts.caseInsensitiveMatch,ret={originalPath:path,regexp:path},keys=ret.keys=[];return path=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(_,slash,key,option){var optional="?"===option?option:null,star="*"===option?option:null;return keys.push({name:key,optional:!!optional}),slash=slash||"",""+(optional?"":slash)+"(?:"+(optional?slash:"")+(star&&"(.+?)"||"([^/]+)")+(optional||"")+")"+(optional||"")}).replace(/([\/$\*])/g,"\\$1"),ret.regexp=new RegExp("^"+path+"$",insensitive?"i":""),ret}var routes={};this.when=function(path,route){if(routes[path]=angular.extend({reloadOnSearch:!0},route,path&&pathRegExp(path,route)),path){var redirectPath="/"==path[path.length-1]?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({redirectTo:path},pathRegExp(redirectPath,route))}return this},this.otherwise=function(params){return this.when(null,params),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function($rootScope,$location,$routeParams,$q,$injector,$http,$templateCache,$sce){function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;len>i;++i){var key=keys[i-1],val="string"==typeof m[i]?decodeURIComponent(m[i]):m[i];key&&val&&(params[key.name]=val)}return params}function updateRoute(){var next=parseRoute(),last=$route.current;next&&last&&next.$$route===last.$$route&&angular.equals(next.pathParams,last.pathParams)&&!next.reloadOnSearch&&!forceReload?(last.params=next.params,angular.copy(last.params,$routeParams),$rootScope.$broadcast("$routeUpdate",last)):(next||last)&&(forceReload=!1,$rootScope.$broadcast("$routeChangeStart",next,last),$route.current=next,next&&next.redirectTo&&(angular.isString(next.redirectTo)?$location.path(interpolate(next.redirectTo,next.params)).search(next.params).replace():$location.url(next.redirectTo(next.pathParams,$location.path(),$location.search())).replace()),$q.when(next).then(function(){if(next){var template,templateUrl,locals=angular.extend({},next.resolve);return angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value)}),angular.isDefined(template=next.template)?angular.isFunction(template)&&(template=template(next.params)):angular.isDefined(templateUrl=next.templateUrl)&&(angular.isFunction(templateUrl)&&(templateUrl=templateUrl(next.params)),templateUrl=$sce.getTrustedResourceUrl(templateUrl),angular.isDefined(templateUrl)&&(next.loadedTemplateUrl=templateUrl,template=$http.get(templateUrl,{cache:$templateCache}).then(function(response){return response.data}))),angular.isDefined(template)&&(locals.$template=template),$q.all(locals)}}).then(function(locals){next==$route.current&&(next&&(next.locals=locals,angular.copy(next.params,$routeParams)),$rootScope.$broadcast("$routeChangeSuccess",next,last))},function(error){next==$route.current&&$rootScope.$broadcast("$routeChangeError",next,last,error)}))}function parseRoute(){var params,match;return angular.forEach(routes,function(route){!match&&(params=switchRouteMatcher($location.path(),route))&&(match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params}),match.$$route=route)}),match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function interpolate(string,params){var result=[];return angular.forEach((string||"").split(":"),function(segment,i){if(0===i)result.push(segment);else{var segmentMatch=segment.match(/(\w+)(.*)/),key=segmentMatch[1];result.push(params[key]),result.push(segmentMatch[2]||""),delete params[key]}}),result.join("")}var forceReload=!1,$route={routes:routes,reload:function(){forceReload=!0,$rootScope.$evalAsync(updateRoute)}};return $rootScope.$on("$locationChangeSuccess",updateRoute),$route}]}function $RouteParamsProvider(){this.$get=function(){return{}}}function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){function cleanupLastView(){currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement),currentElement=null)}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(template){var newScope=scope.$new(),current=$route.current,clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element,function(){!angular.isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()}),cleanupLastView()});currentElement=clone,currentScope=current.scope=newScope,currentScope.$emit("$viewContentLoaded"),currentScope.$eval(onloadExp)}else cleanupLastView()}var currentScope,currentElement,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update),update()}}}function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);current.controllerAs&&(scope[current.controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}var ngRouteModule=angular.module("ngRoute",["ng"]).provider("$route",$RouteProvider);ngRouteModule.provider("$routeParams",$RouteParamsProvider),ngRouteModule.directive("ngView",ngViewFactory),ngRouteModule.directive("ngView",ngViewFillContentFactory),ngViewFactory.$inject=["$route","$anchorScroll","$animate"],ngViewFillContentFactory.$inject=["$compile","$controller","$route"]}(window,window.angular),function(){function g(a){throw a}function ba(a){return function(){return this[a]}}function o(a){return function(){return a}}function da(){}function ea(a){a.mb=function(){return a.ed?a.ed:a.ed=new a}}function fa(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function t(a){return a!==aa}function ga(a){var b=fa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function u(a){return"string"==typeof a}function ha(a){return"number"==typeof a}function ia(a){var b=typeof a;return"object"==b&&a!=k||"function"==b}function ja(a){return a.call.apply(a.bind,arguments)}function ka(a,b){if(a||g(Error()),2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function v(){return v=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ja:ka,v.apply(k,arguments)}function la(a,b){function c(){}c.prototype=b.prototype,a.Yd=b.prototype,a.prototype=new c}function ma(a){if(a=String(a),/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}g(Error("Invalid JSON string: "+a))}function na(){this.gc=aa
}function oa(a,b,c){switch(typeof b){case"string":pa(b,c);break;case"number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case"boolean":c.push(b);break;case"undefined":c.push("null");break;case"object":if(b==k){c.push("null");break}if("array"==fa(b)){var d=b.length;c.push("[");for(var e="",f=0;d>f;f++)c.push(e),e=b[f],oa(a,a.gc?a.gc.call(b,String(f),e):e,c),e=",";c.push("]");break}c.push("{"),d="";for(f in b)Object.prototype.hasOwnProperty.call(b,f)&&(e=b[f],"function"!=typeof e&&(c.push(d),pa(f,c),c.push(":"),oa(a,a.gc?a.gc.call(b,f,e):e,c),d=","));c.push("}");break;case"function":break;default:g(Error("Unknown type: "+typeof b))}}function pa(a,b){b.push('"',a.replace(ra,function(a){if(a in qa)return qa[a];var b=a.charCodeAt(0),e="\\u";return 16>b?e+="000":256>b?e+="00":4096>b&&(e+="0"),qa[a]=e+b.toString(16)}),'"')}function sa(a){return"undefined"!=typeof JSON&&t(JSON.parse)?JSON.parse(a):ma(a)}function w(a){if("undefined"!=typeof JSON&&t(JSON.stringify))a=JSON.stringify(a);else{var b=[];oa(new na,a,b),a=b.join("")}return a}function ta(a){for(var b=[],c=0,d=0;d<a.length;d++){var e=a.charCodeAt(d);e>=55296&&56319>=e&&(e-=55296,d++,y(d<a.length,"Surrogate pair missing trail surrogate."),e=65536+(e<<10)+(a.charCodeAt(d)-56320)),128>e?b[c++]=e:(2048>e?b[c++]=e>>6|192:(65536>e?b[c++]=e>>12|224:(b[c++]=e>>18|240,b[c++]=e>>12&63|128),b[c++]=e>>6&63|128),b[c++]=63&e|128)}return b}function z(a,b,c,d){var e;b>d?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e&&g(Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+"."))}function A(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:ua.assert(l,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a+" failed: "+(d+" argument ")}function B(a,b,c,d){(!d||t(c))&&"function"!=fa(c)&&g(Error(A(a,b,d)+"must be a valid function."))}function va(a,b,c){t(c)&&(!ia(c)||c===k)&&g(Error(A(a,b,j)+"must be a valid context object."))}function C(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function wa(a,b){return Object.prototype.hasOwnProperty.call(a,b)?a[b]:void 0}function za(a){return u(a)&&0!==a.length&&!xa.test(a)}function Aa(a,b,c){(!c||t(b))&&Ba(A(a,1,c),b)}function Ba(a,b,c,d){if(c||(c=0),d||(d=[]),t(b)||g(Error(a+"contains undefined"+Ca(d))),"function"==fa(b)&&g(Error(a+"contains a function"+Ca(d)+" with contents: "+b.toString())),Da(b)&&g(Error(a+"contains "+b.toString()+Ca(d))),c>1e3&&g(new TypeError(a+"contains a cyclic object value ("+d.slice(0,100).join(".")+"...)")),u(b)&&b.length>10485760/3&&10485760<ta(b).length&&g(Error(a+"contains a string greater than 10485760 utf8 bytes"+Ca(d)+" ('"+b.substring(0,50)+"...')")),ia(b))for(var e in b)C(b,e)&&(".priority"!==e&&".value"!==e&&".sv"!==e&&!za(e)&&g(Error(a+"contains an invalid key ("+e+")"+Ca(d)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')),d.push(e),Ba(a,b[e],c+1,d),d.pop())}function Ca(a){return 0==a.length?"":" in property '"+a.join(".")+"'"}function Ea(a,b){ia(b)||g(Error(A(a,1,l)+" must be an object containing the children to replace.")),Aa(a,b,l)}function Fa(a,b,c,d){(!d||t(c))&&!(c===k||ha(c)||u(c)||ia(c)&&C(c,".sv")||!g(Error(A(a,b,d)+"must be a valid firebase priority (a string, number, or null).")))}function Ga(a,b,c){if(!c||t(b))switch(b){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:g(Error(A(a,1,c)+'must be a valid event type: "value", "child_added", "child_removed", "child_changed", or "child_moved".'))}}function Ha(a,b){t(b)&&!za(b)&&g(Error(A(a,2,j)+'was an invalid key: "'+b+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").'))}function Ia(a,b){(!u(b)||0===b.length||ya.test(b))&&g(Error(A(a,1,l)+'was an invalid path: "'+b+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"'))}function D(a,b){".info"===E(b)&&g(Error(a+" failed: Can't modify data under /.info/"))}function F(a,b,c,d,e,f,h){this.n=a,this.path=b,this.Ca=c,this.da=d,this.va=e,this.Aa=f,this.Ra=h,t(this.da)&&t(this.Aa)&&t(this.Ca)&&g("Query: Can't combine startAt(), endAt(), and limit().")}function Ka(a){var b={};return t(a.da)&&(b.sp=a.da),t(a.va)&&(b.sn=a.va),t(a.Aa)&&(b.ep=a.Aa),t(a.Ra)&&(b.en=a.Ra),t(a.Ca)&&(b.l=a.Ca),t(a.da)&&t(a.va)&&a.da===k&&a.va===k&&(b.vf="l"),b}function Ja(a,b,c){var d={};return b&&c?(d.cancel=b,B(a,3,d.cancel,j),d.T=c,va(a,4,d.T)):b&&("object"==typeof b&&b!==k?d.T=b:"function"==typeof b?d.cancel=b:g(Error(A(a,3,j)+"must either be a cancel callback or a context object."))),d}function J(a){if(a instanceof J)return a;if(1==arguments.length){this.m=a.split("/");for(var b=0,c=0;c<this.m.length;c++)0<this.m[c].length&&(this.m[b]=this.m[c],b++);this.m.length=b,this.Z=0}else this.m=arguments[0],this.Z=arguments[1]}function E(a){return a.Z>=a.m.length?k:a.m[a.Z]}function Ma(a){var b=a.Z;return b<a.m.length&&b++,new J(a.m,b)}function Na(a,b){var c=E(a);return c===k?b:c===E(b)?Na(Ma(a),Ma(b)):void g("INTERNAL ERROR: innerPath ("+b+") is not within outerPath ("+a+")")}function Oa(){this.children={},this.sc=0,this.value=k}function Pa(a,b,c){this.Da=a?a:"",this.Ab=b?b:k,this.z=c?c:new Oa}function K(a,b){for(var e,c=b instanceof J?b:new J(b),d=a;(e=E(c))!==k;)d=new Pa(e,d,wa(d.z.children,e)||new Oa),c=Ma(c);return d}function Qa(a,b){y("undefined"!=typeof b),a.z.value=b,Ra(a)}function Sa(a,b,c,d){c&&!d&&b(a),a.w(function(a){Sa(a,b,j,d)}),c&&d&&b(a)}function Ta(a,b,c){for(a=c?a:a.parent();a!==k;){if(b(a))return j;a=a.parent()}return l}function Ra(a){if(a.Ab!==k){var b=a.Ab,c=a.Da,d=a.f(),e=C(b.z.children,c);d&&e?(delete b.z.children[c],b.z.sc--,Ra(b)):!d&&!e&&(b.z.children[c]=a.z,b.z.sc++,Ra(b))}}function Ua(a,b){this.Oa=a?a:Va,this.ca=b?b:Wa}function Va(a,b){return b>a?-1:a>b?1:0}function Xa(a,b){for(var c,d=a.ca,e=k;!d.f();){if(c=a.Oa(b,d.key),0===c){if(d.left.f())return e?e.key:k;for(d=d.left;!d.right.f();)d=d.right;return d.key}0>c?d=d.left:c>0&&(e=d,d=d.right)}g(Error("Attempted to find predecessor key for a nonexistent key.  What gives?"))}function Ya(a,b){for(this.md=b,this.Tb=[];!a.f();)this.Tb.push(a),a=a.left}function Za(a){if(0===a.Tb.length)return k;var c,b=a.Tb.pop();for(c=a.md?a.md(b.key,b.value):{key:b.key,value:b.value},b=b.right;!b.f();)a.Tb.push(b),b=b.left;return c}function $a(a,b,c,d,e){this.key=a,this.value=b,this.color=c!=k?c:j,this.left=d!=k?d:Wa,this.right=e!=k?e:Wa}function ab(a){return a.left.f()?a:ab(a.left)}function eb(a){return a.left.f()?Wa:(!a.left.N()&&!a.left.left.N()&&(a=fb(a)),a=a.copy(k,k,k,eb(a.left),k),db(a))}function db(a){return a.right.N()&&!a.left.N()&&(a=ib(a)),a.left.N()&&a.left.left.N()&&(a=gb(a)),a.left.N()&&a.right.N()&&(a=hb(a)),a}function fb(a){return a=hb(a),a.right.left.N()&&(a=a.copy(k,k,k,k,gb(a.right)),a=ib(a),a=hb(a)),a}function ib(a){var b;return b=a.copy(k,k,j,k,a.right.left),a.right.copy(k,k,a.color,b,k)}function gb(a){var b;return b=a.copy(k,k,j,a.left.right,k),a.left.copy(k,k,a.color,k,b)}function hb(a){var b,c;return b=a.left.copy(k,k,!a.left.color,k,k),c=a.right.copy(k,k,!a.right.color,k,k),a.copy(k,k,!a.color,b,c)}function jb(){}function kb(a){this.Pb=a,this.bc="firebase:"}function lb(){this.ib={}}function mb(a){try{if("undefined"!=typeof window&&"undefined"!=typeof window[a]){var b=window[a];return b.setItem("firebase:sentinel","cache"),b.removeItem("firebase:sentinel"),new kb(b)}}catch(c){}return new lb}function pb(a,b,c,d){this.host=a.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.hc=b,this.Sb=c,this.fa=d||nb.get("host:"+a)||this.host}function qb(a,b){b!==a.fa&&(a.fa=b,"s-"===a.fa.substr(0,2)&&nb.set("host:"+a.host,a.fa))}function rb(){}function sb(){this.B=[],this.rc=[],this.ud=[],this.Zb=[],this.Zb[0]=128;for(var a=1;64>a;++a)this.Zb[a]=0;this.reset()}function tb(a,b){var c;c||(c=0);for(var d=a.ud,e=c;c+64>e;e+=4)d[e/4]=b[e]<<24|b[e+1]<<16|b[e+2]<<8|b[e+3];for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=4294967295&(f<<1|f>>>31)}c=a.B[0];for(var p,h=a.B[1],i=a.B[2],m=a.B[3],n=a.B[4],e=0;80>e;e++)40>e?20>e?(f=m^h&(i^m),p=1518500249):(f=h^i^m,p=1859775393):60>e?(f=h&i|m&(h|i),p=2400959708):(f=h^i^m,p=3395469782),f=(c<<5|c>>>27)+f+n+p+d[e]&4294967295,n=m,m=i,i=4294967295&(h<<30|h>>>2),h=c,c=f;a.B[0]=a.B[0]+c&4294967295,a.B[1]=a.B[1]+h&4294967295,a.B[2]=a.B[2]+i&4294967295,a.B[3]=a.B[3]+m&4294967295,a.B[4]=a.B[4]+n&4294967295}function Cb(){return ca.navigator?ca.navigator.userAgent:k}function Mb(a,b){if(ga(a)||g(Error("encodeByteArray takes an array as a parameter")),!Kb){Kb={},Lb={};for(var c=0;65>c;c++)Kb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(c),Lb[c]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(c)}for(var c=b?Lb:Kb,d=[],e=0;e<a.length;e+=3){var f=a[e],h=e+1<a.length,i=h?a[e+1]:0,m=e+2<a.length,n=m?a[e+2]:0,p=f>>2,f=(3&f)<<4|i>>4,i=(15&i)<<2|n>>6,n=63&n;m||(n=64,h||(i=64)),d.push(c[p],c[f],c[i],c[n])}return d.join("")}function y(a,b){a||g(Error("Firebase INTERNAL ASSERT FAILED:"+b))}function Pb(a){var b=ta(a),a=new sb;a.update(b);var b=[],c=8*a.Vc;56>a.ob?a.update(a.Zb,56-a.ob):a.update(a.Zb,64-(a.ob-56));for(var d=63;d>=56;d--)a.rc[d]=255&c,c/=256;for(tb(a,a.rc),d=c=0;5>d;d++)for(var e=24;e>=0;e-=8)b[c++]=a.B[d]>>e&255;return Mb(b)}function Qb(){for(var a="",b=0;b<arguments.length;b++)a=ga(arguments[b])?a+Qb.apply(k,arguments[b]):"object"==typeof arguments[b]?a+w(arguments[b]):a+arguments[b],a+=" ";return a}function L(){if(Sb===j&&(Sb=l,Rb===k&&ob.get("logging_enabled")===j&&Tb(j)),Rb){var a=Qb.apply(k,arguments);Rb(a)}}function Ub(a){return function(){L(a,arguments)}}function Vb(){if("undefined"!=typeof console){var a="FIREBASE INTERNAL ERROR: "+Qb.apply(k,arguments);"undefined"!=typeof console.error?console.error(a):console.log(a)}}function Wb(){var a=Qb.apply(k,arguments);g(Error("FIREBASE FATAL ERROR: "+a))}function M(){if("undefined"!=typeof console){var a="FIREBASE WARNING: "+Qb.apply(k,arguments);"undefined"!=typeof console.warn?console.warn(a):console.log(a)}}function Da(a){return ha(a)&&(a!=a||a==Number.POSITIVE_INFINITY||a==Number.NEGATIVE_INFINITY)}function Xb(a,b){return a!==b?a===k?-1:b===k?1:typeof a!=typeof b?"number"==typeof a?-1:1:a>b?1:-1:0}function Yb(a,b){if(a===b)return 0;var c=Zb(a),d=Zb(b);return c!==k?d!==k?c-d:-1:d!==k?1:b>a?-1:1}function $b(a,b){return b&&a in b?b[a]:void g(Error("Missing required key ("+a+") in object: "+w(b)))}function La(a){if("object"!=typeof a||a===k)return w(a);var c,b=[];for(c in a)b.push(c);b.sort(),c="{";for(var d=0;d<b.length;d++)0!==d&&(c+=","),c+=w(b[d]),c+=":",c+=La(a[b[d]]);return c+"}"}function ac(a,b){if(a.length<=b)return[a];for(var c=[],d=0;d<a.length;d+=b)c.push(d+b>a?a.substring(d,a.length):a.substring(d,d+b));return c}function bc(a,b){if("array"==fa(a))for(var c=0;c<a.length;++c)b(c,a[c]);else cc(a,b)}function dc(a){y(!Da(a));var b,c,d,e;for(0===a?(d=c=0,b=-1/0===1/a?1:0):(b=0>a,a=Math.abs(a),a>=Math.pow(2,-1022)?(d=Math.min(Math.floor(Math.log(a)/Math.LN2),1023),c=d+1023,d=Math.round(a*Math.pow(2,52-d)-Math.pow(2,52))):(c=0,d=Math.round(a/Math.pow(2,-1074)))),e=[],a=52;a;a-=1)e.push(d%2?1:0),d=Math.floor(d/2);for(a=11;a;a-=1)e.push(c%2?1:0),c=Math.floor(c/2);for(e.push(b?1:0),e.reverse(),b=e.join(""),c="",a=0;64>a;a+=8)d=parseInt(b.substr(a,8),2).toString(16),1===d.length&&(d="0"+d),c+=d;return c.toLowerCase()}function Zb(a){return ec.test(a)&&(a=Number(a),a>=-2147483648&&2147483647>=a)?a:k}function fc(a){try{a()}catch(b){setTimeout(function(){g(b)})}}function gc(a,b){this.D=a,y(this.D!==k,"LeafNode shouldn't be created with null value."),this.Ya="undefined"!=typeof b?b:k}function ic(a,b){return Xb(a.ia,b.ia)||Yb(a.name,b.name)}function jc(a,b){return Yb(a.name,b.name)}function kc(a,b){return Yb(a,b)}function O(a,b){this.o=a||new Ua(kc),this.Ya="undefined"!=typeof b?b:k}function lc(a,b,c){O.call(this,a,c),b===k&&(b=new Ua(ic),a.Ba(function(a,c){b=b.oa({name:a,ia:c.j()},c)})),this.ua=b}function Q(a,b){if(a===k)return N;var c=k;if("object"==typeof a&&".priority"in a?c=a[".priority"]:"undefined"!=typeof b&&(c=b),y(c===k||"string"==typeof c||"number"==typeof c||"object"==typeof c&&".sv"in c),"object"==typeof a&&".value"in a&&a[".value"]!==k&&(a=a[".value"]),"object"!=typeof a||".sv"in a)return new gc(a,c);if(a instanceof Array){var d=N;return cc(a,function(b,c){if(C(a,c)&&"."!==c.substring(0,1)){var e=Q(b);(e.M()||!e.f())&&(d=d.H(c,e))}}),d.Ga(c)}var e=[],f={},h=l;bc(a,function(b,c){if("string"!=typeof c||"."!==c.substring(0,1)){var d=Q(a[c]);d.f()||(h=h||d.j()!==k,e.push({name:c,ia:d.j()}),f[c]=d)}});var i=nc(e,f,l);if(h){var m=nc(e,f,j);return new lc(i,m,c)}return new O(i,c)}function qc(a){this.count=parseInt(Math.log(a+1)/oc),this.$c=this.count-1,this.wd=a+1&parseInt(Array(this.count+1).join("1"),2)}function nc(a,b,c){function d(d,f){var h=n-d,p=n;n-=d;var q=a[h].name,h=new $a(c?a[h]:q,b[q],f,k,e(h+1,p));i?i.left=h:m=h,i=h}function e(d,f){var h=f-d;if(0==h)return k;if(1==h){var h=a[d].name,i=c?a[d]:h;return new $a(i,b[h],l,k,k)}var i=parseInt(h/2)+d,m=e(d,i),n=e(i+1,f),h=a[i].name,i=c?a[i]:h;return new $a(i,b[h],l,m,n)}var f=c?ic:jc;a.sort(f);var h,f=new qc(a.length),i=k,m=k,n=a.length;for(h=0;h<f.count;++h){var p=!(f.wd&1<<f.$c);f.$c--;var q=Math.pow(2,f.count-(h+1));p?d(q,l):(d(q,l),d(q,j))}return h=m,f=c?ic:kc,h!==k?new Ua(f,h):new Ua(f)}function hc(a){return"number"==typeof a?"number:"+dc(a):"string:"+a}function R(a,b){this.z=a,this.ec=b}function rc(a){y("array"==fa(a)&&0<a.length),this.vd=a,this.sb={}}function sc(a,b){var d,c=a.vd;a:{d=function(a){return a===b};for(var e=c.length,f=u(c)?c.split(""):c,h=0;e>h;h++)if(h in f&&d.call(aa,f[h])){d=h;break a}d=-1}y(0>d?k:u(c)?c.charAt(d):c[d],"Unknown event: "+b)}function tc(){rc.call(this,["visible"]);var a,b;if("undefined"!=typeof document&&"undefined"!=typeof document.addEventListener&&("undefined"!=typeof document.hidden?(b="visibilitychange",a="hidden"):"undefined"!=typeof document.mozHidden?(b="mozvisibilitychange",a="mozHidden"):"undefined"!=typeof document.msHidden?(b="msvisibilitychange",a="msHidden"):"undefined"!=typeof document.webkitHidden&&(b="webkitvisibilitychange",a="webkitHidden")),this.gb=j,b){var c=this;document.addEventListener(b,function(){var b=!document[a];b!==c.gb&&(c.gb=b,c.Xc("visible",b))},l)}}function uc(a){this.Jc=a,this.ac=[],this.Qa=0,this.tc=-1,this.Ka=k}function cc(a,b){for(var c in a)b.call(aa,a[c],c,a)}function vc(a){var c,b={};for(c in a)b[c]=a[c];return b}function wc(){this.jb={}}function xc(a,b,c){t(c)||(c=1),C(a.jb,b)||(a.jb[b]=0),a.jb[b]+=c}function yc(a){this.xd=a,this.Qb=k}function zc(a,b){this.Sc={},this.kc=new yc(a),this.u=b,setTimeout(v(this.kd,this),10+6e4*Math.random())}function Cc(a){return a=a.toString(),Ac[a]||(Ac[a]=new wc),Ac[a]}function Dc(){this.set={}}function Ec(a,b){for(var c in a.set)C(a.set,c)&&b(c,a.set[c])}function Hc(a,b,c){this.uc=a,this.e=Ub(a),this.Xd=b,this.$=Cc(b),this.jc=c,this.kb=l,this.Lb=function(a){b.host!==b.fa&&(a.ns=b.Sb);var f,c=[];for(f in a)a.hasOwnProperty(f)&&c.push(f+"="+a[f]);return(b.hc?"https://":"http://")+b.fa+"/.lp?"+c.join("&")}}function Kc(a,b,c,d){if(this.Lb=d,this.ha=c,this.Lc=new Dc,this.Cb=[],this.vc=Math.floor(1e8*Math.random()),this.ic=j,this.mc=Nb(),window[Fc+this.mc]=a,window[Gc+this.mc]=b,a=document.createElement("iframe"),a.style.display="none",document.body){document.body.appendChild(a);try{a.contentWindow.document||L("No IE domain setting required")}catch(e){a.src="javascript:void((function(){document.open();document.domain='"+document.domain+"';document.close();})())"}}else g("Document body has not initialized. Wait to initialize Firebase until after the document is ready.");a.contentDocument?a.za=a.contentDocument:a.contentWindow?a.za=a.contentWindow.document:a.document&&(a.za=a.document),this.Y=a,a="",this.Y.src&&"javascript:"===this.Y.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";</script>'),a="<html><body>"+a+"</body></html>";try{this.Y.za.open(),this.Y.za.write(a),this.Y.za.close()}catch(f){L("frame writing exception"),f.stack&&L(f.stack),L(f)}}function Mc(a){if(a.pc&&a.ic&&a.Lc.count()<(0<a.Cb.length?2:1)){a.vc++;var b={};b.id=a.Gd,b.pw=a.Hd,b.ser=a.vc;for(var b=a.Lb(b),c="",d=0;0<a.Cb.length&&1870>=a.Cb[0].ad.length+30+c.length;){var e=a.Cb.shift(),c=c+"&seg"+d+"="+e.Qd+"&ts"+d+"="+e.Vd+"&d"+d+"="+e.ad;d++}var b=b+c,f=a.vc;a.Lc.add(f);var h=function(){a.Lc.remove(f),Mc(a)},i=setTimeout(h,25e3);return Lc(a,b,function(){clearTimeout(i),h()}),j}return l}function Lc(a,b,c){setTimeout(function(){try{if(a.ic){var d=a.Y.za.createElement("script");d.type="text/javascript",d.async=j,d.src=b,d.onload=d.onreadystatechange=function(){var a=d.readyState;a&&"loaded"!==a&&"complete"!==a||(d.onload=d.onreadystatechange=k,d.parentNode&&d.parentNode.removeChild(d),c())},d.onerror=function(){L("Long-poll script failed to load: "+b),a.ic=l,a.close()},a.Y.za.body.appendChild(d)}}catch(e){}},1)}function S(a,b,c){this.uc=a,this.e=Ub(this.uc),this.frames=this.qb=k,this.Uc=0,this.$=Cc(b),this.Pa=(b.hc?"wss://":"ws://")+b.fa+"/.ws?v=5",b.host!==b.fa&&(this.Pa=this.Pa+"&ns="+b.Sb),c&&(this.Pa=this.Pa+"&s="+c)}function Rc(a,b){if(a.frames.push(b),a.frames.length==a.Uc){var c=a.frames.join("");a.frames=k,c=sa(c),a.Id(c)}}function Qc(a){clearInterval(a.qb),a.qb=setInterval(function(){a.W&&a.W.send("0"),Qc(a)},45e3)}function Pc(a){a.ba&&(clearTimeout(a.ba),a.ba=k)}function Sc(){var a=[];S&&S.isAvailable()&&!nb.get("previous_websocket_failure")?a.push(S):bc(Tc,function(b,c){c&&c.isAvailable()&&a.push(c)}),this.lc=a}function Uc(a,b,c,d,e,f){this.id=a,this.e=Ub("c:"+this.id+":"),this.Jc=c,this.xb=d,this.R=e,this.Ic=f,this.J=b,this.$b=[],this.Yc=0,this.Wc=new Sc,this.wa=0,this.e("Connection created"),Vc(this)}function Vc(a){var b,c=a.Wc;0<c.lc.length?b=c.lc[0]:g(Error("No transports available")),a.K=new b("c:"+a.id+":"+a.Yc++,a.J);var d=Wc(a,a.K),e=Xc(a,a.K);a.Jb=a.K,a.Hb=a.K,a.A=k,setTimeout(function(){a.K&&a.K.open(d,e)},0)}function Xc(a,b){return function(c){b===a.K?(a.K=k,c||0!==a.wa?1===a.wa&&a.e("Realtime connection lost."):(a.e("Realtime connection failed."),"s-"===a.J.fa.substr(0,2)&&(nb.remove("host:"+a.J.host),a.J.fa=a.J.host)),a.close()):b===a.A?(c=a.A,a.A=k,(a.Jb===c||a.Hb===c)&&a.close()):a.e("closing an old connection")}}function Wc(a,b){return function(c){if(2!=a.wa)if(b===a.Hb){var d=$b("t",c),c=$b("d",c);if("c"==d){if(d=$b("t",c),"d"in c)if(c=c.d,"h"===d){var d=c.ts,e=c.v,f=c.h;a.jc=c.s,qb(a.J,f),0==a.wa&&(a.K.start(),c=a.K,a.e("Realtime connection established."),a.K=c,a.wa=1,a.xb&&(a.xb(d),a.xb=k),"5"!==e&&M("Protocol version mismatch detected"),c=1<a.Wc.lc.length?a.Wc.lc[1]:k)&&(a.A=new c("c:"+a.id+":"+a.Yc++,a.J,a.jc),a.A.open(Wc(a,a.A),Xc(a,a.A)))}else if("n"===d){for(a.e("recvd end transmission on primary"),a.Hb=a.A,c=0;c<a.$b.length;++c)a.Xb(a.$b[c]);a.$b=[],Yc(a)}else"s"===d?(a.e("Connection shutdown command received. Shutting down..."),a.Ic&&(a.Ic(c),a.Ic=k),a.R=k,a.close()):"r"===d?(a.e("Reset packet received.  New host: "+c),qb(a.J,c),1===a.wa?a.close():($c(a),Vc(a))):Vb("e"===d?"Server Error: "+c:"Unknown control packet command: "+d)}else"d"==d&&a.Xb(c)}else b===a.A?(d=$b("t",c),c=$b("d",c),"c"==d?"t"in c&&(c=c.t,"a"===c?(a.A.start(),a.e("sending client ack on secondary"),a.A.send({t:"c",d:{t:"a",d:{}}}),a.e("Ending transmission on primary"),a.K.send({t:"c",d:{t:"n",d:{}}}),a.Jb=a.A,Yc(a)):"r"===c&&(a.e("Got a reset on secondary, closing it"),a.A.close(),(a.Jb===a.A||a.Hb===a.A)&&a.close())):"d"==d?a.$b.push(c):g(Error("Unknown protocol layer: "+d))):a.e("message on old connection")}}function Yc(a){a.Jb===a.A&&a.Hb===a.A&&(a.e("cleaning up and promoting a connection: "+a.A.uc),a.K=a.A,a.A=k)}function $c(a){a.e("Shutting down all connections"),a.K&&(a.K.close(),a.K=k),a.A&&(a.A.close(),a.A=k)}function ad(){if(rc.call(this,["online"]),this.yb=j,"undefined"!=typeof window&&"undefined"!=typeof window.addEventListener){var a=this;window.addEventListener("online",function(){a.yb||a.Xc("online",j),a.yb=j},l),window.addEventListener("offline",function(){a.yb&&a.Xc("online",l),a.yb=l},l)}}function bd(a,b,c,d,e,f){this.id=cd++,this.e=Ub("p:"+this.id+":"),this.Na=j,this.ga={},this.U=[],this.zb=0,this.wb=[],this.P=l,this.qa=1e3,this.Rb=3e5,this.Yb=b||da,this.Wb=c||da,this.vb=d||da,this.Kc=e||da,this.Bc=f||da,this.J=a,this.Oc=k,this.Gb={},this.Pd=0,this.rb=this.Fc=k,dd(this,0),tc.mb().Xa("visible",this.Kd,this),-1===a.host.indexOf("fblocal")&&ad.mb().Xa("online",this.Jd,this)}function fd(a,b,c,d,e){a.e("Listen on "+b+" for "+c);var f={p:b},d=wb(d,function(a){return Ka(a)});"{}"!==c&&(f.q=d),f.h=a.Bc(b),a.Fa("l",f,function(d){a.e("listen response",d),d=d.s,"ok"!==d&&gd(a,b,c),e&&e(d)})}function hd(a){var b=a.Ha;a.P&&b&&a.Fa("auth",{cred:b.yd},function(c){var d=c.s,c=c.d||"error";"ok"!==d&&a.Ha===b&&delete a.Ha,a.vb("ok"===d),b.bd?"ok"!==d&&b.Nb&&b.Nb(d,c):(b.bd=j,b.X&&b.X(d,c))})}function id(a,b,c,d){b=b.toString(),gd(a,b,c)&&a.P&&(a.e("Unlisten on "+b+" for "+c),b={p:b},d=wb(d,function(a){return Ka(a)}),"{}"!==c&&(b.q=d),a.Fa("u",b))}function jd(a,b,c,d){a.P?kd(a,"o",b,c,d):a.wb.push({Mc:b,action:"o",data:c,C:d})}function kd(a,b,c,d,e){c={p:c,d:d},a.e("onDisconnect "+b,c),a.Fa(b,c,function(a){e&&setTimeout(function(){e(a.s)},0)})}function ld(a,b,c,d,e,f){c={p:c,d:d},t(f)&&(c.h=f),a.U.push({action:b,ld:c,C:e}),a.zb++,b=a.U.length-1,a.P&&md(a,b)}function md(a,b){var c=a.U[b].action,d=a.U[b].ld,e=a.U[b].C;a.U[b].Md=a.P,a.Fa(c,d,function(d){a.e(c+" response",d),delete a.U[b],a.zb--,0===a.zb&&(a.U=[]),e&&e(d.s)})}function dd(a,b){y(!a.ja,"Scheduling a connect when we're already connected/ing?"),a.Sa&&clearTimeout(a.Sa),a.Sa=setTimeout(function(){if(a.Sa=k,a.Na){a.e("Making a connection attempt"),a.Fc=(new Date).getTime(),a.rb=k;var b=v(a.Xb,a),d=v(a.xb,a),e=v(a.gd,a),f=a.id+":"+ed++;a.ja=new Uc(f,a.J,b,d,e,function(b){M(b+" ("+a.J.toString()+")"),a.Na=l})}},b)}function gd(a,b,c){b=new J(b).toString(),c||(c="{}");var d=a.ga[b][c];return delete a.ga[b][c],d}function nd(){this.o=this.D=k}function od(a,b,c){if(b.f())a.D=c,a.o=k;else if(a.D!==k)a.D=a.D.ya(b,c);else{a.o==k&&(a.o=new Dc);var d=E(b);a.o.contains(d)||a.o.add(d,new nd),a=a.o.get(d),b=Ma(b),od(a,b,c)}}function pd(a,b){if(b.f())return a.D=k,a.o=k,j;if(a.D!==k){if(a.D.M())return l;var c=a.D;return a.D=k,c.w(function(b,c){od(a,new J(b),c)}),pd(a,b)}return a.o!==k?(c=E(b),b=Ma(b),a.o.contains(c)&&pd(a.o.get(c),b)&&a.o.remove(c),a.o.f()?(a.o=k,j):l):j}function qd(a,b,c){a.D!==k?c(b,a.D):a.w(function(a,e){var f=new J(b.toString()+"/"+a);qd(e,f,c)})}function rd(){this.ra=N}function T(a,b){return a.ra.Q(b)}function U(a,b,c){a.ra=a.ra.ya(b,c)}function sd(){this.sa=new rd,this.O=new rd,this.ma=new rd,this.Bb=new Pa}function td(a,b){for(var c=T(a.sa,b),d=T(a.O,b),e=K(a.Bb,b),f=l,h=e;h!==k;){if(h.k()!==k){f=j;break}h=h.parent()}return f?l:(c=ud(c,d,e),c!==d?(U(a.O,b,c),j):l)}function ud(a,b,c){return c.f()?a:c.k()!==k?b:(a=a||N,c.w(function(d){var d=d.name(),e=a.L(d),f=b.L(d),h=K(c,d),e=ud(e,f,h);a=a.H(d,e)}),a)}function vd(a,b){vb(b,function(b){var d=b.Rd,b=K(a.Bb,b.path),e=b.k();y(e!==k,"pendingPut should not be null."),e===d&&Qa(b,k)})}function wd(){this.Ta=[]}function xd(a,b){if(0!==b.length)for(var c=0;c<b.length;c++)a.Ta.push(b[c])}function yd(a){var b=a.X,c=a.pd,d=a.Db;fc(function(){b(c,d)})}function V(a,b,c,d){this.type=a,this.ta=b,this.aa=c,this.Db=d}function zd(a){this.I=a,this.na=[],this.xc=new wd}function Ad(a,b,c,d,e){a.na.push({type:b,X:c,cancel:d,T:e});var d=[],f=Bd(a.i);a.pb&&f.push(new V("value",a.i));for(var h=0;h<f.length;h++)if(f[h].type===b){var i=new H(a.I.n,a.I.path);f[h].aa&&(i=i.F(f[h].aa)),d.push({X:e?v(c,e):c,pd:new R(f[h].ta,i),Db:f[h].Db})}xd(a.xc,d)}function Cd(a,b){for(var c=[],d=0;d<b.length;d++){var e=b[d],f=e.type,h=new H(a.I.n,a.I.path);for(b[d].aa&&(h=h.F(b[d].aa)),h=new R(b[d].ta,h),"value"!==e.type||h.nb()?"value"!==e.type&&(f+=" "+h.name()):f+="("+h.V()+")",L(a.I.n.u.id+": event:"+a.I.path+":"+a.I.La()+":"+f),f=0;f<a.na.length;f++){var i=a.na[f];b[d].type===i.type&&c.push({X:i.T?v(i.X,i.T):i.X,pd:h,Db:e.Db})}}xd(a.xc,c)}function Bd(a){var b=[];if(!a.M()){var c=k;a.w(function(a,e){b.push(new V("child_added",e,a,c)),c=a})}return b}function Ed(a){a.pb||(a.pb=j,Cd(a,[new V("value",a.i)]))}function Fd(a,b){zd.call(this,a),this.i=b}function Gd(a,b){this.Ob=a,this.Gc=b}function Hd(a,b,c,d,e){var f=a.Q(c),h=b.Q(c),d=new Gd(d,e),e=Id(d,c,f,h),h=!f.f()&&!h.f()&&f.j()!==h.j();if(e||h)for(f=c,c=e;f.parent()!==k;){var i=a.Q(f),e=b.Q(f),m=f.parent();if(!d.Ob||K(d.Ob,m).k()){var n=b.Q(m),p=[],f=f.Z<f.m.length?f.m[f.m.length-1]:k;i.f()?(i=n.ea(f,e),p.push(new V("child_added",e,f,i))):e.f()?p.push(new V("child_removed",i,f)):(i=n.ea(f,e),h&&p.push(new V("child_moved",e,f,i)),c&&p.push(new V("child_changed",e,f,i))),d.Gc(m,n,p)}h&&(h=l,c=j),f=m}}function Id(a,b,c,d){var e,f=[];return c===d?e=l:c.M()&&d.M()?e=c.k()!==d.k():c.M()?(Jd(a,b,N,d,f),e=j):d.M()?(Jd(a,b,c,N,f),e=j):e=Jd(a,b,c,d,f),e?a.Gc(b,d,f):c.j()!==d.j()&&a.Gc(b,d,k),e}function Jd(a,b,c,d,e){var x,P,I,G,f=l,h=!a.Ob||!K(a.Ob,b).f(),i=[],m=[],n=[],p=[],q={},r={};for(x=c.Ua(),I=Za(x),P=d.Ua(),G=Za(P);I!==k||G!==k;)if(c=I===k?1:G===k?-1:I.key===G.key?0:ic({name:I.key,ia:I.value.j()},{name:G.key,ia:G.value.j()}),0>c?(f=wa(q,I.key),t(f)?(n.push({zc:I,Tc:i[f]}),i[f]=k):(r[I.key]=m.length,m.push(I)),f=j,I=Za(x)):(c>0?(f=wa(r,G.key),t(f)?(n.push({zc:m[f],Tc:G}),m[f]=k):(q[G.key]=i.length,i.push(G)),f=j):(c=b.F(G.key),(c=Id(a,c,I.value,G.value))&&(p.push(G),f=j),I.value.j()!==G.value.j()&&(n.push({zc:I,Tc:G}),f=j),I=Za(x)),G=Za(P)),!h&&f)return j;for(h=0;h<m.length;h++)(q=m[h])&&(c=b.F(q.key),Id(a,c,q.value,N),e.push(new V("child_removed",q.value,q.key)));for(h=0;h<i.length;h++)(q=i[h])&&(c=b.F(q.key),m=d.ea(q.key,q.value),Id(a,c,N,q.value),e.push(new V("child_added",q.value,q.key,m)));for(h=0;h<n.length;h++)q=n[h].zc,i=n[h].Tc,c=b.F(i.key),m=d.ea(i.key,i.value),e.push(new V("child_moved",i.value,i.key,m)),(c=Id(a,c,q.value,i.value))&&p.push(i);for(h=0;h<p.length;h++)a=p[h],m=d.ea(a.key,a.value),e.push(new V("child_changed",a.value,a.key,m));return f}function Kd(){this.S=this.xa=k,this.set={}}function Ld(a){return a.contains("default")}function Md(a){return a.xa!=k&&Ld(a)}function Nd(a,b){zd.call(this,a),this.i=N,this.dc(b,Bd(b))}function Od(a,b,c,d){if(a.M())return k;var e=k;return(d?a.yc:a.w).call(a,function(a,d){return Pd(b,a,d)&&(e=a,c--,0===c)?j:void 0}),e}function Pd(a,b,c){for(var d=0;d<a.length;d++)if(!a[d](b,c.j()))return l;return j}function Qd(a,b){this.u=a,this.g=b,this.Vb=b.ra,this.la=new Pa}function Td(a,b,c,d,e){var h,f=a.get(b);if(h=f){h=l;for(var i=f.na.length-1;i>=0;i--){var m=f.na[i];if(!(c&&m.type!==c||d&&m.X!==d||e&&m.T!==e)&&(f.na.splice(i,1),h=j,c&&d))break}h=h&&!(0<f.na.length)}return(c=h)&&a.remove(b),c}function Ud(a,b,c,d,e,f){var h=b.path(),h=K(a.la,h),c=c?c.La():k,i=[];if(c&&"default"!==c?Td(b,c,d,e,f)&&i.push(c):vb(b.keys(),function(a){Td(b,a,d,e,f)&&i.push(a)}),b.f()&&Qa(h,k),c=Rd(h),0<i.length&&!c){for(var m=h,n=h.parent(),c=l;!c&&n;){var p=n.k();if(p){y(!Md(p));var q=m.name(),r=l;Ec(p,function(a,b){r=b.Cc(q)||r}),r&&(c=j)}m=n,n=n.parent()}if(m=k,!Md(b)){n=b.xa,b.xa=k;var x=[],P=function(b){var c=b.k();if(c&&Ld(c))x.push(c.path()),c.xa==k&&c.setActive(Sd(a,c));else{if(c){c.xa!=k||c.setActive(Sd(a,c));var d={};Ec(c,function(a,b){b.i.w(function(a){C(d,a)||(d[a]=j,a=c.path().F(a),x.push(a))})})}b.w(P)}};P(h),m=x,n&&n()}return c?k:m}return k}function Vd(a,b,c){Sa(K(a.la,b),function(a){(a=a.k())&&Ec(a,function(a,b){Ed(b)})},c,j)}function W(a,b,c){function d(a){do{if(h[a.toString()])return j;a=a.parent()}while(a!==k);return l}var e=a.Vb,f=a.g.ra;a.Vb=f;for(var h={},i=0;i<c.length;i++)h[c[i].toString()]=j;Hd(e,f,b,a.la,function(c,e,f){if(b.contains(c)){var h=d(c);h&&Vd(a,c,l),a.cc(c,e,f),h&&Vd(a,c,j)}else a.cc(c,e,f)}),d(b)&&Vd(a,b,j),Wd(a,b)}function Wd(a,b){var c=K(a.la,b);Sa(c,function(a){(a=a.k())&&Ec(a,function(a,b){b.Eb()})},j,j),Ta(c,function(a){(a=a.k())&&Ec(a,function(a,b){b.Eb()})},l)}function Rd(a){return Ta(a,function(a){return a.k()&&Md(a.k())})}function Sd(a,b){if(a.u){var h,c=a.u,d=b.path(),e=b.toString(),f=b.Za(),i=b.keys(),m=Ld(b),n=a.u,p=function(c){if("ok"!==c){var d="Unknown Error";"too_big"===c?d="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==c?d="Client doesn't have permission to access the desired data.":"unavailable"==c&&(d="The service is unavailable");var e=Error(c+": "+d);e.code=c.toUpperCase(),M("on() or once() for "+b.path().toString()+" failed: "+e.toString()),b&&(Ec(b,function(a,b){for(var c=0;c<b.na.length;c++){var d=b.na[c];d.cancel&&(d.T?v(d.cancel,d.T):d.cancel)(e)}}),Ud(a,b))}else h||(m?Vd(a,b.path(),j):vb(i,function(a){(a=b.get(a))&&Ed(a)}),Wd(a,b.path()))},q=b.toString(),r=b.path().toString();return n.ga[r]=n.ga[r]||{},y(!n.ga[r][q],"listen() called twice for same path/queryId."),n.ga[r][q]={Za:b.Za(),C:p},n.P&&fd(n,r,q,b.Za(),p),function(){h=j,id(c,d,e,f)}}return da}function Xd(a,b,c,d,e){var f=b.path(),b=a.lb(f,b,d,e),h=N,i=[];return cc(b,function(b,n){var p=new J(n);3===b||1===b?h=h.H(n,d.Q(p)):(2===b&&i.push({path:f.F(n),pa:N}),i=i.concat(Yd(a,d.Q(p),K(c,p),e)))}),[{path:f,pa:h}].concat(i)}function Zd(a,b,c,d){var e;a:{var f=K(a.la,b);e=f.parent();for(var h=[];e!==k;){var i=e.k();if(i!==k){if(Ld(i)){e=[{path:b,pa:c}];break a}if(i=a.lb(b,i,c,d),f=wa(i,f.name()),3===f||1===f){e=[{path:b,pa:c}];break a}2===f&&h.push({path:b,pa:N})}f=e,e=e.parent()}e=h}return 1!=e.length||e[0].pa.f()&&!c.f()?(h=K(a.la,b),f=h.k(),f!==k?Ld(f)?e.push({path:b,pa:c}):e=e.concat(Xd(a,f,h,c,d)):e=e.concat(Yd(a,c,h,d)),e):e}function Yd(a,b,c,d){var e=c.k();if(e!==k)return Ld(e)?[{path:c.path(),pa:b}]:Xd(a,e,c,b,d);var f=[];return c.w(function(c){var e=b.M()?N:b.L(c.name()),c=Yd(a,e,c,d);f=f.concat(c)}),f}function $d(a,b){return a&&"object"==typeof a?(y(".sv"in a,"Unexpected leaf node or priority contents"),b[a[".sv"]]):a}function ae(a,b){var d,c=$d(a.j(),b);if(a.M()){var e=$d(a.k(),b);return e!==a.k()||c!==a.j()?new gc(e,c):a}return d=a,c!==a.j()&&(d=d.Ga(c)),a.w(function(a,c){var e=ae(c,b);e!==c&&(d=d.H(a,e))}),d}function be(a){this.J=a,this.$=Cc(a),this.u=new bd(this.J,v(this.Yb,this),v(this.Wb,this),v(this.vb,this),v(this.Kc,this),v(this.Bc,this));var b=v(function(){return new zc(this.$,this.u)},this),a=a.toString();Bc[a]||(Bc[a]=b()),this.qd=Bc[a],this.eb=new Pa,this.fb=new rd,this.g=new sd,this.G=new Qd(this.u,this.g.ma),this.Dc=new rd,this.Ec=new Qd(k,this.Dc),ce(this,"connected",l),ce(this,"authenticated",l),this.R=new nd,this.wc=0}function de(a){return a=T(a.Dc,new J(".info/serverTimeOffset")).V()||0,(new Date).getTime()+a}function ee(a){return a=a={timestamp:de(a)},a.timestamp=a.timestamp||(new Date).getTime(),a}function ce(a,b,c){b=new J("/.info/"+b),U(a.Dc,b,Q(c)),W(a.Ec,b,[b])}function he(a,b,c,d){var e=Q(c);jd(a.u,b.toString(),e.V(j),function(c){"ok"===c&&od(a.R,b,e),X(d,c)})}function ie(a){xc(a.$,"deprecated_on_disconnect"),a.qd.Sc.deprecated_on_disconnect=j}function X(a,b,c){a&&fc(function(){if("ok"==b)a(k,c);else{var d=(b||"error").toUpperCase(),e=d;c&&(e+=": "+c),e=Error(e),e.code=d,a(e)}})}function je(a,b){var c=b||a.eb;if(b||ke(a,c),c.k()!==k){var d=le(a,c);if(y(0<d.length),xb(d,function(a){return 1===a.status})){for(var e=c.path(),f=0;f<d.length;f++)y(1===d[f].status,"tryToSendTransactionQueue_: items in queue should all be run."),d[f].status=2,d[f].nd++;c=T(a.g.O,e).hash(),U(a.g.O,e,T(a.g.ma,e));for(var h=T(a.fb,e).V(j),i=Nb(),m={},n=0;n<d.length;n++)d[n].qc&&(m[d[n].path.toString()]=d[n].path);var q,p=[];for(q in m)p.push(m[q]);for(f=0;f<p.length;f++)Qa(K(a.g.Bb,p[f]),i);a.u.put(e.toString(),h,function(b){for(a.e("transaction put response",{path:e.toString(),status:b}),f=0;f<p.length;f++){var c=K(a.g.Bb,p[f]),h=c.k();y(h!==k,"sendTransactionQueue_: pendingPut should not be null."),h===i&&(Qa(c,k),U(a.g.O,p[f],T(a.g.sa,p[f])))
}if("ok"===b){for(b=[],f=0;f<d.length;f++)d[f].status=3,d[f].C&&(c=me(a,d[f].path),b.push(v(d[f].C,k,k,j,c))),d[f].nc();for(ke(a,K(a.eb,e)),je(a),f=0;f<b.length;f++)fc(b[f])}else{if("datastale"===b)for(f=0;f<d.length;f++)d[f].status=4===d[f].status?5:1;else for(M("transaction at "+e+" failed: "+b),f=0;f<d.length;f++)d[f].status=5,d[f].oc=b;b=fe(a,e),W(a.G,b,[e])}},c)}}else c.nb()&&c.w(function(b){je(a,b)})}function fe(a,b){var c=ne(a,b),d=c.path(),c=le(a,c);if(U(a.g.ma,d,T(a.g.O,d)),U(a.fb,d,T(a.g.O,d)),0!==c.length){for(var e=T(a.g.ma,d),f=e,h=[],i=0;i<c.length;i++){var p,m=Na(d,c[i].path),n=l;if(y(m!==k,"rerunTransactionsUnderNode_: relativePath should not be null."),5===c[i].status)n=j,p=c[i].oc;else if(1===c[i].status)if(25<=c[i].nd)n=j,p="maxretry";else{var q=e.Q(m),r=c[i].update(q.V());if(t(r)){Ba("transaction failed: Data returned ",r);var x=Q(r);"object"==typeof r&&r!=k&&C(r,".priority")||(x=x.Ga(q.j())),e=e.ya(m,x),c[i].qc&&(f=f.ya(m,x))}else n=j,p="nodata"}n&&(c[i].status=3,setTimeout(c[i].nc,0),c[i].C&&(n=new H(a,c[i].path),m=new R(e.Q(m),n),h.push("nodata"===p?v(c[i].C,k,k,l,m):v(c[i].C,k,Error(p),l,m))))}for(U(a.fb,d,e),U(a.g.ma,d,f),ke(a,a.eb),i=0;i<h.length;i++)fc(h[i]);je(a)}return d}function ne(a,b){for(var c,d=a.eb;(c=E(b))!==k&&d.k()===k;)d=K(d,c),b=Ma(b);return d}function le(a,b){var c=[];return oe(a,b,c),c.sort(function(a,b){return a.hd-b.hd}),c}function oe(a,b,c){var d=b.k();if(d!==k)for(var e=0;e<d.length;e++)c.push(d[e]);b.w(function(b){oe(a,b,c)})}function ke(a,b){var c=b.k();if(c){for(var d=0,e=0;e<c.length;e++)3!==c[e].status&&(c[d]=c[e],d++);c.length=d,Qa(b,0<c.length?c:k)}b.w(function(b){ke(a,b)})}function ge(a,b){var c=ne(a,b).path(),d=K(a.eb,b);return Ta(d,function(a){pe(a)}),pe(d),Sa(d,function(a){pe(a)}),c}function pe(a){var b=a.k();if(b!==k){for(var c=[],d=-1,e=0;e<b.length;e++)4!==b[e].status&&(2===b[e].status?(y(d===e-1,"All SENT items should be at beginning of queue."),d=e,b[e].status=4,b[e].oc="set"):(y(1===b[e].status),b[e].nc(),b[e].C&&c.push(v(b[e].C,k,Error("set"),l,k))));for(-1===d?Qa(a,k):b.length=d+1,e=0;e<c.length;e++)fc(c[e])}}function me(a,b){var c=new H(a,b);return new R(T(a.fb,b),c)}function Y(){this.$a={}}function $(a,b,c){this.Fb=a,this.S=b,this.Da=c}function H(){var a,b,c;if(arguments[0]instanceof be)c=arguments[0],a=arguments[1];else{z("new Firebase",1,2,arguments.length);var d=arguments[0];b=a="";var e=j,f="";if(u(d)){var h=d.indexOf("//");if(h>=0)var i=d.substring(0,h-1),d=d.substring(h+2);h=d.indexOf("/"),-1===h&&(h=d.length),a=d.substring(0,h);var d=d.substring(h+1),m=a.split(".");if(3==m.length){if(h=m[2].indexOf(":"),e=h>=0?"https"===i:j,"firebase"===m[1])Wb(a+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead");else for(b=m[0],f="",d=("/"+d).split("/"),i=0;i<d.length;i++)if(0<d[i].length){h=d[i];try{h=decodeURIComponent(h.replace(/\+/g," "))}catch(n){}f+="/"+h}b=b.toLowerCase()}else b=k}e||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&M("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),a=new pb(a,e,b),b=new J(f),e=b.toString(),(d=!u(a.host))||(d=0===a.host.length)||(d=!za(a.Sb))||(d=0!==e.length)&&(e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),d=!(u(e)&&0!==e.length&&!ya.test(e))),d&&g(Error(A("new Firebase",1,l)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')),arguments[1]?arguments[1]instanceof Y?c=arguments[1]:g(Error("Expected a valid Firebase.Context for second argument to new Firebase()")):c=Y.mb(),e=a.toString(),d=wa(c.$a,e),d||(d=new be(a),c.$a[e]=d),c=d,a=b}F.call(this,c,a)}function Tb(a,b){y(!b||a===j||a===l,"Can't turn on custom loggers persistently."),a===j?("undefined"!=typeof console&&("function"==typeof console.log?Rb=v(console.log,console):"object"==typeof console.log&&(Rb=function(a){console.log(a)})),b&&ob.set("logging_enabled",j)):a?Rb=a:(Rb=k,ob.remove("logging_enabled"))}var aa=void 0,j=!0,k=null,l=!1,s,ca=this;Math.floor(2147483648*Math.random()).toString(36);var qa={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},ra=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,ua={},xa=/[\[\].#$\/]/,ya=/[\[\].#$]/;F.prototype.Nc=function(){return z("Query.ref",0,0,arguments.length),new H(this.n,this.path)},F.prototype.ref=F.prototype.Nc,F.prototype.Xa=function(a,b){z("Query.on",2,4,arguments.length),Ga("Query.on",a,l),B("Query.on",2,b,l);var c=Ja("Query.on",arguments[2],arguments[3]);return this.n.Mb(this,a,b,c.cancel,c.T),b},F.prototype.on=F.prototype.Xa,F.prototype.ub=function(a,b,c){z("Query.off",0,3,arguments.length),Ga("Query.off",a,j),B("Query.off",2,b,j),va("Query.off",3,c),this.n.fc(this,a,b,c)},F.prototype.off=F.prototype.ub,F.prototype.Ld=function(a,b){function c(h){f&&(f=l,e.ub(a,c),b.call(d.T,h))}z("Query.once",2,4,arguments.length),Ga("Query.once",a,l),B("Query.once",2,b,l);var d=Ja("Query.once",arguments[2],arguments[3]),e=this,f=j;this.Xa(a,c,function(b){e.ub(a,c),d.cancel&&d.cancel.call(d.T,b)})},F.prototype.once=F.prototype.Ld,F.prototype.Ed=function(a){return z("Query.limit",1,1,arguments.length),(!ha(a)||Math.floor(a)!==a||0>=a)&&g("Query.limit: First argument must be a positive integer."),new F(this.n,this.path,a,this.da,this.va,this.Aa,this.Ra)},F.prototype.limit=F.prototype.Ed,F.prototype.Ud=function(a,b){return z("Query.startAt",0,2,arguments.length),Fa("Query.startAt",1,a,j),Ha("Query.startAt",b),t(a)||(b=a=k),new F(this.n,this.path,this.Ca,a,b,this.Aa,this.Ra)},F.prototype.startAt=F.prototype.Ud,F.prototype.zd=function(a,b){return z("Query.endAt",0,2,arguments.length),Fa("Query.endAt",1,a,j),Ha("Query.endAt",b),new F(this.n,this.path,this.Ca,this.da,this.va,a,b)},F.prototype.endAt=F.prototype.zd,F.prototype.La=function(){var a=La(Ka(this));return"{}"===a?"default":a},s=J.prototype,s.toString=function(){for(var a="",b=this.Z;b<this.m.length;b++)""!==this.m[b]&&(a+="/"+this.m[b]);return a||"/"},s.parent=function(){if(this.Z>=this.m.length)return k;for(var a=[],b=this.Z;b<this.m.length-1;b++)a.push(this.m[b]);return new J(a,0)},s.F=function(a){for(var b=[],c=this.Z;c<this.m.length;c++)b.push(this.m[c]);if(a instanceof J)for(c=a.Z;c<a.m.length;c++)b.push(a.m[c]);else for(a=a.split("/"),c=0;c<a.length;c++)0<a[c].length&&b.push(a[c]);return new J(b,0)},s.f=function(){return this.Z>=this.m.length},s.contains=function(a){var b=0;if(this.m.length>a.m.length)return l;for(;b<this.m.length;){if(this.m[b]!==a.m[b])return l;++b}return j},s=Pa.prototype,s.k=function(){return this.z.value},s.nb=function(){return 0<this.z.sc},s.f=function(){return this.k()===k&&!this.nb()},s.w=function(a){for(var b in this.z.children)a(new Pa(b,this,this.z.children[b]))},s.path=function(){return new J(this.Ab===k?this.Da:this.Ab.path()+"/"+this.Da)},s.name=ba("Da"),s.parent=ba("Ab"),s=Ua.prototype,s.oa=function(a,b){return new Ua(this.Oa,this.ca.oa(a,b,this.Oa).copy(k,k,l,k,k))},s.remove=function(a){return new Ua(this.Oa,this.ca.remove(a,this.Oa).copy(k,k,l,k,k))},s.get=function(a){for(var b,c=this.ca;!c.f();){if(b=this.Oa(a,c.key),0===b)return c.value;0>b?c=c.left:b>0&&(c=c.right)}return k},s.f=function(){return this.ca.f()},s.count=function(){return this.ca.count()},s.tb=function(){return this.ca.tb()},s.Va=function(){return this.ca.Va()},s.Ba=function(a){return this.ca.Ba(a)},s.Ma=function(a){return this.ca.Ma(a)},s.Ua=function(a){return new Ya(this.ca,a)},s=$a.prototype,s.copy=function(a,b,c,d,e){return new $a(a!=k?a:this.key,b!=k?b:this.value,c!=k?c:this.color,d!=k?d:this.left,e!=k?e:this.right)},s.count=function(){return this.left.count()+1+this.right.count()},s.f=o(l),s.Ba=function(a){return this.left.Ba(a)||a(this.key,this.value)||this.right.Ba(a)},s.Ma=function(a){return this.right.Ma(a)||a(this.key,this.value)||this.left.Ma(a)},s.tb=function(){return ab(this).key},s.Va=function(){return this.right.f()?this.key:this.right.Va()},s.oa=function(a,b,c){var d,e;return e=this,d=c(a,e.key),e=0>d?e.copy(k,k,k,e.left.oa(a,b,c),k):0===d?e.copy(k,b,k,k,k):e.copy(k,k,k,k,e.right.oa(a,b,c)),db(e)},s.remove=function(a,b){var c,d;if(c=this,0>b(a,c.key))!c.left.f()&&!c.left.N()&&!c.left.left.N()&&(c=fb(c)),c=c.copy(k,k,k,c.left.remove(a,b),k);else{if(c.left.N()&&(c=gb(c)),!c.right.f()&&!c.right.N()&&!c.right.left.N()&&(c=hb(c),c.left.left.N()&&(c=gb(c),c=hb(c))),0===b(a,c.key)){if(c.right.f())return Wa;d=ab(c.right),c=c.copy(d.key,d.value,k,k,eb(c.right))}c=c.copy(k,k,k,k,c.right.remove(a,b))}return db(c)},s.N=ba("color"),s=jb.prototype,s.copy=function(){return this},s.oa=function(a,b){return new $a(a,b,aa,aa,aa)},s.remove=function(){return this},s.count=o(0),s.f=o(j),s.Ba=o(l),s.Ma=o(l),s.tb=o(k),s.Va=o(k),s.N=o(l);var Wa=new jb;kb.prototype.set=function(a,b){b==k?this.Pb.removeItem(this.bc+a):this.Pb.setItem(this.bc+a,w(b))},kb.prototype.get=function(a){return a=this.Pb.getItem(this.bc+a),a==k?k:sa(a)},kb.prototype.remove=function(a){this.Pb.removeItem(this.bc+a)},lb.prototype.set=function(a,b){b==k?delete this.ib[a]:this.ib[a]=b},lb.prototype.get=function(a){return C(this.ib,a)?this.ib[a]:k},lb.prototype.remove=function(a){delete this.ib[a]};var nb=mb("localStorage"),ob=mb("sessionStorage");pb.prototype.toString=function(){return(this.hc?"https://":"http://")+this.host},la(sb,rb),sb.prototype.reset=function(){this.B[0]=1732584193,this.B[1]=4023233417,this.B[2]=2562383102,this.B[3]=271733878,this.B[4]=3285377520,this.Vc=this.ob=0},sb.prototype.update=function(a,b){t(b)||(b=a.length);var c=this.rc,d=this.ob,e=0;if(u(a))for(;b>e;)c[d++]=a.charCodeAt(e++),64==d&&(tb(this,c),d=0);else for(;b>e;)c[d++]=a[e++],64==d&&(tb(this,c),d=0);this.ob=d,this.Vc+=b};var ub=Array.prototype,vb=ub.forEach?function(a,b,c){ub.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;d>f;f++)f in e&&b.call(c,e[f],f,a)},wb=ub.map?function(a,b,c){return ub.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=Array(d),f=u(a)?a.split(""):a,h=0;d>h;h++)h in f&&(e[h]=b.call(c,f[h],h,a));return e},xb=ub.every?function(a,b,c){return ub.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=u(a)?a.split(""):a,f=0;d>f;f++)if(f in e&&!b.call(c,e[f],f,a))return l;return j},yb,zb,Ab,Bb;Bb=Ab=zb=yb=l;var Db;if(Db=Cb()){var Eb=ca.navigator;yb=0==Db.indexOf("Opera"),zb=!yb&&-1!=Db.indexOf("MSIE"),Ab=!yb&&-1!=Db.indexOf("WebKit"),Bb=!yb&&!Ab&&"Gecko"==Eb.product}var Fb=zb,Gb=Bb,Hb=Ab,Ib;if(yb&&ca.opera){var Jb=ca.opera.version;"function"==typeof Jb&&Jb()}else Gb?Ib=/rv\:([^\);]+)(\)|;)/:Fb?Ib=/MSIE\s+([^\);]+)(\)|;)/:Hb&&(Ib=/WebKit\/(\S+)/),Ib&&Ib.exec(Cb());var Kb=k,Lb=k,Nb,Ob=1;Nb=function(){return Ob++};var Rb=k,Sb=j,ec=/^-?\d{1,10}$/;s=gc.prototype,s.M=o(j),s.j=ba("Ya"),s.Ga=function(a){return new gc(this.D,a)},s.L=function(){return N},s.Q=function(a){return E(a)===k?this:N},s.ea=o(k),s.H=function(a,b){return(new O).H(a,b).Ga(this.Ya)},s.ya=function(a,b){var c=E(a);return c===k?b:this.H(c,N.ya(Ma(a),b))},s.f=o(l),s.Ub=o(0),s.V=function(a){return a&&this.j()!==k?{".value":this.k(),".priority":this.j()}:this.k()},s.hash=function(){var a="";this.j()!==k&&(a+="priority:"+hc(this.j())+":");var b=typeof this.D,a=a+(b+":"),a="number"===b?a+dc(this.D):a+this.D;return Pb(a)},s.k=ba("D"),s.toString=function(){return"string"==typeof this.D?'"'+this.D+'"':this.D},s=O.prototype,s.M=o(l),s.j=ba("Ya"),s.Ga=function(a){return new O(this.o,a)},s.H=function(a,b){var c=this.o.remove(a);return b&&b.f()&&(b=k),b!==k&&(c=c.oa(a,b)),b&&b.j()!==k?new lc(c,k,this.Ya):new O(c,this.Ya)},s.ya=function(a,b){var c=E(a);if(c===k)return b;var d=this.L(c).ya(Ma(a),b);return this.H(c,d)},s.f=function(){return this.o.f()},s.Ub=function(){return this.o.count()};var mc=/^\d+$/;s=O.prototype,s.V=function(a){if(this.f())return k;var b={},c=0,d=0,e=j;if(this.w(function(f,h){b[f]=h.V(a),c++,e&&mc.test(f)?d=Math.max(d,Number(f)):e=l}),!a&&e&&2*c>d){var h,f=[];for(h in b)f[h]=b[h];return f}return a&&this.j()!==k&&(b[".priority"]=this.j()),b},s.hash=function(){var a="";return this.j()!==k&&(a+="priority:"+hc(this.j())+":"),this.w(function(b,c){var d=c.hash();""!==d&&(a+=":"+b+":"+d)}),""===a?"":Pb(a)},s.L=function(a){return a=this.o.get(a),a===k?N:a},s.Q=function(a){var b=E(a);return b===k?this:this.L(b).Q(Ma(a))},s.ea=function(a){return Xa(this.o,a)},s.cd=function(){return this.o.tb()},s.dd=function(){return this.o.Va()},s.w=function(a){return this.o.Ba(a)},s.yc=function(a){return this.o.Ma(a)},s.Ua=function(){return this.o.Ua()},s.toString=function(){var a="{",b=j;return this.w(function(c,d){b?b=l:a+=", ",a+='"'+c+'" : '+d.toString()}),a+="}"};var N=new O;la(lc,O),s=lc.prototype,s.H=function(a,b){var c=this.L(a),d=this.o,e=this.ua;return c!==k&&(d=d.remove(a),e=e.remove({name:a,ia:c.j()})),b&&b.f()&&(b=k),b!==k&&(d=d.oa(a,b),e=e.oa({name:a,ia:b.j()},b)),new lc(d,e,this.j())},s.ea=function(a,b){var c=Xa(this.ua,{name:a,ia:b.j()});return c?c.name:k},s.w=function(a){return this.ua.Ba(function(b,c){return a(b.name,c)})},s.yc=function(a){return this.ua.Ma(function(b,c){return a(b.name,c)})},s.Ua=function(){return this.ua.Ua(function(a,b){return{key:a.name,value:b}})},s.cd=function(){return this.ua.f()?k:this.ua.tb().name},s.dd=function(){return this.ua.f()?k:this.ua.Va().name};var oc=Math.log(2);R.prototype.V=function(){return z("Firebase.DataSnapshot.val",0,0,arguments.length),this.z.V()},R.prototype.val=R.prototype.V,R.prototype.Ad=function(){return z("Firebase.DataSnapshot.exportVal",0,0,arguments.length),this.z.V(j)},R.prototype.exportVal=R.prototype.Ad,R.prototype.F=function(a){z("Firebase.DataSnapshot.child",0,1,arguments.length),ha(a)&&(a=String(a)),Ia("Firebase.DataSnapshot.child",a);var b=new J(a),c=this.ec.F(b);return new R(this.z.Q(b),c)},R.prototype.child=R.prototype.F,R.prototype.Cc=function(a){z("Firebase.DataSnapshot.hasChild",1,1,arguments.length),Ia("Firebase.DataSnapshot.hasChild",a);var b=new J(a);return!this.z.Q(b).f()},R.prototype.hasChild=R.prototype.Cc,R.prototype.j=function(){return z("Firebase.DataSnapshot.getPriority",0,0,arguments.length),this.z.j()},R.prototype.getPriority=R.prototype.j,R.prototype.forEach=function(a){if(z("Firebase.DataSnapshot.forEach",1,1,arguments.length),B("Firebase.DataSnapshot.forEach",1,a,l),this.z.M())return l;var b=this;return this.z.w(function(c,d){return a(new R(d,b.ec.F(c)))})},R.prototype.forEach=R.prototype.forEach,R.prototype.nb=function(){return z("Firebase.DataSnapshot.hasChildren",0,0,arguments.length),this.z.M()?l:!this.z.f()},R.prototype.hasChildren=R.prototype.nb,R.prototype.name=function(){return z("Firebase.DataSnapshot.name",0,0,arguments.length),this.ec.name()},R.prototype.name=R.prototype.name,R.prototype.Ub=function(){return z("Firebase.DataSnapshot.numChildren",0,0,arguments.length),this.z.Ub()},R.prototype.numChildren=R.prototype.Ub,R.prototype.Nc=function(){return z("Firebase.DataSnapshot.ref",0,0,arguments.length),this.ec},R.prototype.ref=R.prototype.Nc,rc.prototype.Ac=function(){},rc.prototype.Xc=function(a){for(var b=this.sb[a]||[],c=0;c<b.length;c++)b[c].X.apply(b[c].T,Array.prototype.slice.call(arguments,1))},rc.prototype.Xa=function(a,b,c){sc(this,a),this.sb[a]=this.sb[a]||[],this.sb[a].push({X:b,T:c}),(a=this.Ac(a))&&b.apply(c,a)},rc.prototype.ub=function(a,b,c){sc(this,a);for(var a=this.sb[a]||[],d=0;d<a.length;d++)if(a[d].X===b&&(!c||c===a[d].T)){a.splice(d,1);break}},la(tc,rc),ea(tc),tc.prototype.Ac=function(a){return y("visible"===a),[this.gb]},wc.prototype.get=function(){return vc(this.jb)},yc.prototype.get=function(){var a=this.xd.get(),b=vc(a);if(this.Qb)for(var c in this.Qb)b[c]-=this.Qb[c];return this.Qb=a,b},zc.prototype.kd=function(){var d,a=this.kc.get(),b={},c=l;for(d in a)0<a[d]&&C(this.Sc,d)&&(b[d]=a[d],c=j);c&&(a=this.u,a.P&&(b={c:b},a.e("reportStats",b),a.Fa("s",b))),setTimeout(v(this.kd,this),6e5*Math.random())};var Ac={},Bc={};s=Dc.prototype,s.add=function(a,b){this.set[a]=b!==k?b:j},s.contains=function(a){return C(this.set,a)},s.get=function(a){return this.contains(a)?this.set[a]:aa},s.remove=function(a){delete this.set[a]},s.f=function(){var a;a:{for(a in this.set){a=l;break a}a=j}return a},s.count=function(){var b,a=0;for(b in this.set)a++;return a},s.keys=function(){var b,a=[];for(b in this.set)C(this.set,b)&&a.push(b);return a};var Fc="pLPCommand",Gc="pRTLPCB",Ic,Jc;Hc.prototype.open=function(a,b){function c(){if(!d.Ja){d.ka=new Kc(function(a,b,c){if(xc(d.$,"bytes_received",w(arguments).length),d.ka)if(d.ba&&(clearTimeout(d.ba),d.ba=k),d.kb=j,"start"==a)d.id=b,d.jd=c;else if("close"===a)if(b){d.ka.ic=l;var h=d.fd;h.tc=b,h.Ka=function(){d.Ea()},h.tc<h.Qa&&(h.Ka(),h.Ka=k)}else d.Ea();else g(Error("Unrecognized command received: "+a))},function(a,b){xc(d.$,"bytes_received",w(arguments).length);var c=d.fd;for(c.ac[a]=b;c.ac[c.Qa];){var e=c.ac[c.Qa];delete c.ac[c.Qa];for(var f=0;f<e.length;++f)if(e[f]){var h=c;fc(function(){h.Jc(e[f])})}if(c.Qa===c.tc){c.Ka&&(clearTimeout(c.Ka),c.Ka(),c.Ka=k);break}c.Qa++}},function(){d.Ea()},d.Lb);var a={start:"t"};a.ser=Math.floor(1e8*Math.random()),d.ka.mc&&(a.cb=d.ka.mc),a.v="5",d.jc&&(a.s=d.jc),a=d.Lb(a),d.e("Connecting via long-poll to "+a),Lc(d.ka,a,function(){})}}this.Zc=0,this.R=b,this.fd=new uc(a),this.Ja=l;var d=this;if(this.ba=setTimeout(function(){d.e("Timed out trying to connect."),d.Ea(),d.ba=k},3e4),"complete"===document.readyState)c();else{var e=l,f=function(){document.body?e||(e=j,c()):setTimeout(f,10)};document.addEventListener?(document.addEventListener("DOMContentLoaded",f,l),window.addEventListener("load",f,l)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&f()},l),window.attachEvent("onload",f,l))}},Hc.prototype.start=function(){var a=this.ka,b=this.jd;for(a.Gd=this.id,a.Hd=b,a.pc=j;Mc(a););a=this.id,b=this.jd,this.Wa=document.createElement("iframe");var c={dframe:"t"};c.id=a,c.pw=b,a=this.Lb(c),this.Wa.src=a,this.Wa.style.display="none",document.body.appendChild(this.Wa)},Hc.isAvailable=function(){return!(Jc||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.Wd||!Ic&&!j)},Hc.prototype.Ib=function(){this.Ja=j,this.ka&&(this.ka.close(),this.ka=k),this.Wa&&(document.body.removeChild(this.Wa),this.Wa=k),this.ba&&(clearTimeout(this.ba),this.ba=k)},Hc.prototype.Ea=function(){this.Ja||(this.e("Longpoll is closing itself"),this.Ib(),this.R&&(this.R(this.kb),this.R=k))},Hc.prototype.close=function(){this.Ja||(this.e("Longpoll is being closed."),this.Ib())},Hc.prototype.send=function(a){a=w(a),xc(this.$,"bytes_sent",a.length);for(var a=ta(a),a=Mb(a,j),a=ac(a,1840),b=0;b<a.length;b++){var c=this.ka;c.Cb.push({Qd:this.Zc,Vd:a.length,ad:a[b]}),c.pc&&Mc(c),this.Zc++}},Kc.prototype.close=function(){if(this.pc=l,this.Y){this.Y.za.body.innerHTML="";var a=this;setTimeout(function(){a.Y!==k&&(document.body.removeChild(a.Y),a.Y=k)},0)}var b=this.ha;b&&(this.ha=k,b())};var Nc=k;"undefined"!=typeof MozWebSocket?Nc=MozWebSocket:"undefined"!=typeof WebSocket&&(Nc=WebSocket);var Oc;S.prototype.open=function(a,b){this.ha=b,this.Id=a,this.e("Websocket connecting to "+this.Pa),this.W=new Nc(this.Pa),this.kb=l,nb.set("previous_websocket_failure",j);var c=this;this.ba=setTimeout(function(){c.e("Websocket timed out trying to connect."),Pc(c),c.Ea()},3e4),this.W.onopen=function(){c.e("Websocket connected."),c.kb=j,Pc(c),nb.remove("previous_websocket_failure")},this.W.onclose=function(){c.e("Websocket connection was disconnected."),c.W=k,c.Ea()},this.W.onmessage=function(a){if(c.W!==k)if(a=a.data,xc(c.$,"bytes_received",a.length),Qc(c),c.frames!==k)Rc(c,a);else{a:{if(y(c.frames===k,"We already have a frame buffer"),6>=a.length){var b=Number(a);if(!isNaN(b)){c.Uc=b,c.frames=[],a=k;break a}}c.Uc=1,c.frames=[]}a!==k&&Rc(c,a)}},this.W.onerror=function(a){c.e("WebSocket error.  Closing connection."),a.data&&c.e(a.data),c.Ea()}},S.prototype.start=function(){},S.isAvailable=function(){var a=l;if("undefined"!=typeof navigator&&navigator.userAgent){var b=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);b&&1<b.length&&4.4>parseFloat(b[1])&&(a=j)}return!a&&Nc!==k&&!Oc},S.prototype.send=function(a){Qc(this),a=w(a),xc(this.$,"bytes_sent",a.length),a=ac(a,16384),1<a.length&&this.W.send(String(a.length));for(var b=0;b<a.length;b++)this.W.send(a[b])},S.prototype.Ib=function(){this.Ja=j,Pc(this),this.qb&&(clearInterval(this.qb),this.qb=k),this.W&&(this.W.close(),this.W=k)},S.prototype.Ea=function(){this.Ja||(this.e("WebSocket is closing itself"),this.Ib(),this.ha&&(this.ha(this.kb),this.ha=k))},S.prototype.close=function(){this.Ja||(this.e("WebSocket is being closed"),this.Ib())};var Tc=[Hc,{isAvailable:o(l)},S];Uc.prototype.od=function(a){a={t:"d",d:a},1!==this.wa&&g("Connection is not connected"),this.Jb.send(a)},Uc.prototype.Xb=function(a){this.Jc(a)},Uc.prototype.close=function(){2!==this.wa&&(this.e("Closing realtime connection."),this.wa=2,$c(this),this.R&&(this.R(),this.R=k))},la(ad,rc),ea(ad),ad.prototype.Ac=function(a){return y("online"===a),[this.yb]};var cd=0,ed=0;s=bd.prototype,s.Fa=function(a,b,c){var d=++this.Pd,a={r:d,a:a,b:b};this.e(w(a)),y(this.P,"sendRequest_ call when we're not connected not allowed."),this.ja.od(a),c&&(this.Gb[d]=c)},s.hb=function(a,b,c){if(this.Ha={yd:a,bd:l,X:b,Nb:c},this.e("Authenticating using credential: "+this.Ha),hd(this),!(b=40==a.length))a:{var d;try{var e=a.split(".");if(3!==e.length){b=l;break a}var f;b:{try{if("undefined"!=typeof atob){f=atob(e[1]);break b}}catch(h){L("base64DecodeIfNativeSupport failed: ",h)}f=k}f!==k&&(d=sa(f))}catch(i){L("isAdminAuthToken_ failed",i)}b="object"==typeof d&&wa(d,"admin")===j}b&&(this.e("Admin auth credential detected.  Reducing max reconnect time."),this.Rb=3e4)},s.Kb=function(a){delete this.Ha,this.vb(l),this.P&&this.Fa("unauth",{},function(b){a(b.s)})},s.Hc=function(a,b){this.P?kd(this,"oc",a,k,b):this.wb.push({Mc:a,action:"oc",data:k,C:b})},s.put=function(a,b,c,d){ld(this,"p",a,b,c,d)},s.Xb=function(a){if("r"in a){this.e("from server: "+w(a));var b=a.r,c=this.Gb[b];c&&(delete this.Gb[b],c(a.b))}else"error"in a&&g("A server-side error has occurred: "+a.error),"a"in a&&(b=a.a,a=a.b,this.e("handleServerMessage",b,a),"d"===b?this.Yb(a.p,a.d):"m"===b?this.Yb(a.p,a.d,j):"c"===b?(b=a.p,a=(a=a.q)?wb(a,function(a){return La(a)}).join("$"):"{}",(a=gd(this,b,a))&&a.C&&a.C("permission_denied")):"ac"===b?(b=a.s,a=a.d,c=this.Ha,delete this.Ha,c&&c.Nb&&c.Nb(b,a),this.vb(l)):"sd"===b?this.Oc?this.Oc(a):"msg"in a&&"undefined"!=typeof console&&console.log("FIREBASE: "+a.msg.replace("\n","\nFIREBASE: ")):Vb("Unrecognized action received from server: "+w(b)+"\nAre you using the latest client?"))},s.xb=function(a){this.e("connection ready"),this.P=j,this.rb=(new Date).getTime(),this.Kc({serverTimeOffset:a-(new Date).getTime()}),hd(this);for(var b in this.ga)for(var c in this.ga[b])a=this.ga[b][c],fd(this,b,c,a.Za,a.C);for(b=0;b<this.U.length;b++)this.U[b]&&md(this,b);for(;this.wb.length;)b=this.wb.shift(),kd(this,b.action,b.Mc,b.data,b.C);this.Wb(j)},s.Kd=function(a){a&&!this.gb&&this.qa===this.Rb&&(this.e("Window became visible.  Reducing delay."),this.qa=1e3,this.ja||dd(this,0)),this.gb=a},s.Jd=function(a){a?(this.e("Browser went online.  Reconnecting."),this.qa=1e3,this.Na=j,this.ja||dd(this,0)):(this.e("Browser went offline.  Killing connection; don't reconnect."),this.Na=l,this.ja&&this.ja.close())},s.gd=function(){this.e("data client disconnected"),this.P=l,this.ja=k;for(var a=0;a<this.U.length;a++){var b=this.U[a];b&&"h"in b.ld&&b.Md&&(b.C&&b.C("disconnect"),delete this.U[a],this.zb--)}if(0===this.zb&&(this.U=[]),this.Na)this.gb?this.rb&&(3e4<(new Date).getTime()-this.rb&&(this.qa=1e3),this.rb=k):(this.e("Window isn't visible.  Delaying reconnect."),this.qa=this.Rb,this.Fc=(new Date).getTime()),a=Math.max(0,this.qa-((new Date).getTime()-this.Fc)),a*=Math.random(),this.e("Trying to reconnect in "+a+"ms"),dd(this,a),this.qa=Math.min(this.Rb,1.3*this.qa);else for(var c in this.Gb)delete this.Gb[c];this.Wb(l)},s.Ia=function(){this.Na=l,this.ja?this.ja.close():(this.Sa&&(clearTimeout(this.Sa),this.Sa=k),this.P&&this.gd())},s.ab=function(){this.Na=j,this.qa=1e3,this.P||dd(this,0)},nd.prototype.w=function(a){this.o!==k&&Ec(this.o,function(b,c){a(b,c)})},rd.prototype.toString=function(){return this.ra.toString()},sd.prototype.set=function(a,b){var c=this,d=[];return vb(b,function(a){var b=a.path,a=a.pa,h=Nb();Qa(K(c.Bb,b),h),U(c.O,b,a),d.push({path:b,Rd:h})}),d},wd.prototype.Eb=function(){for(var a=0;a<this.Ta.length;a++)if(this.Ta[a]){var b=this.Ta[a];this.Ta[a]=k,yd(b)}this.Ta=[]},zd.prototype.cc=function(a,b){b=this.dc(a,b),b!=k&&Cd(this,b)},zd.prototype.Eb=function(){this.xc.Eb()},la(Fd,zd),Fd.prototype.dc=function(a,b){return this.i=a,this.pb&&b!=k&&b.push(new V("value",this.i)),b},Fd.prototype.lb=function(){return{}},la(Kd,Dc),s=Kd.prototype,s.setActive=function(a){this.xa=a},s.defaultView=function(){return Ld(this)?this.get("default"):k},s.path=ba("S"),s.toString=function(){return wb(this.keys(),function(a){return"default"===a?"{}":a}).join("$")},s.Za=function(){var a=[];return Ec(this,function(b,c){a.push(c.I)}),a},la(Nd,zd),Nd.prototype.dc=function(a,b){if(b===k)return b;var c=[],d=this.I;t(d.da)&&c.push(t(d.va)&&d.va!=k?function(a,b){var c=Xb(b,d.da);return c>0||0===c&&0<=Yb(a,d.va)}:function(a,b){return 0<=Xb(b,d.da)}),t(d.Aa)&&c.push(t(d.Ra)?function(a,b){var c=Xb(b,d.Aa);return 0>c||0===c&&0>=Yb(a,d.Ra)}:function(a,b){return 0>=Xb(b,d.Aa)});var e=k,f=k;if(t(this.I.Ca))if(t(this.I.da)){if(e=Od(a,c,this.I.Ca,l)){var h=a.L(e).j();c.push(function(a,b){var c=Xb(b,h);return 0>c||0===c&&0>=Yb(a,e)})}}else if(f=Od(a,c,this.I.Ca,j)){var i=a.L(f).j();c.push(function(a,b){var c=Xb(b,i);return c>0||0===c&&0<=Yb(a,f)})}for(var m=[],n=[],p=[],q=[],r=0;r<b.length;r++){var x=b[r].aa,P=b[r].ta;switch(b[r].type){case"child_added":Pd(c,x,P)&&(this.i=this.i.H(x,P),n.push(b[r]));break;case"child_removed":this.i.L(x).f()||(this.i=this.i.H(x,k),m.push(b[r]));break;case"child_changed":!this.i.L(x).f()&&Pd(c,x,P)&&(this.i=this.i.H(x,P),q.push(b[r]));break;case"child_moved":var I=!this.i.L(x).f(),G=Pd(c,x,P);I?G?(this.i=this.i.H(x,P),p.push(b[r])):(m.push(new V("child_removed",this.i.L(x),x)),this.i=this.i.H(x,k)):G&&(this.i=this.i.H(x,P),n.push(b[r]))}}var Zc=e||f;if(Zc){var Dd=(r=f!==k)?this.i.cd():this.i.dd(),pc=l,bb=l,cb=this;(r?a.yc:a.w).call(a,function(a,b){return!bb&&Dd===k&&(bb=j),bb&&pc?j:(pc?(m.push(new V("child_removed",cb.i.L(a),a)),cb.i=cb.i.H(a,k)):bb&&(n.push(new V("child_added",b,a)),cb.i=cb.i.H(a,b)),Dd===a&&(bb=j),void(a===Zc&&(pc=j)))})}for(r=0;r<n.length;r++)c=n[r],x=this.i.ea(c.aa,c.ta),m.push(new V("child_added",c.ta,c.aa,x));for(r=0;r<p.length;r++)c=p[r],x=this.i.ea(c.aa,c.ta),m.push(new V("child_moved",c.ta,c.aa,x));for(r=0;r<q.length;r++)c=q[r],x=this.i.ea(c.aa,c.ta),m.push(new V("child_changed",c.ta,c.aa,x));return this.pb&&0<m.length&&m.push(new V("value",this.i)),m},Nd.prototype.Cc=function(a){return this.i.L(a)!==N},Nd.prototype.lb=function(a,b,c){var d={};this.i.M()||this.i.w(function(a){d[a]=3});var e=this.i,c=T(c,new J("")),f=new Pa;Qa(K(f,this.I.path),j);var b=N.ya(a,b),h=this;return Hd(c,b,a,f,function(a,b,c){c!==k&&a.toString()===h.I.path.toString()&&h.dc(b,c)}),this.i.M()?cc(d,function(a,b){d[b]=2}):(this.i.w(function(a){C(d,a)||(d[a]=1)}),cc(d,function(a,b){h.i.L(b).f()&&(d[b]=2)})),this.i=e,d},Qd.prototype.Mb=function(a,b,c,d,e){var f=a.path,h=K(this.la,f),i=h.k();i===k?(i=new Kd,Qa(h,i)):y(!i.f(),"We shouldn't be storing empty QueryMaps");var m=a.La();if(i.contains(m))a=i.get(m),Ad(a,b,c,d,e);else{var n=this.g.ra.Q(f),n=a="default"===a.La()?new Fd(a,n):new Nd(a,n);if(Md(i)||Rd(h))i.add(m,n),i.S||(i.S=n.I.path);else{var p,q;i.f()||(p=i.toString(),q=i.Za()),i.add(m,n),i.S||(i.S=n.I.path),i.setActive(Sd(this,i)),p&&q&&id(this.u,i.path(),p,q)}Md(i)&&Sa(h,function(a){(a=a.k())&&(a.xa&&a.xa(),a.xa=k)}),Ad(a,b,c,d,e),(b=(b=Ta(K(this.la,f),function(a){var b;return(b=a.k())&&(b=a.k().defaultView())&&(b=a.k().defaultView().pb),b?j:void 0},j))||this.u===k&&!T(this.g,f).f())&&Ed(a)}a.Eb()},Qd.prototype.fc=function(a,b,c,d){var e=K(this.la,a.path).k();return e===k?k:Ud(this,e,a,b,c,d)},Qd.prototype.cc=function(a,b,c){a=K(this.la,a).k(),a!==k&&Ec(a,function(a,e){e.cc(b,c)})},Qd.prototype.lb=function(a,b,c,d){var e={};return Ec(b,function(b,h){var i=h.lb(a,c,d);cc(i,function(a,b){e[b]=3===a?3:(wa(e,b)||a)===a?a:3})}),c.M()||c.w(function(a){C(e,a)||(e[a]=4)}),e},s=be.prototype,s.toString=function(){return(this.J.hc?"https://":"http://")+this.J.host},s.name=function(){return this.J.Sb},s.Yb=function(a,b,c){this.wc++;var d,e,f=[];for(9<=a.length&&a.lastIndexOf(".priority")===a.length-9?(d=new J(a.substring(0,a.length-9)),e=T(this.g.sa,d).Ga(b),f.push(d)):c?(d=new J(a),e=T(this.g.sa,d),cc(b,function(a,b){var c=new J(b);".priority"===b?e=e.Ga(a):(e=e.ya(c,Q(a)),f.push(d.F(b)))})):(d=new J(a),e=Q(b),f.push(d)),a=Zd(this.G,d,e,this.g.O),b=l,c=0;c<a.length;++c){var h=a[c],i=this.g,m=h.path;U(i.sa,m,h.pa),b=td(i,m)||b}b&&(d=fe(this,d)),W(this.G,d,f)},s.Wb=function(a){if(ce(this,"connected",a),a===l){this.e("onDisconnectEvents");var b=this,c=[],d=ee(this),a=qd,e=new nd;qd(this.R,new J(""),function(a,b){od(e,a,ae(b,d))}),a(e,new J(""),function(a,d){var e=Zd(b.G,a,d,b.g.O);c.push.apply(c,b.g.set(a,e)),e=ge(b,a),fe(b,e),W(b.G,e,[a])}),vd(this.g,c),this.R=new nd}},s.Kc=function(a){var b=this;bc(a,function(a,d){ce(b,d,a)})},s.Bc=function(a){return a=new J(a),T(this.g.sa,a).hash()},s.vb=function(a){ce(this,"authenticated",a)},s.hb=function(a,b,c){"firebaseio-demo.com"===this.J.domain&&M("FirebaseRef.auth() not supported on demo (*.firebaseio-demo.com) Firebases. Please use on production (*.firebaseio.com) Firebases only."),this.u.hb(a,function(a,c){X(b,a,c)},function(a,b){if(M("auth() was canceled: "+b),c){var f=Error(b);f.code=a.toUpperCase(),c(f)}})},s.Kb=function(a){this.u.Kb(function(b){X(a,b)})},s.bb=function(a,b,c,d){this.e("set",{path:a.toString(),value:b,ia:c});var e=ee(this),b=Q(b,c),e=ae(b,e),e=Zd(this.G,a,e,this.g.O),f=this.g.set(a,e),h=this;this.u.put(a.toString(),b.V(j),function(b){"ok"!==b&&M("set at "+a+" failed: "+b),vd(h.g,f),td(h.g,a);var c=fe(h,a);W(h.G,c,[]),X(d,b)}),e=ge(this,a),fe(this,e),W(this.G,e,[a])},s.update=function(a,b,c){this.e("update",{path:a.toString(),value:b});var m,d=T(this.g.ma,a),e=j,f=[],h=ee(this),i=[];for(m in b){var e=l,n=Q(b[m]),n=ae(n,h),d=d.H(m,n),p=a.F(m);f.push(p),n=Zd(this.G,p,n,this.g.O),i=i.concat(this.g.set(a,n))}if(e)L("update() called with empty data.  Don't do anything."),X(c,"ok");else{var q=this;ld(this.u,"m",a.toString(),b,function(b){y("ok"===b||"permission_denied"===b,"merge at "+a+" failed."),"ok"!==b&&M("update at "+a+" failed: "+b),vd(q.g,i),td(q.g,a);var d=fe(q,a);W(q.G,d,[]),X(c,b)},aa),b=ge(this,a),fe(this,b),W(q.G,b,f)}},s.Pc=function(a,b,c){this.e("setPriority",{path:a.toString(),ia:b});var d=ee(this),d=$d(b,d),d=T(this.g.O,a).Ga(d),d=Zd(this.G,a,d,this.g.O),e=this.g.set(a,d),f=this;this.u.put(a.toString()+"/.priority",b,function(b){"permission_denied"===b&&M("setPriority at "+a+" failed: "+b),vd(f.g,e),td(f.g,a);var d=fe(f,a);W(f.G,d,[]),X(c,b)}),b=fe(this,a),W(f.G,b,[])},s.Hc=function(a,b){var c=this;this.u.Hc(a.toString(),function(d){"ok"===d&&pd(c.R,a),X(b,d)})},s.Mb=function(a,b,c,d,e){".info"===E(a.path)?this.Ec.Mb(a,b,c,d,e):this.G.Mb(a,b,c,d,e)},s.fc=function(a,b,c,d){if(".info"===E(a.path))this.Ec.fc(a,b,c,d);else{if(b=this.G.fc(a,b,c,d),c=b!==k){for(var c=this.g,d=a.path,e=[],f=0;f<b.length;++f)e[f]=T(c.sa,b[f]);for(U(c.sa,d,N),f=0;f<b.length;++f)U(c.sa,b[f],e[f]);c=td(c,d)}c&&(y(this.g.ma.ra===this.G.Vb,"We should have raised any outstanding events by now.  Else, we'll blow them away."),U(this.g.ma,a.path,T(this.g.O,a.path)),this.G.Vb=this.g.ma.ra)}},s.Ia=function(){this.u.Ia()},s.ab=function(){this.u.ab()},s.Qc=function(a){if("undefined"!=typeof console){a?(this.kc||(this.kc=new yc(this.$)),a=this.kc.get()):a=this.$.get();
var e,b=a,c=[],d=0;for(e in b)c[d++]=e;var f=function(a,b){return Math.max(b.length,a)};if(c.reduce)e=c.reduce(f,0);else{var h=0;vb(c,function(a){h=f.call(aa,h,a)}),e=h}for(var i in a){for(b=a[i],c=i.length;e+2>c;c++)i+=" ";console.log(i+b)}}},s.Rc=function(a){xc(this.$,a),this.qd.Sc[a]=j},s.e=function(){L("r:"+this.u.id+":",arguments)},ea(Y),Y.prototype.Ia=function(){for(var a in this.$a)this.$a[a].Ia()},Y.prototype.interrupt=Y.prototype.Ia,Y.prototype.ab=function(){for(var a in this.$a)this.$a[a].ab()},Y.prototype.resume=Y.prototype.ab;var Z={Dd:function(a){var b=O.prototype.hash;O.prototype.hash=a;var c=gc.prototype.hash;return gc.prototype.hash=a,function(){O.prototype.hash=b,gc.prototype.hash=c}}};Z.hijackHash=Z.Dd,Z.La=function(a){return a.La()},Z.queryIdentifier=Z.La,Z.Fd=function(a){return a.n.u.ga},Z.listens=Z.Fd,Z.Nd=function(a){return a.n.u.ja},Z.refConnection=Z.Nd,Z.sd=bd,Z.DataConnection=Z.sd,bd.prototype.sendRequest=bd.prototype.Fa,bd.prototype.interrupt=bd.prototype.Ia,Z.td=Uc,Z.RealTimeConnection=Z.td,Uc.prototype.sendRequest=Uc.prototype.od,Uc.prototype.close=Uc.prototype.close,Z.rd=pb,Z.ConnectionTarget=Z.rd,Z.Bd=function(){Ic=Oc=j},Z.forceLongPolling=Z.Bd,Z.Cd=function(){Jc=j},Z.forceWebSockets=Z.Cd,Z.Td=function(a,b){a.n.u.Oc=b},Z.setSecurityDebugCallback=Z.Td,Z.Qc=function(a,b){a.n.Qc(b)},Z.stats=Z.Qc,Z.Rc=function(a,b){a.n.Rc(b)},Z.statsIncrementCounter=Z.Rc,Z.wc=function(a){return a.n.wc},$.prototype.cancel=function(a){z("Firebase.onDisconnect().cancel",0,1,arguments.length),B("Firebase.onDisconnect().cancel",1,a,j),this.Fb.Hc(this.S,a)},$.prototype.cancel=$.prototype.cancel,$.prototype.remove=function(a){z("Firebase.onDisconnect().remove",0,1,arguments.length),D("Firebase.onDisconnect().remove",this.S),B("Firebase.onDisconnect().remove",1,a,j),he(this.Fb,this.S,k,a)},$.prototype.remove=$.prototype.remove,$.prototype.set=function(a,b){z("Firebase.onDisconnect().set",1,2,arguments.length),D("Firebase.onDisconnect().set",this.S),Aa("Firebase.onDisconnect().set",a,l),B("Firebase.onDisconnect().set",2,b,j),he(this.Fb,this.S,a,b)},$.prototype.set=$.prototype.set,$.prototype.bb=function(a,b,c){z("Firebase.onDisconnect().setWithPriority",2,3,arguments.length),D("Firebase.onDisconnect().setWithPriority",this.S),Aa("Firebase.onDisconnect().setWithPriority",a,l),Fa("Firebase.onDisconnect().setWithPriority",2,b,l),B("Firebase.onDisconnect().setWithPriority",3,c,j),(".length"===this.Da||".keys"===this.Da)&&g("Firebase.onDisconnect().setWithPriority failed: "+this.Da+" is a read-only object.");var d=this.Fb,e=this.S,f=Q(a,b);jd(d.u,e.toString(),f.V(j),function(a){"ok"===a&&od(d.R,e,f),X(c,a)})},$.prototype.setWithPriority=$.prototype.bb,$.prototype.update=function(a,b){z("Firebase.onDisconnect().update",1,2,arguments.length),D("Firebase.onDisconnect().update",this.S),Ea("Firebase.onDisconnect().update",a),B("Firebase.onDisconnect().update",2,b,j);var f,c=this.Fb,d=this.S,e=j;for(f in a)e=l;if(e)L("onDisconnect().update() called with empty data.  Don't do anything."),X(b,j);else{e=c.u,f=d.toString();var h=function(e){if("ok"===e)for(var f in a){var h=Q(a[f]);od(c.R,d.F(f),h)}X(b,e)};e.P?kd(e,"om",f,a,h):e.wb.push({Mc:f,action:"om",data:a,C:h})}},$.prototype.update=$.prototype.update;var qe,re=0,se=[];qe=function(a){var b=a===re;re=a;for(var c=Array(8),d=7;d>=0;d--)c[d]="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(a%64),a=Math.floor(a/64);if(y(0===a),a=c.join(""),b){for(d=11;d>=0&&63===se[d];d--)se[d]=0;se[d]++}else for(d=0;12>d;d++)se[d]=Math.floor(64*Math.random());for(d=0;12>d;d++)a+="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz".charAt(se[d]);return y(20===a.length,"NextPushId: Length should be 20."),a},la(H,F);var te=H,ue=["Firebase"],ve=ca;!(ue[0]in ve)&&ve.execScript&&ve.execScript("var "+ue[0]);for(var we;ue.length&&(we=ue.shift());)!ue.length&&t(te)?ve[we]=te:ve=ve[we]?ve[we]:ve[we]={};H.prototype.name=function(){return z("Firebase.name",0,0,arguments.length),this.path.f()?k:this.path.Z<this.path.m.length?this.path.m[this.path.m.length-1]:k},H.prototype.name=H.prototype.name,H.prototype.F=function(a){if(z("Firebase.child",1,1,arguments.length),ha(a))a=String(a);else if(!(a instanceof J))if(E(this.path)===k){var b=a;b&&(b=b.replace(/^\/*\.info(\/|$)/,"/")),Ia("Firebase.child",b)}else Ia("Firebase.child",a);return new H(this.n,this.path.F(a))},H.prototype.child=H.prototype.F,H.prototype.parent=function(){z("Firebase.parent",0,0,arguments.length);var a=this.path.parent();return a===k?k:new H(this.n,a)},H.prototype.parent=H.prototype.parent,H.prototype.root=function(){z("Firebase.ref",0,0,arguments.length);for(var a=this;a.parent()!==k;)a=a.parent();return a},H.prototype.root=H.prototype.root,H.prototype.toString=function(){z("Firebase.toString",0,0,arguments.length);var a;if(this.parent()===k)a=this.n.toString();else{a=this.parent().toString()+"/";var b=this.name();a+=encodeURIComponent(String(b))}return a},H.prototype.toString=H.prototype.toString,H.prototype.set=function(a,b){return z("Firebase.set",1,2,arguments.length),D("Firebase.set",this.path),Aa("Firebase.set",a,l),B("Firebase.set",2,b,j),this.n.bb(this.path,a,k,b)},H.prototype.set=H.prototype.set,H.prototype.update=function(a,b){return z("Firebase.update",1,2,arguments.length),D("Firebase.update",this.path),Ea("Firebase.update",a),B("Firebase.update",2,b,j),C(a,".priority")&&g(Error("update() does not currently support updating .priority.")),this.n.update(this.path,a,b)},H.prototype.update=H.prototype.update,H.prototype.bb=function(a,b,c){return z("Firebase.setWithPriority",2,3,arguments.length),D("Firebase.setWithPriority",this.path),Aa("Firebase.setWithPriority",a,l),Fa("Firebase.setWithPriority",2,b,l),B("Firebase.setWithPriority",3,c,j),(".length"===this.name()||".keys"===this.name())&&g("Firebase.setWithPriority failed: "+this.name()+" is a read-only object."),this.n.bb(this.path,a,b,c)},H.prototype.setWithPriority=H.prototype.bb,H.prototype.remove=function(a){z("Firebase.remove",0,1,arguments.length),D("Firebase.remove",this.path),B("Firebase.remove",1,a,j),this.set(k,a)},H.prototype.remove=H.prototype.remove,H.prototype.transaction=function(a,b,c){function d(){}z("Firebase.transaction",1,3,arguments.length),D("Firebase.transaction",this.path),B("Firebase.transaction",1,a,l),B("Firebase.transaction",2,b,j),t(c)&&"boolean"!=typeof c&&g(Error(A("Firebase.transaction",3,j)+"must be a boolean.")),(".length"===this.name()||".keys"===this.name())&&g("Firebase.transaction failed: "+this.name()+" is a read-only object."),"undefined"==typeof c&&(c=j);var e=this.n,f=this.path,h=c;e.e("transaction on "+f);var i=new H(e,f);i.Xa("value",d);var h={path:f,update:a,C:b,status:k,hd:Nb(),qc:h,nd:0,nc:function(){i.ub("value",d)},oc:k},m=h.update(T(e.fb,f).V());if(t(m)){Ba("transaction failed: Data returned ",m),h.status=1;var n=K(e.eb,f),p=n.k()||[];p.push(h),Qa(n,p),p="object"==typeof m&&m!==k&&C(m,".priority")?m[".priority"]:T(e.g.O,f).j(),n=ee(e),m=Q(m,p),m=ae(m,n),U(e.fb,f,m),h.qc&&(U(e.g.ma,f,m),W(e.G,f,[f])),je(e)}else h.nc(),h.C&&(e=me(e,f),h.C(k,l,e))},H.prototype.transaction=H.prototype.transaction,H.prototype.Pc=function(a,b){z("Firebase.setPriority",1,2,arguments.length),D("Firebase.setPriority",this.path),Fa("Firebase.setPriority",1,a,l),B("Firebase.setPriority",2,b,j),this.n.Pc(this.path,a,b)},H.prototype.setPriority=H.prototype.Pc,H.prototype.push=function(a,b){z("Firebase.push",0,2,arguments.length),D("Firebase.push",this.path),Aa("Firebase.push",a,j),B("Firebase.push",2,b,j);var c=de(this.n),c=qe(c),c=this.F(c);return"undefined"!=typeof a&&a!==k&&c.set(a,b),c},H.prototype.push=H.prototype.push,H.prototype.ha=function(){return new $(this.n,this.path,this.name())},H.prototype.onDisconnect=H.prototype.ha,H.prototype.Od=function(){M("FirebaseRef.removeOnDisconnect() being deprecated. Please use FirebaseRef.onDisconnect().remove() instead."),this.ha().remove(),ie(this.n)},H.prototype.removeOnDisconnect=H.prototype.Od,H.prototype.Sd=function(a){M("FirebaseRef.setOnDisconnect(value) being deprecated. Please use FirebaseRef.onDisconnect().set(value) instead."),this.ha().set(a),ie(this.n)},H.prototype.setOnDisconnect=H.prototype.Sd,H.prototype.hb=function(a,b,c){z("Firebase.auth",1,3,arguments.length),u(a)||g(Error(A("Firebase.auth",1,l)+"must be a valid credential (a string).")),B("Firebase.auth",2,b,j),B("Firebase.auth",3,b,j),this.n.hb(a,b,c)},H.prototype.auth=H.prototype.hb,H.prototype.Kb=function(a){z("Firebase.unauth",0,1,arguments.length),B("Firebase.unauth",1,a,j),this.n.Kb(a)},H.prototype.unauth=H.prototype.Kb,H.goOffline=function(){z("Firebase.goOffline",0,0,arguments.length),Y.mb().Ia()},H.goOnline=function(){z("Firebase.goOnline",0,0,arguments.length),Y.mb().ab()},H.enableLogging=Tb,H.ServerValue={TIMESTAMP:{".sv":"timestamp"}},H.INTERNAL=Z,H.Context=Y}(),function(window,angular,undefined){"use strict";function jsonStringToDate(string){var match;if(match=string.match(R_ISO8061_STR)){var date=new Date(0),tzHour=0,tzMin=0;return match[9]&&(tzHour=int(match[9]+match[10]),tzMin=int(match[9]+match[11])),date.setUTCFullYear(int(match[1]),int(match[2])-1,int(match[3])),date.setUTCHours(int(match[4]||0)-tzHour,int(match[5]||0)-tzMin,int(match[6]||0),int(match[7]||0)),date}return string}function int(str){return parseInt(str,10)}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function createHttpBackendMock($rootScope,$delegate,$browser){function createResponse(status,data,headers){return angular.isFunction(status)?status:function(){return angular.isNumber(status)?[status,data,headers]:[200,status,data]}}function $httpBackend(method,url,data,callback,headers,timeout,withCredentials){function prettyPrint(data){return angular.isString(data)||angular.isFunction(data)||data instanceof RegExp?data:angular.toJson(data)}function wrapResponse(wrapped){function handleResponse(){var response=wrapped.response(method,url,data,headers);xhr.$$respHeaders=response[2],callback(copy(response[0]),copy(response[1]),xhr.getAllResponseHeaders())}function handleTimeout(){for(var i=0,ii=responses.length;ii>i;i++)if(responses[i]===handleResponse){responses.splice(i,1),callback(-1,undefined,"");break}}return!$browser&&timeout&&timeout.then&&timeout.then(handleTimeout),handleResponse}var xhr=new MockXhr,expectation=expectations[0],wasExpected=!1;if(expectation&&expectation.match(method,url)){if(!expectation.matchData(data))throw new Error("Expected "+expectation+" with different data\nEXPECTED: "+prettyPrint(expectation.data)+"\nGOT:      "+data);if(!expectation.matchHeaders(headers))throw new Error("Expected "+expectation+" with different headers\nEXPECTED: "+prettyPrint(expectation.headers)+"\nGOT:      "+prettyPrint(headers));if(expectations.shift(),expectation.response)return void responses.push(wrapResponse(expectation));wasExpected=!0}for(var definition,i=-1;definition=definitions[++i];)if(definition.match(method,url,data,headers||{})){if(definition.response)($browser?$browser.defer:responsesPush)(wrapResponse(definition));else{if(!definition.passThrough)throw new Error("No response defined !");$delegate(method,url,data,callback,headers,timeout,withCredentials)}return}throw new Error(wasExpected?"No response defined !":"Unexpected request: "+method+" "+url+"\n"+(expectation?"Expected "+expectation:"No more request expected"))}function createShortMethods(prefix){angular.forEach(["GET","DELETE","JSONP"],function(method){$httpBackend[prefix+method]=function(url,headers){return $httpBackend[prefix](method,url,undefined,headers)}}),angular.forEach(["PUT","POST","PATCH"],function(method){$httpBackend[prefix+method]=function(url,data,headers){return $httpBackend[prefix](method,url,data,headers)}})}var definitions=[],expectations=[],responses=[],responsesPush=angular.bind(responses,responses.push),copy=angular.copy;return $httpBackend.when=function(method,url,data,headers){var definition=new MockHttpExpectation(method,url,data,headers),chain={respond:function(status,data,headers){definition.response=createResponse(status,data,headers)}};return $browser&&(chain.passThrough=function(){definition.passThrough=!0}),definitions.push(definition),chain},createShortMethods("when"),$httpBackend.expect=function(method,url,data,headers){var expectation=new MockHttpExpectation(method,url,data,headers);return expectations.push(expectation),{respond:function(status,data,headers){expectation.response=createResponse(status,data,headers)}}},createShortMethods("expect"),$httpBackend.flush=function(count){if($rootScope.$digest(),!responses.length)throw new Error("No pending request to flush !");if(angular.isDefined(count))for(;count--;){if(!responses.length)throw new Error("No more pending request to flush !");responses.shift()()}else for(;responses.length;)responses.shift()();$httpBackend.verifyNoOutstandingExpectation()},$httpBackend.verifyNoOutstandingExpectation=function(){if($rootScope.$digest(),expectations.length)throw new Error("Unsatisfied requests: "+expectations.join(", "))},$httpBackend.verifyNoOutstandingRequest=function(){if(responses.length)throw new Error("Unflushed requests: "+responses.length)},$httpBackend.resetExpectations=function(){expectations.length=0,responses.length=0},$httpBackend}function MockHttpExpectation(method,url,data,headers){this.data=data,this.headers=headers,this.match=function(m,u,d,h){return method!=m?!1:this.matchUrl(u)?angular.isDefined(d)&&!this.matchData(d)?!1:angular.isDefined(h)&&!this.matchHeaders(h)?!1:!0:!1},this.matchUrl=function(u){return url?angular.isFunction(url.test)?url.test(u):url==u:!0},this.matchHeaders=function(h){return angular.isUndefined(headers)?!0:angular.isFunction(headers)?headers(h):angular.equals(headers,h)},this.matchData=function(d){return angular.isUndefined(data)?!0:data&&angular.isFunction(data.test)?data.test(d):data&&angular.isFunction(data)?data(d):data&&!angular.isString(data)?angular.equals(data,angular.fromJson(d)):data==d},this.toString=function(){return method+" "+url}}function MockXhr(){MockXhr.$$lastInstance=this,this.open=function(method,url,async){this.$$method=method,this.$$url=url,this.$$async=async,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(data){this.$$data=data},this.setRequestHeader=function(key,value){this.$$reqHeaders[key]=value},this.getResponseHeader=function(name){var header=this.$$respHeaders[name];return header?header:(name=angular.lowercase(name),(header=this.$$respHeaders[name])?header:(header=undefined,angular.forEach(this.$$respHeaders,function(headerVal,headerName){header||angular.lowercase(headerName)!=name||(header=headerVal)}),header))},this.getAllResponseHeaders=function(){var lines=[];return angular.forEach(this.$$respHeaders,function(value,key){lines.push(key+": "+value)}),lines.join("\n")},this.abort=angular.noop}angular.mock={},angular.mock.$BrowserProvider=function(){this.$get=function(){return new angular.mock.$Browser}},angular.mock.$Browser=function(){var self=this;this.isMock=!0,self.$$url="http://server/",self.$$lastUrl=self.$$url,self.pollFns=[],self.$$completeOutstandingRequest=angular.noop,self.$$incOutstandingRequestCount=angular.noop,self.onUrlChange=function(listener){return self.pollFns.push(function(){self.$$lastUrl!=self.$$url&&(self.$$lastUrl=self.$$url,listener(self.$$url))}),listener},self.cookieHash={},self.lastCookieHash={},self.deferredFns=[],self.deferredNextId=0,self.defer=function(fn,delay){return delay=delay||0,self.deferredFns.push({time:self.defer.now+delay,fn:fn,id:self.deferredNextId}),self.deferredFns.sort(function(a,b){return a.time-b.time}),self.deferredNextId++},self.defer.now=0,self.defer.cancel=function(deferId){var fnIndex;return angular.forEach(self.deferredFns,function(fn,index){fn.id===deferId&&(fnIndex=index)}),fnIndex!==undefined?(self.deferredFns.splice(fnIndex,1),!0):!1},self.defer.flush=function(delay){if(angular.isDefined(delay))self.defer.now+=delay;else{if(!self.deferredFns.length)throw new Error("No deferred tasks to be flushed");self.defer.now=self.deferredFns[self.deferredFns.length-1].time}for(;self.deferredFns.length&&self.deferredFns[0].time<=self.defer.now;)self.deferredFns.shift().fn()},self.$$baseHref="",self.baseHref=function(){return this.$$baseHref}},angular.mock.$Browser.prototype={poll:function(){angular.forEach(this.pollFns,function(pollFn){pollFn()})},addPollFn:function(pollFn){return this.pollFns.push(pollFn),pollFn},url:function(url){return url?(this.$$url=url,this):this.$$url},cookies:function(name,value){return name?void(angular.isUndefined(value)?delete this.cookieHash[name]:angular.isString(value)&&value.length<=4096&&(this.cookieHash[name]=value)):(angular.equals(this.cookieHash,this.lastCookieHash)||(this.lastCookieHash=angular.copy(this.cookieHash),this.cookieHash=angular.copy(this.cookieHash)),this.cookieHash)},notifyWhenNoOutstandingRequests:function(fn){fn()}},angular.mock.$ExceptionHandlerProvider=function(){var handler;this.mode=function(mode){switch(mode){case"rethrow":handler=function(e){throw e};break;case"log":var errors=[];handler=function(e){errors.push(1==arguments.length?e:[].slice.call(arguments,0))},handler.errors=errors;break;default:throw new Error("Unknown mode '"+mode+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return handler},this.mode("rethrow")},angular.mock.$LogProvider=function(){function concat(array1,array2,index){return array1.concat(Array.prototype.slice.call(array2,index))}var debug=!0;this.debugEnabled=function(flag){return angular.isDefined(flag)?(debug=flag,this):debug},this.$get=function(){var $log={log:function(){$log.log.logs.push(concat([],arguments,0))},warn:function(){$log.warn.logs.push(concat([],arguments,0))},info:function(){$log.info.logs.push(concat([],arguments,0))},error:function(){$log.error.logs.push(concat([],arguments,0))},debug:function(){debug&&$log.debug.logs.push(concat([],arguments,0))}};return $log.reset=function(){$log.log.logs=[],$log.info.logs=[],$log.warn.logs=[],$log.error.logs=[],$log.debug.logs=[]},$log.assertEmpty=function(){var errors=[];if(angular.forEach(["error","warn","info","log","debug"],function(logLevel){angular.forEach($log[logLevel].logs,function(log){angular.forEach(log,function(logItem){errors.push("MOCK $log ("+logLevel+"): "+String(logItem)+"\n"+(logItem.stack||""))})})}),errors.length)throw errors.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),errors.push(""),new Error(errors.join("\n---------\n"))},$log.reset(),$log}},angular.mock.$IntervalProvider=function(){this.$get=["$rootScope","$q",function($rootScope,$q){var repeatFns=[],nextRepeatId=0,now=0,$interval=function(fn,delay,count,invokeApply){function tick(){if(deferred.notify(iteration++),count>0&&iteration>=count){var fnIndex;deferred.resolve(iteration),angular.forEach(repeatFns,function(fn,index){fn.id===promise.$$intervalId&&(fnIndex=index)}),fnIndex!==undefined&&repeatFns.splice(fnIndex,1)}skipApply||$rootScope.$apply()}var deferred=$q.defer(),promise=deferred.promise,iteration=0,skipApply=angular.isDefined(invokeApply)&&!invokeApply;return count=angular.isDefined(count)?count:0,promise.then(null,null,fn),promise.$$intervalId=nextRepeatId,repeatFns.push({nextTime:now+delay,delay:delay,fn:tick,id:nextRepeatId,deferred:deferred}),repeatFns.sort(function(a,b){return a.nextTime-b.nextTime}),nextRepeatId++,promise};return $interval.cancel=function(promise){if(!promise)return!1;var fnIndex;return angular.forEach(repeatFns,function(fn,index){fn.id===promise.$$intervalId&&(fnIndex=index)}),fnIndex!==undefined?(repeatFns[fnIndex].deferred.reject("canceled"),repeatFns.splice(fnIndex,1),!0):!1},$interval.flush=function(millis){for(now+=millis;repeatFns.length&&repeatFns[0].nextTime<=now;){var task=repeatFns[0];task.fn(),task.nextTime+=task.delay,repeatFns.sort(function(a,b){return a.nextTime-b.nextTime})}return millis},$interval}]};var R_ISO8061_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(angular.mock.TzDate=function(offset,timestamp){var self=new Date(0);if(angular.isString(timestamp)){var tsStr=timestamp;if(self.origDate=jsonStringToDate(timestamp),timestamp=self.origDate.getTime(),isNaN(timestamp))throw{name:"Illegal Argument",message:"Arg '"+tsStr+"' passed into TzDate constructor is not a valid date string"}}else self.origDate=new Date(timestamp);var localOffset=new Date(timestamp).getTimezoneOffset();self.offsetDiff=60*localOffset*1e3-1e3*offset*60*60,self.date=new Date(timestamp+self.offsetDiff),self.getTime=function(){return self.date.getTime()-self.offsetDiff},self.toLocaleDateString=function(){return self.date.toLocaleDateString()},self.getFullYear=function(){return self.date.getFullYear()},self.getMonth=function(){return self.date.getMonth()},self.getDate=function(){return self.date.getDate()},self.getHours=function(){return self.date.getHours()},self.getMinutes=function(){return self.date.getMinutes()},self.getSeconds=function(){return self.date.getSeconds()},self.getMilliseconds=function(){return self.date.getMilliseconds()},self.getTimezoneOffset=function(){return 60*offset},self.getUTCFullYear=function(){return self.origDate.getUTCFullYear()},self.getUTCMonth=function(){return self.origDate.getUTCMonth()},self.getUTCDate=function(){return self.origDate.getUTCDate()},self.getUTCHours=function(){return self.origDate.getUTCHours()},self.getUTCMinutes=function(){return self.origDate.getUTCMinutes()},self.getUTCSeconds=function(){return self.origDate.getUTCSeconds()},self.getUTCMilliseconds=function(){return self.origDate.getUTCMilliseconds()},self.getDay=function(){return self.date.getDay()},self.toISOString&&(self.toISOString=function(){return padNumber(self.origDate.getUTCFullYear(),4)+"-"+padNumber(self.origDate.getUTCMonth()+1,2)+"-"+padNumber(self.origDate.getUTCDate(),2)+"T"+padNumber(self.origDate.getUTCHours(),2)+":"+padNumber(self.origDate.getUTCMinutes(),2)+":"+padNumber(self.origDate.getUTCSeconds(),2)+"."+padNumber(self.origDate.getUTCMilliseconds(),3)+"Z"});var unimplementedMethods=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return angular.forEach(unimplementedMethods,function(methodName){self[methodName]=function(){throw new Error("Method '"+methodName+"' is not implemented in the TzDate mock")}}),self},angular.mock.TzDate.prototype=Date.prototype,angular.mock.animate=angular.module("ngAnimateMock",["ng"]).config(["$provide",function($provide){var reflowQueue=[];$provide.value("$$animateReflow",function(fn){var index=reflowQueue.length;return reflowQueue.push(fn),function(){reflowQueue.splice(index,1)}}),$provide.decorator("$animate",function($delegate,$$asyncCallback){var animate={queue:[],enabled:$delegate.enabled,triggerCallbacks:function(){$$asyncCallback.flush()},triggerReflow:function(){angular.forEach(reflowQueue,function(fn){fn()}),reflowQueue=[]}};return angular.forEach(["enter","leave","move","addClass","removeClass","setClass"],function(method){animate[method]=function(){animate.queue.push({event:method,element:arguments[0],args:arguments}),$delegate[method].apply($delegate,arguments)}}),animate})}]),angular.mock.dump=function(object){function serialize(object){var out;return angular.isElement(object)?(object=angular.element(object),out=angular.element("<div></div>"),angular.forEach(object,function(element){out.append(angular.element(element).clone())}),out=out.html()):angular.isArray(object)?(out=[],angular.forEach(object,function(o){out.push(serialize(o))}),out="[ "+out.join(", ")+" ]"):out=angular.isObject(object)?angular.isFunction(object.$eval)&&angular.isFunction(object.$apply)?serializeScope(object):object instanceof Error?object.stack||""+object.name+": "+object.message:angular.toJson(object,!0):String(object),out}function serializeScope(scope,offset){offset=offset||"  ";var log=[offset+"Scope("+scope.$id+"): {"];for(var key in scope)Object.prototype.hasOwnProperty.call(scope,key)&&!key.match(/^(\$|this)/)&&log.push("  "+key+": "+angular.toJson(scope[key]));for(var child=scope.$$childHead;child;)log.push(serializeScope(child,offset+"  ")),child=child.$$nextSibling;return log.push("}"),log.join("\n"+offset)}return serialize(object)},angular.mock.$HttpBackendProvider=function(){this.$get=["$rootScope",createHttpBackendMock]},angular.mock.$TimeoutDecorator=function($delegate,$browser){function formatPendingTasksAsString(tasks){var result=[];return angular.forEach(tasks,function(task){result.push("{id: "+task.id+", time: "+task.time+"}")}),result.join(", ")}return $delegate.flush=function(delay){$browser.defer.flush(delay)},$delegate.verifyNoPendingTasks=function(){if($browser.deferredFns.length)throw new Error("Deferred tasks to flush ("+$browser.deferredFns.length+"): "+formatPendingTasksAsString($browser.deferredFns))},$delegate},angular.mock.$RAFDecorator=function($delegate){var queue=[],rafFn=function(fn){var index=queue.length;return queue.push(fn),function(){queue.splice(index,1)}};return rafFn.supported=$delegate.supported,rafFn.flush=function(){if(0===queue.length)throw new Error("No rAF callbacks present");for(var length=queue.length,i=0;length>i;i++)queue[i]();queue=[]},rafFn},angular.mock.$AsyncCallbackDecorator=function(){var callbacks=[],addFn=function(fn){callbacks.push(fn)};return addFn.flush=function(){angular.forEach(callbacks,function(fn){fn()}),callbacks=[]},addFn},angular.mock.$RootElementProvider=function(){this.$get=function(){return angular.element("<div ng-app></div>")}},angular.module("ngMock",["ng"]).provider({$browser:angular.mock.$BrowserProvider,$exceptionHandler:angular.mock.$ExceptionHandlerProvider,$log:angular.mock.$LogProvider,$interval:angular.mock.$IntervalProvider,$httpBackend:angular.mock.$HttpBackendProvider,$rootElement:angular.mock.$RootElementProvider}).config(["$provide",function($provide){$provide.decorator("$timeout",angular.mock.$TimeoutDecorator),$provide.decorator("$$rAF",angular.mock.$RAFDecorator),$provide.decorator("$$asyncCallback",angular.mock.$AsyncCallbackDecorator)}]),angular.module("ngMockE2E",["ng"]).config(["$provide",function($provide){$provide.decorator("$httpBackend",angular.mock.e2e.$httpBackendDecorator)}]),angular.mock.e2e={},angular.mock.e2e.$httpBackendDecorator=["$rootScope","$delegate","$browser",createHttpBackendMock],angular.mock.clearDataCache=function(){var key,cache=angular.element.cache;for(key in cache)if(Object.prototype.hasOwnProperty.call(cache,key)){var handle=cache[key].handle;handle&&angular.element(handle.elem).off(),delete cache[key]}},window.jasmine||window.mocha){var currentSpec=null,isSpecRunning=function(){return!!currentSpec};beforeEach(function(){currentSpec=this}),afterEach(function(){var injector=currentSpec.$injector;currentSpec.$injector=null,currentSpec.$modules=null,currentSpec=null,injector&&(injector.get("$rootElement").off(),injector.get("$browser").pollFns.length=0),angular.mock.clearDataCache(),angular.forEach(angular.element.fragments,function(val,key){delete angular.element.fragments[key]}),MockXhr.$$lastInstance=null,angular.forEach(angular.callbacks,function(val,key){delete angular.callbacks[key]}),angular.callbacks.counter=0}),window.module=angular.mock.module=function(){function workFn(){if(currentSpec.$injector)throw new Error("Injector already created, can not register a module!");var modules=currentSpec.$modules||(currentSpec.$modules=[]);angular.forEach(moduleFns,function(module){modules.push(angular.isObject(module)&&!angular.isArray(module)?function($provide){angular.forEach(module,function(value,key){$provide.value(key,value)})}:module)})}var moduleFns=Array.prototype.slice.call(arguments,0);return isSpecRunning()?workFn():workFn};var ErrorAddingDeclarationLocationStack=function(e,errorForStack){this.message=e.message,this.name=e.name,e.line&&(this.line=e.line),e.sourceId&&(this.sourceId=e.sourceId),e.stack&&errorForStack&&(this.stack=e.stack+"\n"+errorForStack.stack),e.stackArray&&(this.stackArray=e.stackArray)};ErrorAddingDeclarationLocationStack.prototype.toString=Error.prototype.toString,window.inject=angular.mock.inject=function(){function workFn(){var modules=currentSpec.$modules||[];modules.unshift("ngMock"),modules.unshift("ng");var injector=currentSpec.$injector;injector||(injector=currentSpec.$injector=angular.injector(modules));for(var i=0,ii=blockFns.length;ii>i;i++)try{injector.invoke(blockFns[i]||angular.noop,this)}catch(e){if(e.stack&&errorForStack)throw new ErrorAddingDeclarationLocationStack(e,errorForStack);throw e}finally{errorForStack=null}}var blockFns=Array.prototype.slice.call(arguments,0),errorForStack=new Error("Declaration Location");return isSpecRunning()?workFn.call(currentSpec):workFn}}}(window,window.angular),function(){var COMPILED=!0,goog=goog||{};goog.global=this,goog.DEBUG=!0,goog.LOCALE="en",goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var b=a;(b=b.substring(0,b.lastIndexOf(".")))&&!goog.getObjectByName(b);)goog.implicitNamespaces_[b]=!0}goog.exportPath_(a)},goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error(": "+a)},COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&!!goog.getObjectByName(a)},goog.implicitNamespaces_={}),goog.exportPath_=function(a,b,c){a=a.split("."),c=c||goog.global,!(a[0]in c)&&c.execScript&&c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&goog.isDef(b)?c[d]=b:c=c[d]?c[d]:c[d]={}},goog.getObjectByName=function(a,b){for(var e,c=a.split("."),d=b||goog.global;e=c.shift();){if(!goog.isDefAndNotNull(d[e]))return null;d=d[e]}return d},goog.globalize=function(a,b){var d,c=b||goog.global;for(d in a)c[d]=a[d]},goog.addDependency=function(a,b,c){if(!COMPILED){for(var d,a=a.replace(/\\/g,"/"),e=goog.dependencies_,f=0;d=b[f];f++)e.nameToPath[d]=a,a in e.pathToNames||(e.pathToNames[a]={}),e.pathToNames[a][d]=!0;for(d=0;b=c[d];d++)a in e.requires||(e.requires[a]={}),e.requires[a][b]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b)return goog.included_[b]=!0,void goog.writeScripts_()}throw a="goog.require could not find: "+a,goog.global.console&&goog.global.console.error(a),Error(a)}},goog.basePath="",goog.nullFunction=function(){},goog.identityFunction=function(a){return a},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(a){a.getInstance=function(){return a.instance_?a.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a),a.instance_=new a)}},goog.instantiatedSingletons_=[],!COMPILED&&goog.ENABLE_DEBUG_LOADER&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return"undefined"!=typeof a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var a=goog.global.document.getElementsByTagName("script"),b=a.length-1;b>=0;--b){var c=a[b].src,d=c.lastIndexOf("?"),d=-1==d?c.length:d;if("base.js"==c.substr(d-7,7)){goog.basePath=c.substr(0,d-7);break}}},goog.importScript_=function(a){var b=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&b(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){return goog.inHtmlDocument_()?(goog.global.document.write('<script type="text/javascript" src="'+a+'"></script>'),!0):!1
},goog.writeScripts_=function(){function a(e){if(!(e in d.written)){if(!(e in d.visited)&&(d.visited[e]=!0,e in d.requires))for(var g in d.requires[e])if(!goog.isProvided_(g)){if(!(g in d.nameToPath))throw Error("Undefined nameToPath for "+g);a(d.nameToPath[g])}e in c||(c[e]=!0,b.push(e))}}var e,b=[],c={},d=goog.dependencies_;for(e in goog.included_)d.written[e]||a(e);for(e=0;e<b.length;e++){if(!b[e])throw Error("Undefined script input");goog.importScript_(goog.basePath+b[e])}},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.typeOf=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b},goog.isDef=function(a){return void 0!==a},goog.isNull=function(a){return null===a},goog.isDefAndNotNull=function(a){return null!=a},goog.isArray=function(a){return"array"==goog.typeOf(a)},goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length},goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear},goog.isString=function(a){return"string"==typeof a},goog.isBoolean=function(a){return"boolean"==typeof a},goog.isNumber=function(a){return"number"==typeof a},goog.isFunction=function(a){return"function"==goog.typeOf(a)},goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}},goog.UID_PROPERTY_="closure_uid_"+Math.floor(2147483648*Math.random()).toString(36),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"==b||"array"==b){if(a.clone)return a.clone();var c,b="array"==b?[]:{};for(c in a)b[c]=goog.cloneObject(a[c]);return b}return a},goog.bindNative_=function(a){return a.call.apply(a.bind,arguments)},goog.bindJs_=function(a,b){if(!a)throw Error();if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(a){var c=Array.prototype.slice.call(arguments,1);return function(){var b=Array.prototype.slice.call(arguments);return b.unshift.apply(b,c),a.apply(this,b)}},goog.mixin=function(a,b){for(var c in b)a[c]=b[c]},goog.now=Date.now||function(){return+new Date},goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),"undefined"!=typeof goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_)goog.global.eval(a);else{var b=goog.global.document,c=b.createElement("script");c.type="text/javascript",c.defer=!1,c.appendChild(b.createTextNode(a)),b.body.appendChild(c),b.body.removeChild(c)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(a,b){var c=function(a){return goog.cssNameMapping_[a]||a},d=function(a){for(var a=a.split("-"),b=[],d=0;d<a.length;d++)b.push(c(a[d]));return b.join("-")},d=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?c:d:function(a){return a};return b?a+"-"+d(b):d(a)},goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a,goog.cssNameMappingStyle_=b},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(a,b){var d,c=b||{};for(d in c)var e=(""+c[d]).replace(/\$/g,"$$$$"),a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e);return a},goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)},goog.exportProperty=function(a,b,c){a[b]=c},goog.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,a.prototype.constructor=a},goog.base=function(a,b){var d=arguments.callee.caller;if(d.superClass_)return d.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var e=Array.prototype.slice.call(arguments,2),f=!1,g=a.constructor;g;g=g.superClass_&&g.superClass_.constructor)if(g.prototype[b]===d)f=!0;else if(f)return g.prototype[b].apply(a,e);if(a[b]===d)return a.constructor.prototype[b].apply(a,e);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(a){a.call(goog.global)};var fb={util:{}};fb.util.validation={},fb.util.validation.validateArgCount=function(a,b,c,d){var e;if(b>d?e="at least "+b:d>c&&(e=0===c?"none":"no more than "+c),e)throw Error(a+" failed: Was called with "+d+(1===d?" argument.":" arguments.")+" Expects "+e+".")},fb.util.validation.errorPrefix_=function(a,b,c){var d="";switch(b){case 1:d=c?"first":"First";break;case 2:d=c?"second":"Second";break;case 3:d=c?"third":"Third";break;case 4:d=c?"fourth":"Fourth";break;default:fb.core.util.validation.assert(!1,"errorPrefix_ called with argumentNumber > 4.  Need to update it?")}return a+" failed: "+(d+" argument ")},fb.util.validation.validateNamespace=function(a,b,c,d){if((!d||goog.isDef(c))&&!goog.isString(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid firebase namespace.")},fb.util.validation.validateCallback=function(a,b,c,d){if((!d||goog.isDef(c))&&!goog.isFunction(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid function.")},fb.util.validation.validateString=function(a,b,c,d){if((!d||goog.isDef(c))&&!goog.isString(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid string.")},fb.util.validation.validateContextObject=function(a,b,c,d){if(!(d&&!goog.isDef(c)||goog.isObject(c)&&null!==c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid context object.")},fb.simplelogin={},fb.simplelogin.persona={},fb.simplelogin.persona.login=function(a){navigator.id.watch({onlogin:function(b){a(b)},onlogout:function(){}}),navigator.id.request({oncancel:function(){a(null)}})},fb.constants={};var NODE_CLIENT=!1;goog.json={},goog.json.isValid_=function(a){return/^\s*$/.test(a)?!1:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,""))},goog.json.parse=function(a){if(a=String(a),goog.json.isValid_(a))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a)},goog.json.unsafeParse=function(a){return eval("("+a+")")},goog.json.serialize=function(a,b){return new goog.json.Serializer(b).serialize(a)},goog.json.Serializer=function(a){this.replacer_=a},goog.json.Serializer.prototype.serialize=function(a){var b=[];return this.serialize_(a,b),b.join("")},goog.json.Serializer.prototype.serialize_=function(a,b){switch(typeof a){case"string":this.serializeString_(a,b);break;case"number":this.serializeNumber_(a,b);break;case"boolean":b.push(a);break;case"undefined":b.push("null");break;case"object":if(null==a){b.push("null");break}if(goog.isArray(a)){this.serializeArray(a,b);break}this.serializeObject_(a,b);break;case"function":break;default:throw Error("Unknown type: "+typeof a)}},goog.json.Serializer.charToJsonCharCache_={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","":"\\u000b"},goog.json.Serializer.charsToReplace_=/\uffff/.test("￿")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g,goog.json.Serializer.prototype.serializeString_=function(a,b){b.push('"',a.replace(goog.json.Serializer.charsToReplace_,function(a){if(a in goog.json.Serializer.charToJsonCharCache_)return goog.json.Serializer.charToJsonCharCache_[a];var b=a.charCodeAt(0),e="\\u";return 16>b?e+="000":256>b?e+="00":4096>b&&(e+="0"),goog.json.Serializer.charToJsonCharCache_[a]=e+b.toString(16)}),'"')},goog.json.Serializer.prototype.serializeNumber_=function(a,b){b.push(isFinite(a)&&!isNaN(a)?a:"null")},goog.json.Serializer.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",e=0;c>e;e++)b.push(d),d=a[e],this.serialize_(this.replacer_?this.replacer_.call(a,String(e),d):d,b),d=",";b.push("]")},goog.json.Serializer.prototype.serializeObject_=function(a,b){b.push("{");var d,c="";for(d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var e=a[d];"function"!=typeof e&&(b.push(c),this.serializeString_(d,b),b.push(":"),this.serialize_(this.replacer_?this.replacer_.call(a,d,e):e,b),c=",")}b.push("}")},fb.util.json={},fb.util.json.eval=function(a){return"undefined"!=typeof JSON&&goog.isDef(JSON.parse)?JSON.parse(a):goog.json.parse(a)},fb.util.json.stringify=function(a){return"undefined"!=typeof JSON&&goog.isDef(JSON.stringify)?JSON.stringify(a):goog.json.serialize(a)},fb.simplelogin.validation={};var VALID_EMAIL_REGEX_=/^([a-zA-Z0-9_\.\-\+])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;fb.simplelogin.validation.isValidEmail=function(a){return goog.isString(a)&&VALID_EMAIL_REGEX_.test(a)},fb.simplelogin.validation.isValidPassword=function(a){return goog.isString(a)},fb.simplelogin.validation.validateUser=function(a,b,c,d){if((!d||goog.isDef(c))&&!fb.simplelogin.validation.isValidEmail(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid email address.")},fb.simplelogin.validation.validatePassword=function(a,b,c,d){if((!d||goog.isDef(c))&&!fb.simplelogin.validation.isValidPassword(c))throw Error(fb.util.validation.errorPrefix_(a,b,d)+"must be a valid password.")},fb.simplelogin.winchan=function(){function a(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,!1)}function b(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener&&a.removeEventListener(b,c,!1)}function c(a){/^https?:\/\//.test(a)||(a=window.location.href);var b=/^(https?:\/\/[\-_a-zA-Z\.0-9:]+)/.exec(a);return b?b[1]:a}var e,d="die",f=-1,g=navigator.userAgent;if("Microsoft Internet Explorer"===navigator.appName){var h=/MSIE ([0-9]{1,}[\.0-9]{0,})/;(g=g.match(h))&&1<g.length&&(f=parseFloat(g[1]))}else-1<g.indexOf("Trident")&&(h=/rv:([0-9]{2,2}[\.0-9]{0,})/,(g=g.match(h))&&1<g.length&&(f=parseFloat(g[1])));return e=f>=8,fb.util.json&&fb.util.json.eval&&fb.util.json.stringify&&window.postMessage?{open:function(f,g){function h(){if(n&&document.body.removeChild(n),n=void 0,w&&(w=clearInterval(w)),b(window,"message",l),b(window,"unload",h),v)try{v.close()}catch(a){p.postMessage(d,r)}v=p=void 0}function l(a){if(a.origin===r)try{var b=fb.util.json.eval(a.data);"ready"===b.a?p.postMessage(x,r):"error"===b.a?(h(),g&&(g(b.d),g=null)):"response"===b.a&&(h(),g&&(g(null,b.d),g=null))}catch(c){}}if(!g)throw"missing required callback argument";var m;f.url||(m="missing required 'url' parameter"),f.relay_url||(m="missing required 'relay_url' parameter"),m&&setTimeout(function(){g(m)},0),f.window_name||(f.window_name=null);var o;if(!(o=!f.window_features))a:{try{var q=navigator.userAgent;o=-1!=q.indexOf("Fennec/")||-1!=q.indexOf("Firefox/")&&-1!=q.indexOf("Android");break a}catch(u){}o=!1}o&&(f.window_features=void 0);var n,r=c(f.url);if(r!==c(f.relay_url))return setTimeout(function(){g("invalid arguments: origin of url and relay_url must match")},0);var p;e&&(n=document.createElement("iframe"),n.setAttribute("src",f.relay_url),n.style.display="none",n.setAttribute("name","__winchan_relay_frame"),document.body.appendChild(n),p=n.contentWindow);var v=window.open(f.url,f.window_name,f.window_features);p||(p=v);var w=setInterval(function(){v&&v.closed&&(h(),g&&(g("unknown closed window"),g=null))},500),x=fb.util.json.stringify({a:"request",d:f.params});return a(window,"unload",h),a(window,"message",l),{close:h,focus:function(){if(v)try{v.focus()}catch(a){}}}},onOpen:function(c){function f(a){a=fb.util.json.stringify(a),e?p.doPost(a,m):p.postMessage(a,m)}function g(a){var d;try{d=fb.util.json.eval(a.data)}catch(e){}d&&"request"===d.a&&(b(window,"message",g),m=a.origin,c&&setTimeout(function(){c(m,d.d,function(a){c=void 0,f({a:"response",d:a})})},0))}function h(a){if(a.data===d)try{window.close()}catch(b){}}var o,m="*";if(e)a:{for(var q=window.location,u=window.opener.frames,q=q.protocol+"//"+q.host,n=u.length-1;n>=0;n--)try{if(0===u[n].location.href.indexOf(q)&&"__winchan_relay_frame"===u[n].name){o=u[n];break a}}catch(r){}o=void 0}else o=window.opener;var p=o;if(!p)throw"can't find relay frame";a(e?p:window,"message",g),a(e?p:window,"message",h);try{f({a:"ready"})}catch(v){a(p,"load",function(){f({a:"ready"})})}var w=function(){try{b(e?p:window,"message",h)}catch(a){}c&&f({a:"error",d:"client closed window"}),c=void 0;try{window.close()}catch(d){}};return a(window,"unload",w),{detach:function(){b(window,"unload",w)}}}}:{open:function(a,b,c,d){setTimeout(function(){d("unsupported browser")},0)},onOpen:function(a){setTimeout(function(){a("unsupported browser")},0)}}}(),fb.util.sjcl={};var sjcl={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(a){this.toString=function(){return"CORRUPT: "+this.message},this.message=a},invalid:function(a){this.toString=function(){return"INVALID: "+this.message},this.message=a},bug:function(a){this.toString=function(){return"BUG: "+this.message},this.message=a},notReady:function(a){this.toString=function(){return"NOT READY: "+this.message},this.message=a}}};"undefined"!=typeof module&&module.exports&&(module.exports=sjcl),sjcl.cipher.aes=function(a){this.h[0][0][0]||this.w();var b,c,d,e,f=this.h[0][4],g=this.h[1];b=a.length;var h=1;if(4!==b&&6!==b&&8!==b)throw new sjcl.exception.invalid("invalid aes key size");for(this.a=[d=a.slice(0),e=[]],a=b;4*b+28>a;a++)c=d[a-1],(a%b===0||8===b&&a%b===4)&&(c=f[c>>>24]<<24^f[c>>16&255]<<16^f[c>>8&255]<<8^f[255&c],a%b===0&&(c=c<<8^c>>>24^h<<24,h=h<<1^283*(h>>7))),d[a]=d[a-b]^c;for(b=0;a;b++,a--)c=d[3&b?a:a-4],e[b]=4>=a||4>b?c:g[0][f[c>>>24]]^g[1][f[c>>16&255]]^g[2][f[c>>8&255]]^g[3][f[255&c]]},sjcl.cipher.aes.prototype={encrypt:function(a){return this.G(a,0)},decrypt:function(a){return this.G(a,1)},h:[[[],[],[],[],[]],[[],[],[],[],[]]],w:function(){var e,f,g,k,j,l,m,a=this.h[0],b=this.h[1],c=a[4],d=b[4],h=[],i=[];for(e=0;256>e;e++)i[(h[e]=e<<1^283*(e>>7))^e]=e;for(f=g=0;!c[f];f^=k||1,g=i[g]||1)for(l=g^g<<1^g<<2^g<<3^g<<4,l=l>>8^255&l^99,c[f]=l,d[l]=f,j=h[e=h[k=h[f]]],m=16843009*j^65537*e^257*k^16843008*f,j=257*h[l]^16843008*l,e=0;4>e;e++)a[e][f]=j=j<<24^j>>>8,b[e][l]=m=m<<24^m>>>8;for(e=0;5>e;e++)a[e]=a[e].slice(0),b[e]=b[e].slice(0)},G:function(a,b){if(4!==a.length)throw new sjcl.exception.invalid("invalid aes block size");var g,h,i,j,c=this.a[b],d=a[0]^c[0],e=a[b?3:1]^c[1],f=a[2]^c[2],a=a[b?1:3]^c[3],k=c.length/4-2,l=4,m=[0,0,0,0];g=this.h[b];var o=g[0],q=g[1],u=g[2],n=g[3],r=g[4];for(j=0;k>j;j++)g=o[d>>>24]^q[e>>16&255]^u[f>>8&255]^n[255&a]^c[l],h=o[e>>>24]^q[f>>16&255]^u[a>>8&255]^n[255&d]^c[l+1],i=o[f>>>24]^q[a>>16&255]^u[d>>8&255]^n[255&e]^c[l+2],a=o[a>>>24]^q[d>>16&255]^u[e>>8&255]^n[255&f]^c[l+3],l+=4,d=g,e=h,f=i;for(j=0;4>j;j++)m[b?3&-j:j]=r[d>>>24]<<24^r[e>>16&255]<<16^r[f>>8&255]<<8^r[255&a]^c[l++],g=d,d=e,e=f,f=a,a=g;return m}},sjcl.bitArray={bitSlice:function(a,b,c){return a=sjcl.bitArray.N(a.slice(b/32),32-(31&b)).slice(1),void 0===c?a:sjcl.bitArray.clamp(a,c-b)},extract:function(a,b,c){var d=Math.floor(-b-c&31);return(-32&(b+c-1^b)?a[b/32|0]<<32-d^a[b/32+1|0]>>>d:a[b/32|0]>>>d)&(1<<c)-1},concat:function(a,b){if(0===a.length||0===b.length)return a.concat(b);var c=a[a.length-1],d=sjcl.bitArray.getPartial(c);return 32===d?a.concat(b):sjcl.bitArray.N(b,d,0|c,a.slice(0,a.length-1))},bitLength:function(a){var b=a.length;return 0===b?0:32*(b-1)+sjcl.bitArray.getPartial(a[b-1])},clamp:function(a,b){if(32*a.length<b)return a;var a=a.slice(0,Math.ceil(b/32)),c=a.length,b=31&b;return c>0&&b&&(a[c-1]=sjcl.bitArray.partial(b,a[c-1]&2147483648>>b-1,1)),a},partial:function(a,b,c){return 32===a?b:(c?0|b:b<<32-a)+1099511627776*a},getPartial:function(a){return Math.round(a/1099511627776)||32},equal:function(a,b){if(sjcl.bitArray.bitLength(a)!==sjcl.bitArray.bitLength(b))return!1;var d,c=0;for(d=0;d<a.length;d++)c|=a[d]^b[d];return 0===c},N:function(a,b,c,d){var e;for(void 0===d&&(d=[]);b>=32;b-=32)d.push(c),c=0;if(0===b)return d.concat(a);for(e=0;e<a.length;e++)d.push(c|a[e]>>>b),c=a[e]<<32-b;return e=a.length?a[a.length-1]:0,a=sjcl.bitArray.getPartial(e),d.push(sjcl.bitArray.partial(b+a&31,b+a>32?c:d.pop(),1)),d},O:function(a,b){return[a[0]^b[0],a[1]^b[1],a[2]^b[2],a[3]^b[3]]}},sjcl.codec.utf8String={fromBits:function(a){var d,e,b="",c=sjcl.bitArray.bitLength(a);for(d=0;c/8>d;d++)0===(3&d)&&(e=a[d/4]),b+=String.fromCharCode(e>>>24),e<<=8;return decodeURIComponent(escape(b))},toBits:function(a){var c,a=unescape(encodeURIComponent(a)),b=[],d=0;for(c=0;c<a.length;c++)d=d<<8|a.charCodeAt(c),3===(3&c)&&(b.push(d),d=0);return 3&c&&b.push(sjcl.bitArray.partial(8*(3&c),d)),b}},sjcl.codec.base64={C:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fromBits:function(a,b,c){var d="",e=0,f=sjcl.codec.base64.C,g=0,h=sjcl.bitArray.bitLength(a);for(c&&(f=f.substr(0,62)+"-_"),c=0;6*d.length<h;)d+=f.charAt((g^a[c]>>>e)>>>26),6>e?(g=a[c]<<6-e,e+=26,c++):(g<<=6,e-=6);for(;3&d.length&&!b;)d+="=";return d},toBits:function(a,b){var g,a=a.replace(/\s|=/g,""),c=[],d=0,e=sjcl.codec.base64.C,f=0;for(b&&(e=e.substr(0,62)+"-_"),b=0;b<a.length;b++){if(g=e.indexOf(a.charAt(b)),0>g)throw new sjcl.exception.invalid("this isn't base64!");d>26?(d-=26,c.push(f^g>>>d),f=g<<32-d):(d+=6,f^=g<<32-d)}return 56&d&&c.push(sjcl.bitArray.partial(56&d,f,1)),c}},sjcl.codec.base64url={fromBits:function(a){return sjcl.codec.base64.fromBits(a,1,1)},toBits:function(a){return sjcl.codec.base64.toBits(a,1)}},sjcl.hash.sha256=function(a){this.a[0]||this.w(),a?(this.m=a.m.slice(0),this.i=a.i.slice(0),this.e=a.e):this.reset()},sjcl.hash.sha256.hash=function(a){return(new sjcl.hash.sha256).update(a).finalize()},sjcl.hash.sha256.prototype={blockSize:512,reset:function(){return this.m=this.L.slice(0),this.i=[],this.e=0,this},update:function(a){"string"==typeof a&&(a=sjcl.codec.utf8String.toBits(a));var b,c=this.i=sjcl.bitArray.concat(this.i,a);for(b=this.e,a=this.e=b+sjcl.bitArray.bitLength(a),b=512+b&-512;a>=b;b+=512)this.B(c.splice(0,16));return this},finalize:function(){var a,b=this.i,c=this.m,b=sjcl.bitArray.concat(b,[sjcl.bitArray.partial(1,1)]);for(a=b.length+2;15&a;a++)b.push(0);for(b.push(Math.floor(this.e/4294967296)),b.push(0|this.e);b.length;)this.B(b.splice(0,16));return this.reset(),c},L:[],a:[],w:function(){function a(a){return 4294967296*(a-Math.floor(a))|0}var d,b=0,c=2;a:for(;64>b;c++){for(d=2;c>=d*d;d++)if(c%d===0)continue a;8>b&&(this.L[b]=a(Math.pow(c,.5))),this.a[b]=a(Math.pow(c,1/3)),b++}},B:function(a){for(var b,c,d=a.slice(0),e=this.m,f=this.a,g=e[0],h=e[1],i=e[2],k=e[3],j=e[4],l=e[5],m=e[6],o=e[7],a=0;64>a;a++)16>a?b=d[a]:(b=d[a+1&15],c=d[a+14&15],b=d[15&a]=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(c>>>17^c>>>19^c>>>10^c<<15^c<<13)+d[15&a]+d[a+9&15]|0),b=b+o+(j>>>6^j>>>11^j>>>25^j<<26^j<<21^j<<7)+(m^j&(l^m))+f[a],o=m,m=l,l=j,j=k+b|0,k=i,i=h,h=g,g=b+(h&i^k&(h^i))+(h>>>2^h>>>13^h>>>22^h<<30^h<<19^h<<10)|0;e[0]=e[0]+g|0,e[1]=e[1]+h|0,e[2]=e[2]+i|0,e[3]=e[3]+k|0,e[4]=e[4]+j|0,e[5]=e[5]+l|0,e[6]=e[6]+m|0,e[7]=e[7]+o|0}},sjcl.mode.ccm={name:"ccm",encrypt:function(a,b,c,d,e){var f,g=b.slice(0),h=sjcl.bitArray,i=h.bitLength(c)/8,k=h.bitLength(g)/8,e=e||64,d=d||[];if(7>i)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(f=2;4>f&&k>>>8*f;f++);return 15-i>f&&(f=15-i),c=h.clamp(c,8*(15-f)),b=sjcl.mode.ccm.F(a,b,c,d,e,f),g=sjcl.mode.ccm.H(a,g,c,b,e,f),h.concat(g.data,g.tag)},decrypt:function(a,b,c,d,e){var e=e||64,d=d||[],f=sjcl.bitArray,g=f.bitLength(c)/8,h=f.bitLength(b),i=f.clamp(b,h-e),k=f.bitSlice(b,h-e),h=(h-e)/8;if(7>g)throw new sjcl.exception.invalid("ccm: iv must be at least 7 bytes");for(b=2;4>b&&h>>>8*b;b++);if(15-g>b&&(b=15-g),c=f.clamp(c,8*(15-b)),i=sjcl.mode.ccm.H(a,i,c,k,e,b),a=sjcl.mode.ccm.F(a,i.data,c,d,e,b),!f.equal(i.tag,a))throw new sjcl.exception.corrupt("ccm: tag doesn't match");return i.data},F:function(a,b,c,d,e,f){var g=[],h=sjcl.bitArray,i=h.O,e=e/8;if(e%2||4>e||e>16)throw new sjcl.exception.invalid("ccm: invalid tag length");if(d.length>4294967295||b.length>4294967295)throw new sjcl.exception.bug("ccm: can't deal with 4GiB or more data");if(f=[h.partial(8,(d.length?64:0)|e-2<<2|f-1)],f=h.concat(f,c),f[3]=f[3]|h.bitLength(b)/8,f=a.encrypt(f),d.length)for(c=h.bitLength(d)/8,65279>=c?g=[h.partial(16,c)]:4294967295>=c&&(g=h.concat([h.partial(16,65534)],[c])),g=h.concat(g,d),d=0;d<g.length;d+=4)f=a.encrypt(i(f,g.slice(d,d+4).concat([0,0,0])));for(d=0;d<b.length;d+=4)f=a.encrypt(i(f,b.slice(d,d+4).concat([0,0,0])));return h.clamp(f,8*e)},H:function(a,b,c,d,e,f){var g,h=sjcl.bitArray;g=h.O;var i=b.length,k=h.bitLength(b),c=h.concat([h.partial(8,f-1)],c).concat([0,0,0]).slice(0,4),d=h.bitSlice(g(d,a.encrypt(c)),0,e);if(!i)return{tag:d,data:[]};for(g=0;i>g;g+=4)c[3]++,e=a.encrypt(c),b[g]=b[g]^e[0],b[g+1]=b[g+1]^e[1],b[g+2]=b[g+2]^e[2],b[g+3]=b[g+3]^e[3];return{tag:d,data:h.clamp(b,k)}}},sjcl.misc.hmac=function(a,b){this.K=b=b||sjcl.hash.sha256;var c=[[],[]],d=b.prototype.blockSize/32;for(this.k=[new b,new b],a.length>d&&(a=b.hash(a)),b=0;d>b;b++)c[0][b]=909522486^a[b],c[1][b]=1549556828^a[b];this.k[0].update(c[0]),this.k[1].update(c[1])},sjcl.misc.hmac.prototype.encrypt=sjcl.misc.hmac.prototype.mac=function(a){return a=new this.K(this.k[0]).update(a).finalize(),new this.K(this.k[1]).update(a).finalize()},sjcl.misc.pbkdf2=function(a,b,c,d,e){if(c=c||1e3,0>d||0>c)throw sjcl.exception.invalid("invalid params to pbkdf2");"string"==typeof a&&(a=sjcl.codec.utf8String.toBits(a));var f,g,h,i,e=e||sjcl.misc.hmac,a=new e(a),k=[],j=sjcl.bitArray;for(i=1;32*k.length<(d||1);i++){for(e=f=a.encrypt(j.concat(b,[i])),g=1;c>g;g++)for(f=a.encrypt(f),h=0;h<f.length;h++)e[h]=e[h]^f[h];k=k.concat(e)}return d&&(k=j.clamp(k,d)),k},sjcl.random={randomWords:function(a,b){var d,c=[],b=this.isReady(b);if(0===b)throw new sjcl.exception.notReady("generator isn't seeded");for(2&b&&this.T(!(1&b)),b=0;a>b;b+=4)(b+1)%65536===0&&this.J(),d=this.u(),c.push(d[0],d[1],d[2],d[3]);return this.J(),c.slice(0,a)},setDefaultParanoia:function(a){this.s=a},addEntropy:function(a,b,c){var d,e,c=c||"user",f=(new Date).valueOf(),g=this.p[c],h=this.isReady(),i=0;switch(d=this.D[c],void 0===d&&(d=this.D[c]=this.Q++),void 0===g&&(g=this.p[c]=0),this.p[c]=(this.p[c]+1)%this.b.length,typeof a){case"number":void 0===b&&(b=1),this.b[g].update([d,this.t++,1,b,f,1,0|a]);break;case"object":if(c=Object.prototype.toString.call(a),"[object Uint32Array]"===c){for(e=[],c=0;c<a.length;c++)e.push(a[c]);a=e}else for("[object Array]"!==c&&(i=1),c=0;c<a.length&&!i;c++)"number"!=typeof a[c]&&(i=1);if(!i){if(void 0===b)for(c=b=0;c<a.length;c++)for(e=a[c];e>0;)b++,e>>>=1;this.b[g].update([d,this.t++,2,b,f,a.length].concat(a))}break;case"string":void 0===b&&(b=a.length),this.b[g].update([d,this.t++,3,b,f,a.length]),this.b[g].update(a);break;default:i=1}if(i)throw new sjcl.exception.bug("random: addEntropy only supports number, array of numbers or string");this.j[g]=this.j[g]+b,this.f=this.f+b,0===h&&(0!==this.isReady()&&this.I("seeded",Math.max(this.g,this.f)),this.I("progress",this.getProgress()))},isReady:function(a){return a=this.A[void 0!==a?a:this.s],this.g&&this.g>=a?this.j[0]>80&&(new Date).valueOf()>this.M?3:1:this.f>=a?2:0},getProgress:function(a){return a=this.A[a?a:this.s],this.g>=a?1:this.f>a?1:this.f/a},startCollectors:function(){if(!this.l){if(window.addEventListener)window.addEventListener("load",this.n,!1),window.addEventListener("mousemove",this.o,!1);else{if(!document.attachEvent)throw new sjcl.exception.bug("can't attach event");document.attachEvent("onload",this.n),document.attachEvent("onmousemove",this.o)}this.l=!0}},stopCollectors:function(){this.l&&(window.removeEventListener?(window.removeEventListener("load",this.n,!1),window.removeEventListener("mousemove",this.o,!1)):window.detachEvent&&(window.detachEvent("onload",this.n),window.detachEvent("onmousemove",this.o)),this.l=!1)},addEventListener:function(a,b){this.q[a][this.P++]=b},removeEventListener:function(a,b){var c,a=this.q[a],d=[];for(c in a)a.hasOwnProperty(c)&&a[c]===b&&d.push(c);for(b=0;b<d.length;b++)c=d[b],delete a[c]},b:[new sjcl.hash.sha256],j:[0],z:0,p:{},t:0,D:{},Q:0,g:0,f:0,M:0,a:[0,0,0,0,0,0,0,0],d:[0,0,0,0],r:void 0,s:6,l:!1,q:{progress:{},seeded:{}},P:0,A:[0,48,64,96,128,192,256,384,512,768,1024],u:function(){for(var a=0;4>a&&(this.d[a]=this.d[a]+1|0,!this.d[a]);a++);return this.r.encrypt(this.d)},J:function(){this.a=this.u().concat(this.u()),this.r=new sjcl.cipher.aes(this.a)},S:function(a){for(this.a=sjcl.hash.sha256.hash(this.a.concat(a)),this.r=new sjcl.cipher.aes(this.a),a=0;4>a&&(this.d[a]=this.d[a]+1|0,!this.d[a]);a++);},T:function(a){var d,b=[],c=0;for(this.M=b[0]=(new Date).valueOf()+3e4,d=0;16>d;d++)b.push(4294967296*Math.random()|0);for(d=0;d<this.b.length&&(b=b.concat(this.b[d].finalize()),c+=this.j[d],this.j[d]=0,a||!(this.z&1<<d));d++);this.z>=1<<this.b.length&&(this.b.push(new sjcl.hash.sha256),this.j.push(0)),this.f=this.f-c,c>this.g&&(this.g=c),this.z++,this.S(b)},o:function(a){sjcl.random.addEntropy([a.x||a.clientX||a.offsetX||0,a.y||a.clientY||a.offsetY||0],2,"mouse")},n:function(){sjcl.random.addEntropy((new Date).valueOf(),2,"loadtime")},I:function(a,b){var c,a=sjcl.random.q[a],d=[];for(c in a)a.hasOwnProperty(c)&&d.push(a[c]);for(c=0;c<d.length;c++)d[c](b)}};try{var s=new Uint32Array(32);crypto.getRandomValues(s),sjcl.random.addEntropy(s,1024,"crypto['getRandomValues']")}catch(t){}sjcl.json={defaults:{v:1,iter:1e3,ks:128,ts:64,mode:"ccm",adata:"",cipher:"aes"},encrypt:function(a,b,c,d){var g,c=c||{},d=d||{},e=sjcl.json,f=e.c({iv:sjcl.random.randomWords(4,0)},e.defaults);if(e.c(f,c),c=f.adata,"string"==typeof f.salt&&(f.salt=sjcl.codec.base64.toBits(f.salt)),"string"==typeof f.iv&&(f.iv=sjcl.codec.base64.toBits(f.iv)),!sjcl.mode[f.mode]||!sjcl.cipher[f.cipher]||"string"==typeof a&&f.iter<=100||64!==f.ts&&96!==f.ts&&128!==f.ts||128!==f.ks&&192!==f.ks&&256!==f.ks||f.iv.length<2||f.iv.length>4)throw new sjcl.exception.invalid("json encrypt: invalid parameters");return"string"==typeof a&&(g=sjcl.misc.cachedPbkdf2(a,f),a=g.key.slice(0,f.ks/32),f.salt=g.salt),"string"==typeof b&&(b=sjcl.codec.utf8String.toBits(b)),"string"==typeof c&&(c=sjcl.codec.utf8String.toBits(c)),g=new sjcl.cipher[f.cipher](a),e.c(d,f),d.key=a,f.ct=sjcl.mode[f.mode].encrypt(g,b,f.iv,c,f.ts),e.encode(f)},decrypt:function(a,b,c,d){var f,c=c||{},d=d||{},e=sjcl.json,b=e.c(e.c(e.c({},e.defaults),e.decode(b)),c,!0),c=b.adata;if("string"==typeof b.salt&&(b.salt=sjcl.codec.base64.toBits(b.salt)),"string"==typeof b.iv&&(b.iv=sjcl.codec.base64.toBits(b.iv)),!sjcl.mode[b.mode]||!sjcl.cipher[b.cipher]||"string"==typeof a&&b.iter<=100||64!==b.ts&&96!==b.ts&&128!==b.ts||128!==b.ks&&192!==b.ks&&256!==b.ks||!b.iv||b.iv.length<2||b.iv.length>4)throw new sjcl.exception.invalid("json decrypt: invalid parameters");return"string"==typeof a&&(f=sjcl.misc.cachedPbkdf2(a,b),a=f.key.slice(0,b.ks/32),b.salt=f.salt),"string"==typeof c&&(c=sjcl.codec.utf8String.toBits(c)),f=new sjcl.cipher[b.cipher](a),c=sjcl.mode[b.mode].decrypt(f,b.ct,b.iv,c,b.ts),e.c(d,b),d.key=a,sjcl.codec.utf8String.fromBits(c)},encode:function(a){var b,c="{",d="";for(b in a)if(a.hasOwnProperty(b)){if(!b.match(/^[a-z0-9]+$/i))throw new sjcl.exception.invalid("json encode: invalid property name");switch(c+=d+'"'+b+'":',d=",",typeof a[b]){case"number":case"boolean":c+=a[b];break;case"string":c+='"'+escape(a[b])+'"';break;case"object":c+='"'+sjcl.codec.base64.fromBits(a[b],0)+'"';break;default:throw new sjcl.exception.bug("json encode: unsupported type")}}return c+"}"},decode:function(a){if(a=a.replace(/\s/g,""),!a.match(/^\{.*\}$/))throw new sjcl.exception.invalid("json decode: this isn't json!");var c,d,a=a.replace(/^\{|\}$/g,"").split(/,/),b={};for(c=0;c<a.length;c++){if(!(d=a[c].match(/^(?:(["']?)([a-z][a-z0-9]*)\1):(?:(\d+)|"([a-z0-9+\/%*_.@=\-]*)")$/i)))throw new sjcl.exception.invalid("json decode: this isn't json!");b[d[2]]=d[3]?parseInt(d[3],10):d[2].match(/^(ct|salt|iv)$/)?sjcl.codec.base64.toBits(d[4]):unescape(d[4])}return b},c:function(a,b,c){if(void 0===a&&(a={}),void 0===b)return a;for(var d in b)if(b.hasOwnProperty(d)){if(c&&void 0!==a[d]&&a[d]!==b[d])throw new sjcl.exception.invalid("required parameter overridden");a[d]=b[d]}return a},V:function(a,b){var d,c={};for(d in a)a.hasOwnProperty(d)&&a[d]!==b[d]&&(c[d]=a[d]);return c},U:function(a,b){var d,c={};for(d=0;d<b.length;d++)void 0!==a[b[d]]&&(c[b[d]]=a[b[d]]);return c}},sjcl.encrypt=sjcl.json.encrypt,sjcl.decrypt=sjcl.json.decrypt,sjcl.misc.R={},sjcl.misc.cachedPbkdf2=function(a,b){var d,c=sjcl.misc.R,b=b||{};return d=b.iter||1e3,c=c[a]=c[a]||{},d=c[d]=c[d]||{firstSalt:b.salt&&b.salt.length?b.salt.slice(0):sjcl.random.randomWords(2,0)},c=void 0===b.salt?d.firstSalt:b.salt,d[c]=d[c]||sjcl.misc.pbkdf2(a,c,b.iter),{key:d[c].slice(0),salt:c.slice(0)}};var FirebaseSimpleLogin=function(a,b,c){var d=a.toString(),e=null;if(fb.util.validation.validateArgCount("new FirebaseSimpleLogin",1,3,arguments.length),fb.util.validation.validateCallback("new FirebaseSimpleLogin",2,b,!1),"string"==typeof a)throw Error("new FirebaseSimpleLogin(): Oops, it looks like you passed a string instead of a Firebase reference (i.e. new Firebase(<firebaseURL>)).");if(goog.isString(d)){var f=d.indexOf("//");f>=0&&(d=d.substring(f+2)),f=d.indexOf("."),f>=0&&(e=d.substring(0,f))}if(!goog.isString(e))throw Error("new FirebaseSimpleLogin(): First argument must be a valid Firebase reference (i.e. new Firebase(<firebaseURL>)).");"file:"===window.location.protocol&&!this.isMobilePhoneGap()&&!this.isMobileTriggerIo()&&console&&console.log&&console.log("FirebaseSimpleLogin(): Due to browser security restrictions, loading applications via `file://*` URLs will prevent popup-based authentication providers from working properly. When testing locally, you'll need to run a barebones webserver on your machine rather than loading your test files via `file://*`. The easiest way to run a barebones server on your local machine is to `cd` to the root directory of your code and run `python -m SimpleHTTPServer`, which will allow you to access your content via `http://127.0.0.1:8000/*`."),this.mRef=a,this.mNamespace=e,this.mApiHost="https://auth.firebase.com",this.sessionLengthDays=null,this.mLoginStateChange=function(){var d=Array.prototype.slice.apply(arguments),e={anonymous:["uid","firebaseAuthToken","id","provider"],password:"uid email firebaseAuthToken id md5_hash provider".split(" "),facebook:"uid accessToken displayName firebaseAuthToken id provider".split(" "),github:"uid accessToken displayName firebaseAuthToken id provider username".split(" "),persona:"uid email firebaseAuthToken id md5_hash provider".split(" "),twitter:"uid accessToken accessTokenSecret displayName firebaseAuthToken id provider username".split(" ")};if("function"==typeof window.Proxy&&2===window.Proxy.length&&d[1]&&d[1].provider){var f=d[1].provider;Firebase&&Firebase.INTERNAL&&Firebase.INTERNAL.statsIncrementCounter&&(d[1]=new Proxy(d[1],{get:function(b,c){return 0>e[f].indexOf(c)&&Firebase.INTERNAL.statsIncrementCounter(a,"simple_login_undocumented_attribute_use."+c),b[c]
}}))}setTimeout(function(){b.apply(c,d)},0)},this.resumeSession()};goog.exportSymbol("FirebaseSimpleLogin",FirebaseSimpleLogin),FirebaseSimpleLogin.onOpen=function(a){fb.simplelogin.winchan.onOpen(a)},goog.exportProperty(FirebaseSimpleLogin,"onOpen",FirebaseSimpleLogin.onOpen),FirebaseSimpleLogin.prototype.hasLocalStorage=function(){try{localStorage.setItem("firebase-sentinel","test");var a=localStorage.getItem("firebase-sentinel");return localStorage.removeItem("firebase-sentinel"),"test"===a}catch(b){}return!1},FirebaseSimpleLogin.prototype.resumeSession=function(){var a={};if(this.hasLocalStorage()){var b=this.readCookie("firebaseSessionKey"),c=localStorage.getItem("firebaseSession");if(b&&c)try{a=fb.util.json.eval(sjcl.decrypt(b,fb.util.json.eval(c)))}catch(d){}}a&&a.token&&a.user?this.attemptAuth(a.token,a.user,!1):this.mLoginStateChange(null,null)},FirebaseSimpleLogin.prototype.saveSession=function(a,b){if(this.hasLocalStorage()){var c=b.sessionKey,d=sjcl.encrypt(c,fb.util.json.stringify({token:a,user:b}));this.writeCookie("firebaseSessionKey",c,this.sessionLengthDays),localStorage.setItem("firebaseSession",fb.util.json.stringify(d))}},FirebaseSimpleLogin.prototype.clearSession=function(){this.hasLocalStorage()&&(this.writeCookie("firebaseSessionKey","",-1),localStorage.removeItem("firebaseSession"))},FirebaseSimpleLogin.prototype.writeCookie=function(a,b,c){var d="";c&&(d=new Date,d.setTime(d.getTime()+864e5*c),d="; expires="+d.toGMTString()),document.cookie=a+"="+b+d+"; path=/"},FirebaseSimpleLogin.prototype.readCookie=function(a){for(var a=a+"=",b=document.cookie.split(";"),c=0;c<b.length;c++){for(var d=b[c];" "==d.charAt(0);)d=d.substring(1,d.length);if(0==d.indexOf(a))return d.substring(a.length,d.length)}return null},FirebaseSimpleLogin.prototype.attemptAuth=function(a,b,c){var d=this;this.mRef.auth(a,function(e,f){e?(d.clearSession(),d.mLoginStateChange(null,null)):(c&&d.saveSession(a,b),"function"==typeof f&&f(),delete b.sessionKey,b.firebaseAuthToken=a,d.mLoginStateChange(null,b))},function(){d.clearSession(),d.mLoginStateChange(null,null)})},FirebaseSimpleLogin.prototype.login=function(a){fb.util.validation.validateString(d,1,a,!1);var b=this,c={},a=a.toLowerCase(),d="FirebaseSimpleLogin.login("+a+")";if("password"===a){if(c=arguments[1]||{},!fb.simplelogin.validation.isValidEmail(c.email))return this.mLoginStateChange(this.formatError({code:"INVALID_EMAIL",message:"Invalid email specified."}));if(!fb.simplelogin.validation.isValidPassword(c.password))return this.mLoginStateChange(this.formatError({code:"INVALID_PASSWORD",message:"Invalid password specified."}))}else("facebook"===a||"github"===a||"persona"===a||"twitter"===a||"anonymous"===a)&&(fb.util.validation.validateArgCount(d,1,2,arguments.length),c=arguments[1]||{});var e=this.mLoginStateChange;switch(this.sessionLengthDays=c.rememberMe?30:null,a){case"password":this.jsonp("/auth/firebase",{email:c.email,password:c.password},function(a,c){a||!c.token?e(b.formatError(a)):b.attemptAuth(c.token,c.user,!0)});break;case"github":c.height=850,c.width=950;case"facebook":case"twitter":d="twitter"===a&&c.user_id&&c.oauth_token&&c.oauth_token_secret,"facebook"===a&&c.access_token||d?this.jsonp("/auth/"+a+"/token",c,function(a,c){a||!c.token?e(b.formatError(a)):b.attemptAuth(c.token,c.user,!0)}):this.launchAuthWindow(a,c,function(a,c,d){a?b.mLoginStateChange(b.formatError(a),null):b.attemptAuth(c,d,!0)});break;case"persona":if(!navigator.id)throw Error(d+": Unable to find Persona include.js");fb.simplelogin.persona.login(function(a){null===a?e(b.formatError({code:"UNKNOWN_ERROR",message:"User denied authentication request or an error occurred."})):b.jsonp("/auth/persona/token",{assertion:a},function(a,c){a||!c.token?e(b.formatError(a),null):b.attemptAuth(c.token,c.user,!0)})});break;case"anonymous":b.jsonp("/auth/anonymous",{},function(a,c){a||!c.token?e(b.formatError(a),null):b.attemptAuth(c.token,c.user,!0)});break;default:throw Error("FirebaseSimpleLogin.login() failed: unrecognized authentication provider")}},goog.exportProperty(FirebaseSimpleLogin.prototype,"login",FirebaseSimpleLogin.prototype.login),FirebaseSimpleLogin.prototype.logout=function(){fb.util.validation.validateArgCount("FirebaseSimpleLogin.logout",0,0,arguments.length),this.clearSession(),this.mRef.unauth(),this.mLoginStateChange(null,null)},goog.exportProperty(FirebaseSimpleLogin.prototype,"logout",FirebaseSimpleLogin.prototype.logout),FirebaseSimpleLogin.prototype.parseURL=function(a){var b=document.createElement("a");b.href=a;for(var k,a=b.protocol.replace(":",""),c=b.hostname,d=b.port,e=b.search,f={},g=b.search.replace(/^\?/,"").split("&"),h=g.length,i=0;h>i;i++)g[i]&&(k=g[i].split("="),f[k[0]]=k[1]);return{protocol:a,host:c,port:d,query:e,params:f,hash:b.hash.replace("#",""),path:b.pathname.replace(/^([^\/])/,"/$1")}},FirebaseSimpleLogin.prototype.isMobilePhoneGap=function(){return(window.cordova||window.PhoneGap||window.phonegap)&&/^file:\/{3}[^\/]/i.test(window.location.href)&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)},FirebaseSimpleLogin.prototype.isMobileTriggerIo=function(){return window.forge&&/^file:\/{3}[^\/]/i.test(window.location.href)&&/ios|iphone|ipod|ipad|android/i.test(navigator.userAgent)},FirebaseSimpleLogin.prototype.launchAuthWindow=function(a,b,c){var d=this,a=this.mApiHost+"/auth/"+a+"?firebase="+this.mNamespace;b.scope&&(a+="&scope="+b.scope),b.debug&&(a+="&debug="+b.debug);var e={menubar:0,location:0,resizable:0,scrollbars:1,status:0,dialog:1,width:700,height:375};if(b.height&&(e.height=b.height,delete b.height),b.width&&(e.width=b.width,delete b.width),this.isMobilePhoneGap()){var f=window.open(a+"&internalRedirect=true&transport=internalRedirect","blank","location=no"),g=!1;f.addEventListener("loadstop",function(a){try{var b=d.parseURL(a.url);if("/auth/_blank"===b.path){f.close();var h,e=b.params,a={};for(h in e)try{a[h]=fb.util.json.eval(decodeURIComponent(e[h]))}catch(m){}if(!g)return g=!0,a&&a.error?c(a.error):a&&a.token&&a.user?c(null,a.token,a.user):c({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})}}catch(o){if(f.close(),!g)return g=!0,c({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})}}),f.addEventListener("exit",function(){return g?void 0:(g=!0,c({code:"UNKNOWN_ERROR",message:"An unknown error occurred."}))}),setTimeout(function(){f&&f.close&&f.close()},4e4)}else if(this.isMobileTriggerIo()){if(!window.forge||!window.forge.tabs)return c({code:"TRIGGER_IO_ERROR",message:'"forge.tabs" module required when using Firebase Simple Login and Trigger.io'});forge.tabs.openWithOptions({url:a+"&internalRedirect=true&transport=internalRedirect",pattern:this.mApiHost+"/auth/_blank*"},function(a){var b=null;if(a&&a.url)try{var f,e=d.parseURL(a.url).params,b={};for(f in e)b[f]=fb.util.json.eval(decodeURIComponent(e[f]))}catch(g){}else if(a&&a.userCancelled)return c({code:"USER_DENIED",message:"User cancelled the authentication request."});return b&&b.token&&b.user?c(null,b.token,b.user):c(b&&b.error?b.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."})},function(){c({code:"UNKNOWN_ERROR",message:"An unknown error occurred."})})}else{var h,b=[];for(h in e)b.push(h+"="+e[h]);fb.simplelogin.winchan.open({url:a+"&transport=winchan",relay_url:this.mApiHost+"/auth/channel",window_features:b.join(",")},function(a,b){b&&b.token&&b.user?c(null,b.token,b.user):c("unknown closed window"===a?{code:"USER_DENIED",message:"User cancelled the authentication request."}:b.error?b.error:{code:"UNKNOWN_ERROR",message:"An unknown error occurred."})})}},FirebaseSimpleLogin.prototype.createUser=function(a,b,c){var d=this;return fb.util.validation.validateArgCount("FirebaseSimpleLogin.createUser",3,3,arguments.length),fb.util.validation.validateCallback("FirebaseSimpleLogin.createUser",3,c,!1),fb.simplelogin.validation.isValidEmail(a)?fb.simplelogin.validation.isValidPassword(b)?void this.jsonp("/auth/firebase/create",{email:a,password:b},function(a,b){a?c(d.formatError(a),null):c(null,b)}):c(this.formatError({code:"INVALID_PASSWORD",message:"Invalid password specified. "})):c(this.formatError({code:"INVALID_EMAIL",message:"Invalid email specified."}))},goog.exportProperty(FirebaseSimpleLogin.prototype,"createUser",FirebaseSimpleLogin.prototype.createUser),FirebaseSimpleLogin.prototype.changePassword=function(a,b,c,d){var e=this;return fb.util.validation.validateArgCount("FirebaseSimpleLogin.changePassword",4,4,arguments.length),fb.util.validation.validateCallback("FirebaseSimpleLogin.changePassword",4,d,!1),fb.simplelogin.validation.isValidEmail(a)?fb.simplelogin.validation.isValidPassword(b)&&fb.simplelogin.validation.isValidPassword(c)?void this.jsonp("/auth/firebase/update",{email:a,oldPassword:b,newPassword:c},function(a){a?d(e.formatError(a),!1):d(null,!0)}):d(this.formatError({code:"INVALID_PASSWORD",message:"Invalid password specified. "})):d(this.formatError({code:"INVALID_EMAIL",message:"Invalid email specified."}))},goog.exportProperty(FirebaseSimpleLogin.prototype,"changePassword",FirebaseSimpleLogin.prototype.changePassword),FirebaseSimpleLogin.prototype.removeUser=function(a,b,c){var d=this;return fb.util.validation.validateArgCount("FirebaseSimpleLogin.removeUser",3,3,arguments.length),fb.util.validation.validateCallback("FirebaseSimpleLogin.removeUser",3,c,!1),fb.simplelogin.validation.isValidEmail(a)?fb.simplelogin.validation.isValidPassword(b)?void this.jsonp("/auth/firebase/remove",{email:a,password:b},function(a){a?c(d.formatError(a),!1):c(null,!0)}):c(this.formatError({code:"INVALID_PASSWORD",message:"Invalid password specified. "})):c(this.formatError({code:"INVALID_EMAIL",message:"Invalid email specified."}))},goog.exportProperty(FirebaseSimpleLogin.prototype,"removeUser",FirebaseSimpleLogin.prototype.removeUser),FirebaseSimpleLogin._callbacks={},FirebaseSimpleLogin.prototype.jsonp=function(a,b,c){var f,d=this,e=this.mApiHost+a,e=e+(/\?/.test(e)?"":"?"),e=e+("&firebase="+this.mNamespace),e=e+"&transport=jsonp";for(f in b)e+="&"+encodeURIComponent(f)+"="+encodeURIComponent(b[f]);var g="_firebaseXDR"+(new Date).getTime().toString()+Math.floor(100*Math.random()),e=e+("&callback="+encodeURIComponent("FirebaseSimpleLogin._callbacks."+g));FirebaseSimpleLogin._callbacks[g]=function(a){var b=a.error||null;delete a.error,c(b,a),setTimeout(function(){delete FirebaseSimpleLogin._callbacks[g];var a=document.getElementById(g);null!==a&&a.parentNode.removeChild(a)})},setTimeout(function(){try{var a=document.createElement("script");a.type="text/javascript",a.id=g,a.async=!0,a.src=e,a.onerror=function(){var a=document.getElementById(g);null!==a&&a.parentNode.removeChild(a),c(d.formatError({code:"SERVER_ERROR",message:"An unknown server error occurred."}))};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}catch(f){c(d.formatError({code:"SERVER_ERROR",message:"An unknown server error occurred."}))}},1)},FirebaseSimpleLogin.prototype.formatError=function(a){var b=Error(a.message||"");return b.code=a.code||"UNKNOWN_ERROR",b};var FirebaseAuthClient=function(a,b,c){return Firebase&&Firebase.INTERNAL&&Firebase.INTERNAL.statsIncrementCounter&&Firebase.INTERNAL.statsIncrementCounter(a,"simple_login_deprecated_constructor"),"undefined"!=typeof console&&("undefined"!=typeof console.warn?console.warn("FirebaseAuthClient class being deprecated. Please use https://cdn.firebase.com/v0/firebase-simple-login.js and reference FirebaseSimpleLogin instead."):console.log("FirebaseAuthClient class being deprecated. Please use https://cdn.firebase.com/v0/firebase-simple-login.js and reference FirebaseSimpleLogin instead.")),new FirebaseSimpleLogin(a,b,c)};goog.exportSymbol("FirebaseAuthClient",FirebaseAuthClient),FirebaseAuthClient.onOpen=FirebaseSimpleLogin.onOpen,goog.exportProperty(FirebaseAuthClient,"onOpen",FirebaseAuthClient.onOpen)}(),function(){var AngularFire,AngularFireAuth;angular.module("firebase",[]).value("Firebase",Firebase),angular.module("firebase").factory("$firebase",["$q","$parse","$timeout",function($q,$parse,$timeout){return function(ref){var af=new AngularFire($q,$parse,$timeout,ref);return af.construct()}}]),angular.module("firebase").filter("orderByPriority",function(){return function(input){if(!input)return[];if(!input.$getIndex||"function"!=typeof input.$getIndex){var type=Object.prototype.toString.call(input);if("object"==typeof input&&"[object Object]"==type){var ret=[];for(var prop in input)input.hasOwnProperty(prop)&&ret.push(input[prop]);return ret}return input}var sorted=[],index=input.$getIndex();if(index.length<=0)return input;for(var i=0;i<index.length;i++){var val=input[index[i]];val&&(val.$id=index[i],sorted.push(val))}return sorted}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement,fromIndex){if(void 0===this||null===this)throw new TypeError("'this' is null or not defined");var length=this.length>>>0;for(fromIndex=+fromIndex||0,1/0===Math.abs(fromIndex)&&(fromIndex=0),0>fromIndex&&(fromIndex+=length,0>fromIndex&&(fromIndex=0));length>fromIndex;fromIndex++)if(this[fromIndex]===searchElement)return fromIndex;return-1}),AngularFire=function($q,$parse,$timeout,ref){if(this._q=$q,this._bound=!1,this._loaded=!1,this._parse=$parse,this._timeout=$timeout,this._index=[],this._on={change:[],loaded:[],child_added:[],child_moved:[],child_changed:[],child_removed:[]},"string"==typeof ref)throw new Error("Please provide a Firebase reference instead of a URL, eg: new Firebase(url)");this._fRef=ref},AngularFire.prototype={construct:function(){var self=this,object={};return object.$bind=function(scope,name){return self._bind(scope,name)},object.$add=function(item){function _addCb(err){err?deferred.reject(err):deferred.resolve(ref)}var ref,deferred=self._q.defer();return ref="object"==typeof item?self._fRef.ref().push(self._parseObject(item),_addCb):self._fRef.ref().push(item,_addCb),deferred.promise},object.$save=function(key){function _saveCb(err){err?deferred.reject(err):deferred.resolve()}var deferred=self._q.defer();if(key){var obj=self._parseObject(self._object[key]);self._fRef.ref().child(key).set(obj,_saveCb)}else self._fRef.ref().set(self._parseObject(self._object),_saveCb);return deferred.promise},object.$set=function(newValue){var deferred=self._q.defer();return self._fRef.ref().set(newValue,function(err){err?deferred.reject(err):deferred.resolve()}),deferred.promise},object.$transaction=function(updateFn,applyLocally){var deferred=self._q.defer();self._fRef.ref().transaction(updateFn,function(err,committed,snapshot){err?deferred.reject(err):deferred.resolve(committed?snapshot:null)},applyLocally)},object.$remove=function(key){function _removeCb(err){err?deferred.reject(err):deferred.resolve()}var deferred=self._q.defer();return key?self._fRef.ref().child(key).remove(_removeCb):self._fRef.ref().remove(_removeCb),deferred.promise},object.$child=function(key){var af=new AngularFire(self._q,self._parse,self._timeout,self._fRef.ref().child(key));return af.construct()},object.$on=function(type,callback){if("loaded"==type&&self._loaded)return void self._timeout(function(){callback()});if(!self._on.hasOwnProperty(type))throw new Error("Invalid event type "+type+" specified");self._on[type].push(callback)},object.$off=function(type,callback){if(self._on.hasOwnProperty(type))if(callback){var index=self._on[type].indexOf(callback);-1!==index&&self._on[type].splice(index,1)}else self._on[type]=[];else self._fRef.off()},object.$auth=function(token){var deferred=self._q.defer();return self._fRef.auth(token,function(err,obj){null!==err?deferred.reject(err):deferred.resolve(obj)},function(rej){deferred.reject(rej)}),deferred.promise},object.$getIndex=function(){return angular.copy(self._index)},self._object=object,self._getInitialValue(),self._object},_getInitialValue:function(){var self=this,gotInitialValue=function(snapshot){var value=snapshot.val();if(null===value&&self._bound){var local=self._parseObject(self._parse(self._name)(self._scope));switch(typeof local){case"string":case"undefined":value="";break;case"number":value=0;break;case"boolean":value=!1}}switch(typeof value){case"string":case"number":case"boolean":self._updatePrimitive(value);break;case"object":self._getChildValues(),self._fRef.off("value",gotInitialValue);break;default:throw new Error("Unexpected type from remote data "+typeof value)}self._loaded=!0,self._broadcastEvent("loaded",value)};self._fRef.on("value",gotInitialValue)},_getChildValues:function(){function _processSnapshot(snapshot,prevChild){var key=snapshot.name(),val=snapshot.val(),curIdx=self._index.indexOf(key);if(-1!==curIdx&&self._index.splice(curIdx,1),prevChild){var prevIdx=self._index.indexOf(prevChild);self._index.splice(prevIdx+1,0,key)}else self._index.unshift(key);null!==snapshot.getPriority()&&(val.$priority=snapshot.getPriority()),self._updateModel(key,val)}function _handleAndBroadcastEvent(type,handler){return function(snapshot,prevChild){handler(snapshot,prevChild),self._broadcastEvent(type,{snapshot:{name:snapshot.name(),value:snapshot.val()},prevChild:prevChild})}}function _handleFirebaseEvent(type,handler){self._fRef.on(type,_handleAndBroadcastEvent(type,handler))}var self=this;_handleFirebaseEvent("child_added",_processSnapshot),_handleFirebaseEvent("child_moved",_processSnapshot),_handleFirebaseEvent("child_changed",_processSnapshot),_handleFirebaseEvent("child_removed",function(snapshot){var key=snapshot.name(),idx=self._index.indexOf(key);self._index.splice(idx,1),self._updateModel(key,null)})},_updateModel:function(key,value){var self=this;self._timeout(function(){if(null==value?delete self._object[key]:self._object[key]=value,self._broadcastEvent("change",key),self._bound){var current=self._object,local=self._parse(self._name)(self._scope);angular.equals(current,local)||self._parse(self._name).assign(self._scope,angular.copy(current))}})},_updatePrimitive:function(value){var self=this;self._timeout(function(){if(self._object.$value&&angular.equals(self._object.$value,value)||(self._object.$value=value),self._broadcastEvent("change"),self._bound){var local=self._parseObject(self._parse(self._name)(self._scope));angular.equals(local,value)||self._parse(self._name).assign(self._scope,value)}})},_broadcastEvent:function(evt,param){function _wrapTimeout(cb,param){self._timeout(function(){cb(param)})}var cbs=this._on[evt]||[],self=this;if(cbs.length>0)for(var i=0;i<cbs.length;i++)"function"==typeof cbs[i]&&_wrapTimeout(cbs[i],param)},_bind:function(scope,name){var self=this,deferred=self._q.defer();self._name=name,self._bound=!0,self._scope=scope;var local=self._parse(name)(scope);void 0!==local&&"object"==typeof local&&self._fRef.update(self._parseObject(local));var unbind=scope.$watch(name,function(){var local=self._parseObject(self._parse(name)(scope));self._object.$value&&angular.equals(local,self._object.$value)||angular.equals(local,self._object)||void 0!==local&&self._loaded&&(self._fRef.set?self._fRef.set(local):self._fRef.ref().update(local))},!0);return scope.$on("$destroy",function(){unbind()}),self._fRef.once("value",function(snap){self._timeout(function(){"object"!=typeof snap.val()?deferred.resolve(unbind):self._timeout(function(){deferred.resolve(unbind)})})}),deferred.promise},_parseObject:function(obj){function _findReplacePriority(item){for(var prop in item)item.hasOwnProperty(prop)&&("$priority"==prop?(item[".priority"]=item.$priority,delete item.$priority):"object"==typeof item[prop]&&_findReplacePriority(item[prop]));return item}var newObj=_findReplacePriority(angular.copy(obj));return angular.fromJson(angular.toJson(newObj))}},angular.module("firebase").factory("$firebaseSimpleLogin",["$q","$timeout","$rootScope",function($q,$t,$rs){return function(ref){var auth=new AngularFireAuth($q,$t,$rs,ref);return auth.construct()}}]),AngularFireAuth=function($q,$t,$rs,ref){if(this._q=$q,this._timeout=$t,this._rootScope=$rs,this._loginDeferred=null,this._getCurrentUserDeferred=[],this._currentUserData=void 0,"string"==typeof ref)throw new Error("Please provide a Firebase reference instead of a URL, eg: new Firebase(url)");this._fRef=ref},AngularFireAuth.prototype={construct:function(){var object={user:null,$login:this.login.bind(this),$logout:this.logout.bind(this),$createUser:this.createUser.bind(this),$changePassword:this.changePassword.bind(this),$removeUser:this.removeUser.bind(this),$getCurrentUser:this.getCurrentUser.bind(this)};if(this._object=object,!window.FirebaseSimpleLogin){var err=new Error("FirebaseSimpleLogin is undefined. Did you forget to include firebase-simple-login.js?");throw this._rootScope.$broadcast("$firebaseSimpleLogin:error",err),err}var client=new FirebaseSimpleLogin(this._fRef,this._onLoginEvent.bind(this));return this._authClient=client,this._object},login:function(provider,options){var deferred=this._q.defer(),self=this;return this.getCurrentUser().then(function(){self._loginDeferred=deferred,self._authClient.login(provider,options)}),deferred.promise},logout:function(){this._authClient.logout(),delete this._currentUserData},createUser:function(email,password,noLogin){var self=this,deferred=this._q.defer();return self._authClient.createUser(email,password,function(err,user){err?(self._rootScope.$broadcast("$firebaseSimpleLogin:error",err),deferred.reject(err)):deferred.resolve(noLogin?user:self.login("password",{email:email,password:password}))}),deferred.promise},changePassword:function(email,oldPassword,newPassword){var self=this,deferred=this._q.defer();return self._authClient.changePassword(email,oldPassword,newPassword,function(err){err?(self._rootScope.$broadcast("$firebaseSimpleLogin:error",err),deferred.reject(err)):deferred.resolve()}),deferred.promise},getCurrentUser:function(){var self=this,deferred=this._q.defer();return void 0!==self._currentUserData?deferred.resolve(self._currentUserData):self._getCurrentUserDeferred.push(deferred),deferred.promise},removeUser:function(email,password){var self=this,deferred=this._q.defer();return self._authClient.removeUser(email,password,function(err){err?(self._rootScope.$broadcast("$firebaseSimpleLogin:error",err),deferred.reject(err)):deferred.resolve()}),deferred.promise},_onLoginEvent:function(err,user){if(this._currentUserData!==user||null!==err){var self=this;err?(self._loginDeferred&&(self._loginDeferred.reject(err),self._loginDeferred=null),self._rootScope.$broadcast("$firebaseSimpleLogin:error",err)):(this._currentUserData=user,self._timeout(function(){for(self._object.user=user,user?self._rootScope.$broadcast("$firebaseSimpleLogin:login",user):self._rootScope.$broadcast("$firebaseSimpleLogin:logout"),self._loginDeferred&&(self._loginDeferred.resolve(user),self._loginDeferred=null);self._getCurrentUserDeferred.length>0;){var def=self._getCurrentUserDeferred.pop();def.resolve(user)}}))}}}}(),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(window,angular,undefined){"use strict";function inherit(parent,extra){return extend(new(extend(function(){},{prototype:parent})),extra)}function merge(dst){return forEach(arguments,function(obj){obj!==dst&&forEach(obj,function(value,key){dst.hasOwnProperty(key)||(dst[key]=value)})}),dst}function ancestors(first,second){var path=[];for(var n in first.path){if(first.path[n]!==second.path[n])break;path.push(first.path[n])}return path}function arraySearch(array,value){if(Array.prototype.indexOf)return array.indexOf(value,Number(arguments[2])||0);var len=array.length>>>0,from=Number(arguments[2])||0;for(from=0>from?Math.ceil(from):Math.floor(from),0>from&&(from+=len);len>from;from++)if(from in array&&array[from]===value)return from;return-1}function inheritParams(currentParams,newParams,$current,$to){var parentParams,parents=ancestors($current,$to),inherited={},inheritList=[];for(var i in parents)if(parents[i].params&&parents[i].params.length){parentParams=parents[i].params;for(var j in parentParams)arraySearch(inheritList,parentParams[j])>=0||(inheritList.push(parentParams[j]),inherited[parentParams[j]]=currentParams[parentParams[j]])}return extend({},inherited,newParams)}function normalize(keys,values){var normalized={};return forEach(keys,function(name){var value=values[name];normalized[name]=null!=value?String(value):null}),normalized}function equalForKeys(a,b,keys){if(!keys){keys=[];for(var n in a)keys.push(n)}for(var i=0;i<keys.length;i++){var k=keys[i];if(a[k]!=b[k])return!1}return!0}function filterByKeys(keys,values){var filtered={};return forEach(keys,function(name){filtered[name]=values[name]}),filtered}function $Resolve($q,$injector){var VISIT_IN_PROGRESS=1,VISIT_DONE=2,NOTHING={},NO_DEPENDENCIES=[],NO_LOCALS=NOTHING,NO_PARENT=extend($q.when(NOTHING),{$$promises:NOTHING,$$values:NOTHING});this.study=function(invocables){function visit(value,key){if(visited[key]!==VISIT_DONE){if(cycle.push(key),visited[key]===VISIT_IN_PROGRESS)throw cycle.splice(0,cycle.indexOf(key)),new Error("Cyclic dependency: "+cycle.join(" -> "));if(visited[key]=VISIT_IN_PROGRESS,isString(value))plan.push(key,[function(){return $injector.get(value)}],NO_DEPENDENCIES);else{var params=$injector.annotate(value);forEach(params,function(param){param!==key&&invocables.hasOwnProperty(param)&&visit(invocables[param],param)}),plan.push(key,value,params)}cycle.pop(),visited[key]=VISIT_DONE}}function isResolve(value){return isObject(value)&&value.then&&value.$$promises}if(!isObject(invocables))throw new Error("'invocables' must be an object");var plan=[],cycle=[],visited={};return forEach(invocables,visit),invocables=cycle=visited=null,function(locals,parent,self){function done(){--wait||(merged||merge(values,parent.$$values),result.$$values=values,result.$$promises=!0,resolution.resolve(values))}function fail(reason){result.$$failure=reason,resolution.reject(reason)}function invoke(key,invocable,params){function onfailure(reason){invocation.reject(reason),fail(reason)}function proceed(){if(!isDefined(result.$$failure))try{invocation.resolve($injector.invoke(invocable,self,values)),invocation.promise.then(function(result){values[key]=result,done()},onfailure)}catch(e){onfailure(e)}}var invocation=$q.defer(),waitParams=0;forEach(params,function(dep){promises.hasOwnProperty(dep)&&!locals.hasOwnProperty(dep)&&(waitParams++,promises[dep].then(function(result){values[dep]=result,--waitParams||proceed()},onfailure))}),waitParams||proceed(),promises[key]=invocation.promise}if(isResolve(locals)&&self===undefined&&(self=parent,parent=locals,locals=null),locals){if(!isObject(locals))throw new Error("'locals' must be an object")}else locals=NO_LOCALS;if(parent){if(!isResolve(parent))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else parent=NO_PARENT;var resolution=$q.defer(),result=resolution.promise,promises=result.$$promises={},values=extend({},locals),wait=1+plan.length/3,merged=!1;if(isDefined(parent.$$failure))return fail(parent.$$failure),result;parent.$$values?(merged=merge(values,parent.$$values),done()):(extend(promises,parent.$$promises),parent.then(done,fail));for(var i=0,ii=plan.length;ii>i;i+=3)locals.hasOwnProperty(plan[i])?done():invoke(plan[i],plan[i+1],plan[i+2]);return result}},this.resolve=function(invocables,locals,parent,self){return this.study(invocables)(locals,parent,self)}}function $TemplateFactory($http,$templateCache,$injector){this.fromConfig=function(config,params,locals){return isDefined(config.template)?this.fromString(config.template,params):isDefined(config.templateUrl)?this.fromUrl(config.templateUrl,params):isDefined(config.templateProvider)?this.fromProvider(config.templateProvider,params,locals):null},this.fromString=function(template,params){return isFunction(template)?template(params):template},this.fromUrl=function(url,params){return isFunction(url)&&(url=url(params)),null==url?null:$http.get(url,{cache:$templateCache}).then(function(response){return response.data})},this.fromProvider=function(provider,params,locals){return $injector.invoke(provider,null,locals||{params:params})}}function UrlMatcher(pattern){function addParameter(id){if(!/^\w+(-+\w+)*$/.test(id))throw new Error("Invalid parameter name '"+id+"' in pattern '"+pattern+"'");if(names[id])throw new Error("Duplicate parameter name '"+id+"' in pattern '"+pattern+"'");names[id]=!0,params.push(id)}function quoteRegExp(string){return string.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&")}var m,placeholder=/([:*])(\w+)|\{(\w+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,names={},compiled="^",last=0,segments=this.segments=[],params=this.params=[];this.source=pattern;for(var id,regexp,segment;(m=placeholder.exec(pattern))&&(id=m[2]||m[3],regexp=m[4]||("*"==m[1]?".*":"[^/]*"),segment=pattern.substring(last,m.index),!(segment.indexOf("?")>=0));)compiled+=quoteRegExp(segment)+"("+regexp+")",addParameter(id),segments.push(segment),last=placeholder.lastIndex;segment=pattern.substring(last);var i=segment.indexOf("?");if(i>=0){var search=this.sourceSearch=segment.substring(i);segment=segment.substring(0,i),this.sourcePath=pattern.substring(0,last+i),forEach(search.substring(1).split(/[&?]/),addParameter)}else this.sourcePath=pattern,this.sourceSearch="";compiled+=quoteRegExp(segment)+"$",segments.push(segment),this.regexp=new RegExp(compiled),this.prefix=segments[0]}function $UrlMatcherFactory(){this.compile=function(pattern){return new UrlMatcher(pattern)},this.isMatcher=function(o){return isObject(o)&&isFunction(o.exec)&&isFunction(o.format)&&isFunction(o.concat)},this.$get=function(){return this}}function $UrlRouterProvider($urlMatcherFactory){function regExpPrefix(re){var prefix=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(re.source);return null!=prefix?prefix[1].replace(/\\(.)/g,"$1"):""}function interpolate(pattern,match){return pattern.replace(/\$(\$|\d{1,2})/,function(m,what){return match["$"===what?0:Number(what)]})}function handleIfMatch($injector,handler,match){if(!match)return!1;var result=$injector.invoke(handler,handler,{$match:match});return isDefined(result)?result:!0}var rules=[],otherwise=null;this.rule=function(rule){if(!isFunction(rule))throw new Error("'rule' must be a function");return rules.push(rule),this},this.otherwise=function(rule){if(isString(rule)){var redirect=rule;rule=function(){return redirect}}else if(!isFunction(rule))throw new Error("'rule' must be a function");return otherwise=rule,this},this.when=function(what,handler){var redirect,handlerIsString=isString(handler);if(isString(what)&&(what=$urlMatcherFactory.compile(what)),!handlerIsString&&!isFunction(handler)&&!isArray(handler))throw new Error("invalid 'handler' in when()");var strategies={matcher:function(what,handler){return handlerIsString&&(redirect=$urlMatcherFactory.compile(handler),handler=["$match",function($match){return redirect.format($match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path(),$location.search()))},{prefix:isString(what.prefix)?what.prefix:""})},regex:function(what,handler){if(what.global||what.sticky)throw new Error("when() RegExp must not be global or sticky");return handlerIsString&&(redirect=handler,handler=["$match",function($match){return interpolate(redirect,$match)}]),extend(function($injector,$location){return handleIfMatch($injector,handler,what.exec($location.path()))},{prefix:regExpPrefix(what)})}},check={matcher:$urlMatcherFactory.isMatcher(what),regex:what instanceof RegExp};for(var n in check)if(check[n])return this.rule(strategies[n](what,handler));throw new Error("invalid 'what' in when()")},this.$get=["$location","$rootScope","$injector",function($location,$rootScope,$injector){function update(evt){function check(rule){var handled=rule($injector,$location);return handled?(isString(handled)&&$location.replace().url(handled),!0):!1}if(!evt||!evt.defaultPrevented){var i,n=rules.length;for(i=0;n>i;i++)if(check(rules[i]))return;otherwise&&check(otherwise)}}return $rootScope.$on("$locationChangeSuccess",update),{sync:function(){update()
}}}]}function $StateProvider($urlRouterProvider,$urlMatcherFactory,$locationProvider){function isRelative(stateName){return 0===stateName.indexOf(".")||0===stateName.indexOf("^")}function findState(stateOrName,base){var isStr=isString(stateOrName),name=isStr?stateOrName:stateOrName.name,path=isRelative(name);if(path){if(!base)throw new Error("No reference point given for path '"+name+"'");for(var rel=name.split("."),i=0,pathLength=rel.length,current=base;pathLength>i;i++)if(""!==rel[i]||0!==i){if("^"!==rel[i])break;if(!current.parent)throw new Error("Path '"+name+"' not valid for state '"+base.name+"'");current=current.parent}else current=base;rel=rel.slice(i).join("."),name=current.name+(current.name&&rel?".":"")+rel}var state=states[name];return!state||!isStr&&(isStr||state!==stateOrName&&state.self!==stateOrName)?undefined:state}function queueState(parentName,state){queue[parentName]||(queue[parentName]=[]),queue[parentName].push(state)}function registerState(state){state=inherit(state,{self:state,resolve:state.resolve||{},toString:function(){return this.name}});var name=state.name;if(!isString(name)||name.indexOf("@")>=0)throw new Error("State must have a valid name");if(states.hasOwnProperty(name))throw new Error("State '"+name+"'' is already defined");var parentName=-1!==name.indexOf(".")?name.substring(0,name.lastIndexOf(".")):isString(state.parent)?state.parent:"";if(parentName&&!states[parentName])return queueState(parentName,state.self);for(var key in stateBuilder)isFunction(stateBuilder[key])&&(state[key]=stateBuilder[key](state,stateBuilder.$delegates[key]));if(states[name]=state,!state[abstractKey]&&state.url&&$urlRouterProvider.when(state.url,["$match","$stateParams",function($match,$stateParams){$state.$current.navigable==state&&equalForKeys($match,$stateParams)||$state.transitionTo(state,$match,{location:!1})}]),queue[name])for(var i=0;i<queue[name].length;i++)registerState(queue[name][i]);return state}function decorator(name,func){return isString(name)&&!isDefined(func)?stateBuilder[name]:isFunction(func)&&isString(name)?(stateBuilder[name]&&!stateBuilder.$delegates[name]&&(stateBuilder.$delegates[name]=stateBuilder[name]),stateBuilder[name]=func,this):this}function state(name,definition){return isObject(name)?definition=name:definition.name=name,registerState(definition),this}function $get($rootScope,$q,$view,$injector,$resolve,$stateParams,$location){function syncUrl(){$location.url()!==currentLocation&&($location.url(currentLocation),$location.replace())}function resolveState(state,params,paramsAreFiltered,inherited,dst){var $stateParams=paramsAreFiltered?params:filterByKeys(state.params,params),locals={$stateParams:$stateParams};dst.resolve=$resolve.resolve(state.resolve,locals,dst.resolve,state);var promises=[dst.resolve.then(function(globals){dst.globals=globals})];return inherited&&promises.push(inherited),forEach(state.views,function(view,name){var injectables=view.resolve&&view.resolve!==state.resolve?view.resolve:{};injectables.$template=[function(){return $view.load(name,{view:view,locals:locals,params:$stateParams,notify:!1})||""}],promises.push($resolve.resolve(injectables,locals,dst.resolve,state).then(function(result){if(isFunction(view.controllerProvider)||isArray(view.controllerProvider)){var injectLocals=angular.extend({},injectables,locals);result.$$controller=$injector.invoke(view.controllerProvider,null,injectLocals)}else result.$$controller=view.controller;result.$$state=state,dst[name]=result}))}),$q.all(promises).then(function(){return dst})}var TransitionSuperseded=$q.reject(new Error("transition superseded")),TransitionPrevented=$q.reject(new Error("transition prevented")),TransitionAborted=$q.reject(new Error("transition aborted")),TransitionFailed=$q.reject(new Error("transition failed")),currentLocation=$location.url();return root.locals={resolve:null,globals:{$stateParams:{}}},$state={params:{},current:root.self,$current:root,transition:null},$state.reload=function(){$state.transitionTo($state.current,$stateParams,{reload:!0,inherit:!1,notify:!1})},$state.go=function(to,params,options){return this.transitionTo(to,params,extend({inherit:!0,relative:$state.$current},options))},$state.transitionTo=function(to,toParams,options){toParams=toParams||{},options=extend({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},options||{});var evt,from=$state.$current,fromParams=$state.params,fromPath=from.path,toState=findState(to,options.relative);if(!isDefined(toState)){var redirect={to:to,toParams:toParams,options:options};if(evt=$rootScope.$broadcast("$stateNotFound",redirect,from.self,fromParams),evt.defaultPrevented)return syncUrl(),TransitionAborted;if(evt.retry){if(options.$retry)return syncUrl(),TransitionFailed;var retryTransition=$state.transition=$q.when(evt.retry);return retryTransition.then(function(){return retryTransition!==$state.transition?TransitionSuperseded:(redirect.options.$retry=!0,$state.transitionTo(redirect.to,redirect.toParams,redirect.options))},function(){return TransitionAborted}),syncUrl(),retryTransition}if(to=redirect.to,toParams=redirect.toParams,options=redirect.options,toState=findState(to,options.relative),!isDefined(toState)){if(options.relative)throw new Error("Could not resolve '"+to+"' from state '"+options.relative+"'");throw new Error("No such state '"+to+"'")}}if(toState[abstractKey])throw new Error("Cannot transition to abstract state '"+to+"'");options.inherit&&(toParams=inheritParams($stateParams,toParams||{},$state.$current,toState)),to=toState;var keep,state,toPath=to.path,locals=root.locals,toLocals=[];for(keep=0,state=toPath[keep];state&&state===fromPath[keep]&&equalForKeys(toParams,fromParams,state.ownParams)&&!options.reload;keep++,state=toPath[keep])locals=toLocals[keep]=state.locals;if(shouldTriggerReload(to,from,locals,options))return to.self.reloadOnSearch!==!1&&syncUrl(),$state.transition=null,$q.when($state.current);if(toParams=normalize(to.params,toParams||{}),options.notify&&(evt=$rootScope.$broadcast("$stateChangeStart",to.self,toParams,from.self,fromParams),evt.defaultPrevented))return syncUrl(),TransitionPrevented;for(var resolved=$q.when(locals),l=keep;l<toPath.length;l++,state=toPath[l])locals=toLocals[l]=inherit(locals),resolved=resolveState(state,toParams,state===to,resolved,locals);var transition=$state.transition=resolved.then(function(){var l,entering,exiting;if($state.transition!==transition)return TransitionSuperseded;for(l=fromPath.length-1;l>=keep;l--)exiting=fromPath[l],exiting.self.onExit&&$injector.invoke(exiting.self.onExit,exiting.self,exiting.locals.globals),exiting.locals=null;for(l=keep;l<toPath.length;l++)entering=toPath[l],entering.locals=toLocals[l],entering.self.onEnter&&$injector.invoke(entering.self.onEnter,entering.self,entering.locals.globals);if($state.transition!==transition)return TransitionSuperseded;$state.$current=to,$state.current=to.self,$state.params=toParams,copy($state.params,$stateParams),$state.transition=null;var toNav=to.navigable;return options.location&&toNav&&($location.url(toNav.url.format(toNav.locals.globals.$stateParams)),"replace"===options.location&&$location.replace()),options.notify&&$rootScope.$broadcast("$stateChangeSuccess",to.self,toParams,from.self,fromParams),currentLocation=$location.url(),$state.current},function(error){return $state.transition!==transition?TransitionSuperseded:($state.transition=null,$rootScope.$broadcast("$stateChangeError",to.self,toParams,from.self,fromParams,error),syncUrl(),$q.reject(error))});return transition},$state.is=function(stateOrName,params){var state=findState(stateOrName);return isDefined(state)?$state.$current!==state?!1:isDefined(params)&&null!==params?angular.equals($stateParams,params):!0:undefined},$state.includes=function(stateOrName,params){var state=findState(stateOrName);if(!isDefined(state))return undefined;if(!isDefined($state.$current.includes[state.name]))return!1;var validParams=!0;return angular.forEach(params,function(value,key){isDefined($stateParams[key])&&$stateParams[key]===value||(validParams=!1)}),validParams},$state.href=function(stateOrName,params,options){options=extend({lossy:!0,inherit:!1,absolute:!1,relative:$state.$current},options||{});var state=findState(stateOrName,options.relative);if(!isDefined(state))return null;params=inheritParams($stateParams,params||{},$state.$current,state);var nav=state&&options.lossy?state.navigable:state,url=nav&&nav.url?nav.url.format(normalize(state.params,params||{})):null;return!$locationProvider.html5Mode()&&url&&(url="#"+$locationProvider.hashPrefix()+url),options.absolute&&url&&(url=$location.protocol()+"://"+$location.host()+(80==$location.port()||443==$location.port()?"":":"+$location.port())+(!$locationProvider.html5Mode()&&url?"/":"")+url),url},$state.get=function(stateOrName,context){if(!isDefined(stateOrName)){var list=[];return forEach(states,function(state){list.push(state.self)}),list}var state=findState(stateOrName,context);return state&&state.self?state.self:null},$state}function shouldTriggerReload(to,from,locals,options){return to!==from||(locals!==from.locals||options.reload)&&to.self.reloadOnSearch!==!1?void 0:!0}var root,$state,states={},queue={},abstractKey="abstract",stateBuilder={parent:function(state){if(isDefined(state.parent)&&state.parent)return findState(state.parent);var compositeName=/^(.+)\.[^.]+$/.exec(state.name);return compositeName?findState(compositeName[1]):root},data:function(state){return state.parent&&state.parent.data&&(state.data=state.self.data=extend({},state.parent.data,state.data)),state.data},url:function(state){var url=state.url;if(isString(url))return"^"==url.charAt(0)?$urlMatcherFactory.compile(url.substring(1)):(state.parent.navigable||root).url.concat(url);if($urlMatcherFactory.isMatcher(url)||null==url)return url;throw new Error("Invalid url '"+url+"' in state '"+state+"'")},navigable:function(state){return state.url?state:state.parent?state.parent.navigable:null},params:function(state){if(!state.params)return state.url?state.url.parameters():state.parent.params;if(!isArray(state.params))throw new Error("Invalid params in state '"+state+"'");if(state.url)throw new Error("Both params and url specicified in state '"+state+"'");return state.params},views:function(state){var views={};return forEach(isDefined(state.views)?state.views:{"":state},function(view,name){name.indexOf("@")<0&&(name+="@"+state.parent.name),views[name]=view}),views},ownParams:function(state){if(!state.parent)return state.params;var paramNames={};forEach(state.params,function(p){paramNames[p]=!0}),forEach(state.parent.params,function(p){if(!paramNames[p])throw new Error("Missing required parameter '"+p+"' in state '"+state.name+"'");paramNames[p]=!1});var ownParams=[];return forEach(paramNames,function(own,p){own&&ownParams.push(p)}),ownParams},path:function(state){return state.parent?state.parent.path.concat(state):[]},includes:function(state){var includes=state.parent?extend({},state.parent.includes):{};return includes[state.name]=!0,includes},$delegates:{}};root=registerState({name:"",url:"^",views:null,"abstract":!0}),root.navigable=null,this.decorator=decorator,this.state=state,this.$get=$get,$get.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$location","$urlRouter"]}function $ViewProvider(){function $get($rootScope,$templateFactory){return{load:function(name,options){var result,defaults={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return options=extend(defaults,options),options.view&&(result=$templateFactory.fromConfig(options.view,options.params,options.locals)),result&&options.notify&&$rootScope.$broadcast("$viewContentLoading",options),result}}}this.$get=$get,$get.$inject=["$rootScope","$templateFactory"]}function $ViewScrollProvider(){var useAnchorScroll=!1;this.useAnchorScroll=function(){useAnchorScroll=!0},this.$get=["$anchorScroll","$timeout",function($anchorScroll,$timeout){return useAnchorScroll?$anchorScroll:function($element){$timeout(function(){$element[0].scrollIntoView()},0,!1)}}]}function $ViewDirective($state,$compile,$controller,$injector,$uiViewScroll,$document){function getService(){return $injector.has?function(service){return $injector.has(service)?$injector.get(service):null}:function(service){try{return $injector.get(service)}catch(e){return null}}}function getRenderer(element,attrs,scope){var statics=function(){return{leave:function(element){element.remove()},enter:function(element,parent,anchor){anchor.after(element)}}};if($animate)return function(shouldAnimate){return shouldAnimate?{enter:function(element,parent,anchor){$animate.enter(element,null,anchor)},leave:function(element){$animate.leave(element,function(){element.remove()})}}:statics()};if($animator){var animate=$animator&&$animator(scope,attrs);return function(shouldAnimate){return shouldAnimate?{enter:function(element,parent){animate.enter(element,parent)},leave:function(element){animate.leave(element.contents(),element)}}:statics()}}return statics}var viewIsUpdating=!1,service=getService(),$animator=service("$animator"),$animate=service("$animate"),directive={restrict:"ECA",compile:function(element,attrs){var initial=element.html(),isDefault=!0,anchor=angular.element($document[0].createComment(" ui-view-anchor ")),parentEl=element.parent();return element.prepend(anchor),function($scope){function cleanupLastView(){currentEl&&(renderer(!0).leave(currentEl),currentEl=null),currentScope&&(currentScope.$destroy(),currentScope=null)}function updateView(shouldAnimate){var locals=$state.$current&&$state.$current.locals[name];if(isDefault&&(isDefault=!1,element.replaceWith(anchor)),!locals)return cleanupLastView(),currentEl=element.clone(),currentEl.html(initial),renderer(shouldAnimate).enter(currentEl,parentEl,anchor),currentScope=$scope.$new(),void $compile(currentEl.contents())(currentScope);if(locals!==viewLocals){cleanupLastView(),currentEl=element.clone(),currentEl.html(locals.$template?locals.$template:initial),renderer(!0).enter(currentEl,parentEl,anchor),currentEl.data("$uiView",view),viewLocals=locals,view.state=locals.$$state;var link=$compile(currentEl.contents());if(currentScope=$scope.$new(),locals.$$controller){locals.$scope=currentScope;var controller=$controller(locals.$$controller,locals);currentEl.children().data("$ngControllerController",controller)}link(currentScope),currentScope.$emit("$viewContentLoaded"),onloadExp&&currentScope.$eval(onloadExp),angular.isDefined(autoscrollExp)&&autoscrollExp&&!$scope.$eval(autoscrollExp)||$uiViewScroll(currentEl)}}var currentScope,currentEl,viewLocals,inherited=parentEl.inheritedData("$uiView"),name=attrs[directive.name]||attrs.name||"",onloadExp=attrs.onload||"",autoscrollExp=attrs.autoscroll,renderer=getRenderer(element,attrs,$scope);name.indexOf("@")<0&&(name=name+"@"+(inherited?inherited.state.name:""));var view={name:name,state:null},eventHook=function(){if(!viewIsUpdating){viewIsUpdating=!0;try{updateView(!0)}catch(e){throw viewIsUpdating=!1,e}viewIsUpdating=!1}};$scope.$on("$stateChangeSuccess",eventHook),$scope.$on("$viewContentLoading",eventHook),updateView(!1)}}};return directive}function parseStateRef(ref){var parsed=ref.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/);if(!parsed||4!==parsed.length)throw new Error("Invalid state ref '"+ref+"'");return{state:parsed[1],paramExpr:parsed[3]||null}}function stateContext(el){var stateData=el.parent().inheritedData("$uiView");return stateData&&stateData.state&&stateData.state.name?stateData.state:void 0}function $StateRefDirective($state,$timeout){return{restrict:"A",require:"?^uiSrefActive",link:function(scope,element,attrs,uiSrefActive){var ref=parseStateRef(attrs.uiSref),params=null,base=stateContext(element)||$state.$current,isForm="FORM"===element[0].nodeName,attr=isForm?"action":"href",nav=!0,update=function(newVal){if(newVal&&(params=newVal),nav){var newHref=$state.href(ref.state,params,{relative:base});return uiSrefActive&&uiSrefActive.$$setStateInfo(ref.state,params),newHref?void(element[0][attr]=newHref):(nav=!1,!1)}};ref.paramExpr&&(scope.$watch(ref.paramExpr,function(newVal){newVal!==params&&update(newVal)},!0),params=scope.$eval(ref.paramExpr)),update(),isForm||element.bind("click",function(e){var button=e.which||e.button;0!==button&&1!=button||e.ctrlKey||e.metaKey||e.shiftKey||element.attr("target")||($timeout(function(){$state.go(ref.state,params,{relative:base})}),e.preventDefault())})}}}function $StateActiveDirective($state,$stateParams,$interpolate){return{restrict:"A",controller:["$scope","$element","$attrs",function($scope,$element,$attrs){function update(){$state.$current.self===state&&matchesParams()?$element.addClass(activeClass):$element.removeClass(activeClass)}function matchesParams(){return!params||equalForKeys(params,$stateParams)}var state,params,activeClass;activeClass=$interpolate($attrs.uiSrefActive||"",!1)($scope),this.$$setStateInfo=function(newState,newParams){state=$state.get(newState,stateContext($element)),params=newParams,update()},$scope.$on("$stateChangeSuccess",update)}]}}function $IsStateFilter($state){return function(state){return $state.is(state)}}function $IncludedByStateFilter($state){return function(state){return $state.includes(state)}}function $RouteProvider($stateProvider,$urlRouterProvider){function onEnterRoute($$state){this.locals=$$state.locals.globals,this.params=this.locals.$stateParams}function onExitRoute(){this.locals=null,this.params=null}function when(url,route){if(null!=route.redirectTo){var handler,redirect=route.redirectTo;if(isString(redirect))handler=redirect;else{if(!isFunction(redirect))throw new Error("Invalid 'redirectTo' in when()");handler=function(params,$location){return redirect(params,$location.path(),$location.search())}}$urlRouterProvider.when(url,handler)}else $stateProvider.state(inherit(route,{parent:null,name:"route:"+encodeURIComponent(url),url:url,onEnter:onEnterRoute,onExit:onExitRoute}));return routes.push(route),this}function $get($state,$rootScope,$routeParams){function stateAsRoute(state){return""!==state.name?state:undefined}var $route={routes:routes,params:$routeParams,current:undefined};return $rootScope.$on("$stateChangeStart",function(ev,to,toParams,from){$rootScope.$broadcast("$routeChangeStart",stateAsRoute(to),stateAsRoute(from))}),$rootScope.$on("$stateChangeSuccess",function(ev,to,toParams,from){$route.current=stateAsRoute(to),$rootScope.$broadcast("$routeChangeSuccess",stateAsRoute(to),stateAsRoute(from)),copy(toParams,$route.params)}),$rootScope.$on("$stateChangeError",function(ev,to,toParams,from,fromParams,error){$rootScope.$broadcast("$routeChangeError",stateAsRoute(to),stateAsRoute(from),error)}),$route}var routes=[];onEnterRoute.$inject=["$$state"],this.when=when,this.$get=$get,$get.$inject=["$state","$rootScope","$routeParams"]}var isDefined=angular.isDefined,isFunction=angular.isFunction,isString=angular.isString,isObject=angular.isObject,isArray=angular.isArray,forEach=angular.forEach,extend=angular.extend,copy=angular.copy;angular.module("ui.router.util",["ng"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util"]),angular.module("ui.router",["ui.router.state"]),angular.module("ui.router.compat",["ui.router"]),$Resolve.$inject=["$q","$injector"],angular.module("ui.router.util").service("$resolve",$Resolve),$TemplateFactory.$inject=["$http","$templateCache","$injector"],angular.module("ui.router.util").service("$templateFactory",$TemplateFactory),UrlMatcher.prototype.concat=function(pattern){return new UrlMatcher(this.sourcePath+pattern+this.sourceSearch)},UrlMatcher.prototype.toString=function(){return this.source},UrlMatcher.prototype.exec=function(path,searchParams){var m=this.regexp.exec(path);if(!m)return null;var i,params=this.params,nTotal=params.length,nPath=this.segments.length-1,values={};if(nPath!==m.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;nPath>i;i++)values[params[i]]=m[i+1];for(;nTotal>i;i++)values[params[i]]=searchParams[params[i]];return values},UrlMatcher.prototype.parameters=function(){return this.params},UrlMatcher.prototype.format=function(values){var segments=this.segments,params=this.params;if(!values)return segments.join("");var i,search,value,nPath=segments.length-1,nTotal=params.length,result=segments[0];for(i=0;nPath>i;i++)value=values[params[i]],null!=value&&(result+=encodeURIComponent(value)),result+=segments[i+1];for(;nTotal>i;i++)value=values[params[i]],null!=value&&(result+=(search?"&":"?")+params[i]+"="+encodeURIComponent(value),search=!0);return result},angular.module("ui.router.util").provider("$urlMatcherFactory",$UrlMatcherFactory),$UrlRouterProvider.$inject=["$urlMatcherFactoryProvider"],angular.module("ui.router.router").provider("$urlRouter",$UrlRouterProvider),$StateProvider.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider","$locationProvider"],angular.module("ui.router.state").value("$stateParams",{}).provider("$state",$StateProvider),$ViewProvider.$inject=[],angular.module("ui.router.state").provider("$view",$ViewProvider),angular.module("ui.router.state").provider("$uiViewScroll",$ViewScrollProvider),$ViewDirective.$inject=["$state","$compile","$controller","$injector","$uiViewScroll","$document"],angular.module("ui.router.state").directive("uiView",$ViewDirective),$StateRefDirective.$inject=["$state","$timeout"],$StateActiveDirective.$inject=["$state","$stateParams","$interpolate"],angular.module("ui.router.state").directive("uiSref",$StateRefDirective).directive("uiSrefActive",$StateActiveDirective),$IsStateFilter.$inject=["$state"],$IncludedByStateFilter.$inject=["$state"],angular.module("ui.router.state").filter("isState",$IsStateFilter).filter("includedByState",$IncludedByStateFilter),$RouteProvider.$inject=["$stateProvider","$urlRouterProvider"],angular.module("ui.router.compat").provider("$route",$RouteProvider).directive("ngView",$ViewDirective)}(window,window.angular),function(global){"use strict";function detectObjectObserve(){function callback(records){"splice"===records[0].type&&"splice"===records[1].type&&(gotSplice=!0)}if("function"!=typeof Object.observe||"function"!=typeof Array.observe)return!1;var gotSplice=!1,test=[0];return Array.observe(test,callback),test[1]=1,test.length=0,Object.deliverChangeRecords(callback),gotSplice}function isIndex(s){return+s===s>>>0}function toNumber(s){return+s}function isObject(obj){return obj===Object(obj)}function areSameValue(left,right){return left===right?0!==left||1/left===1/right:numberIsNaN(left)&&numberIsNaN(right)?!0:left!==left&&right!==right}function isPathValid(s){return"string"!=typeof s?!1:(s=s.replace(/\s/g,""),""==s?!0:"."==s[0]?!1:pathRegExp.test(s))}function getPath(str){var path=pathCache[str];if(path)return path;if(isPathValid(str)){var path=new Path(str);return pathCache[str]=path,path}}function Path(s){return""==s.trim()?this:isIndex(s)?(this.push(String(s)),this):(s.split(/\./).filter(function(part){return part}).forEach(function(part){this.push(part)},this),void(hasEval&&this.length&&(this.getValueFrom=this.compiledGetValueFromFn())))}function dirtyCheck(observer){for(var cycles=0;MAX_DIRTY_CHECK_CYCLES>cycles&&observer.check();)observer.report(),cycles++}function objectIsEmpty(object){for(var prop in object)return!1;return!0}function diffIsEmpty(diff){return objectIsEmpty(diff.added)&&objectIsEmpty(diff.removed)&&objectIsEmpty(diff.changed)}function diffObjectFromOldObject(object,oldObject){var added={},removed={},changed={};for(var prop in oldObject){var newValue=object[prop];(void 0===newValue||newValue!==oldObject[prop])&&(prop in object?newValue!==oldObject[prop]&&(changed[prop]=newValue):removed[prop]=void 0)}for(var prop in object)prop in oldObject||(added[prop]=object[prop]);return Array.isArray(object)&&object.length!==oldObject.length&&(changed.length=object.length),{added:added,removed:removed,changed:changed}}function copyObject(object,opt_copy){var copy=opt_copy||(Array.isArray(object)?[]:{});for(var prop in object)copy[prop]=object[prop];return Array.isArray(object)&&(copy.length=object.length),copy}function Observer(object,callback,target,token){if(this.closed=!1,this.object=object,this.callback=callback,this.target=target,this.token=token,this.reporting=!0,hasObserve){var self=this;this.boundInternalCallback=function(records){self.internalCallback(records)}}addToAll(this),this.connect(),this.sync(!0)}function addToAll(observer){collectObservers&&(allObservers.push(observer),Observer._allObserversCount++)}function ObjectObserver(object,callback,target,token){Observer.call(this,object,callback,target,token)}function ArrayObserver(array,callback,target,token){if(!Array.isArray(array))throw Error("Provided object is not an Array");Observer.call(this,array,callback,target,token)}function ObservedSet(callback){this.arr=[],this.callback=callback,this.isObserved=!0}function PathObserver(object,pathString,callback,target,token){this.value=void 0;var path=getPath(pathString);return path?path.length?isObject(object)?(this.path=path,void Observer.call(this,object,callback,target,token)):(this.closed=!0,void(this.value=void 0)):(this.closed=!0,void(this.value=object)):(this.closed=!0,void(this.value=void 0))}function notifyFunction(object,name){if("function"==typeof Object.observe){var notifier=Object.getNotifier(object);return function(type,oldValue){var changeRecord={object:object,type:type,name:name};2===arguments.length&&(changeRecord.oldValue=oldValue),notifier.notify(changeRecord)}}}function diffObjectFromChangeRecords(object,changeRecords,oldValues){for(var added={},removed={},i=0;i<changeRecords.length;i++){var record=changeRecords[i];knownRecordTypes[record.type]?(record.name in oldValues||(oldValues[record.name]=record.oldValue),"updated"!=record.type&&("new"!=record.type?record.name in added?(delete added[record.name],delete oldValues[record.name]):removed[record.name]=!0:record.name in removed?delete removed[record.name]:added[record.name]=!0)):(console.error("Unknown changeRecord type: "+record.type),console.error(record))}for(var prop in added)added[prop]=object[prop];for(var prop in removed)removed[prop]=void 0;var changed={};for(var prop in oldValues)if(!(prop in added||prop in removed)){var newValue=object[prop];oldValues[prop]!==newValue&&(changed[prop]=newValue)}return{added:added,removed:removed,changed:changed}}function calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd){for(var rowCount=oldEnd-oldStart+1,columnCount=currentEnd-currentStart+1,distances=new Array(rowCount),i=0;rowCount>i;i++)distances[i]=new Array(columnCount),distances[i][0]=i;for(var j=0;columnCount>j;j++)distances[0][j]=j;for(var i=1;rowCount>i;i++)for(var j=1;columnCount>j;j++)if(old[oldStart+i-1]===current[currentStart+j-1])distances[i][j]=distances[i-1][j-1];else{var north=distances[i-1][j]+1,west=distances[i][j-1]+1;distances[i][j]=west>north?north:west}return distances}function spliceOperationsFromEditDistances(distances){for(var i=distances.length-1,j=distances[0].length-1,current=distances[i][j],edits=[];i>0||j>0;)if(0!=i)if(0!=j){var min,northWest=distances[i-1][j-1],west=distances[i-1][j],north=distances[i][j-1];min=north>west?northWest>west?west:northWest:northWest>north?north:northWest,min==northWest?(northWest==current?edits.push(EDIT_LEAVE):(edits.push(EDIT_UPDATE),current=northWest),i--,j--):min==west?(edits.push(EDIT_DELETE),i--,current=west):(edits.push(EDIT_ADD),j--,current=north)}else edits.push(EDIT_DELETE),i--;else edits.push(EDIT_ADD),j--;return edits.reverse(),edits}function sharedPrefix(arr1,arr2,searchLength){for(var i=0;searchLength>i;i++)if(arr1[i]!==arr2[i])return i;return searchLength}function sharedSuffix(arr1,arr2,searchLength){for(var index1=arr1.length,index2=arr2.length,count=0;searchLength>count&&arr1[--index1]===arr2[--index2];)count++;return count}function newSplice(index,removed,addedCount){return{index:index,removed:removed,addedCount:addedCount}}function calcSplices(current,currentStart,currentEnd,old,oldStart,oldEnd){var prefixCount=0,suffixCount=0,minLength=Math.min(currentEnd-currentStart,oldEnd-oldStart);if(0==currentStart&&0==oldStart&&(prefixCount=sharedPrefix(current,old,minLength)),currentEnd==current.length&&oldEnd==old.length&&(suffixCount=sharedSuffix(current,old,minLength-prefixCount)),currentStart+=prefixCount,oldStart+=prefixCount,currentEnd-=suffixCount,oldEnd-=suffixCount,currentEnd-currentStart==0&&oldEnd-oldStart==0)return[];if(currentStart==currentEnd){for(var splice=newSplice(currentStart,[],0);oldEnd>oldStart;)splice.removed.push(old[oldStart++]);return[splice]}if(oldStart==oldEnd)return[newSplice(currentStart,[],currentEnd-currentStart)];for(var ops=spliceOperationsFromEditDistances(calcEditDistances(current,currentStart,currentEnd,old,oldStart,oldEnd)),splice=void 0,splices=[],index=currentStart,oldIndex=oldStart,i=0;i<ops.length;i++)switch(ops[i]){case EDIT_LEAVE:splice&&(splices.push(splice),splice=void 0),index++,oldIndex++;break;case EDIT_UPDATE:splice||(splice=newSplice(index,[],0)),splice.addedCount++,index++,splice.removed.push(old[oldIndex]),oldIndex++;break;case EDIT_ADD:splice||(splice=newSplice(index,[],0)),splice.addedCount++,index++;break;case EDIT_DELETE:splice||(splice=newSplice(index,[],0)),splice.removed.push(old[oldIndex]),oldIndex++}return splice&&splices.push(splice),splices}function intersect(start1,end1,start2,end2){return start2>end1||start1>end2?-1:end1==start2||end2==start1?0:start2>start1?end2>end1?end1-start2:end2-start2:end1>end2?end2-start1:end1-start1}function mergeSplice(splices,index,removed,addedCount){for(var splice=newSplice(index,removed,addedCount),inserted=!1,insertionOffset=0,i=0;i<splices.length;i++){var current=splices[i];if(current.index+=insertionOffset,!inserted){var intersectCount=intersect(splice.index,splice.index+splice.removed.length,current.index,current.index+current.addedCount);if(intersectCount>=0){splices.splice(i,1),i--,insertionOffset-=current.addedCount-current.removed.length,splice.addedCount+=current.addedCount-intersectCount;var deleteCount=splice.removed.length+current.removed.length-intersectCount;if(splice.addedCount||deleteCount){var removed=current.removed;if(splice.index<current.index){var prepend=splice.removed.slice(0,current.index-splice.index);Array.prototype.push.apply(prepend,removed),removed=prepend}if(splice.index+splice.removed.length>current.index+current.addedCount){var append=splice.removed.slice(current.index+current.addedCount-splice.index);Array.prototype.push.apply(removed,append)}splice.removed=removed,current.index<splice.index&&(splice.index=current.index)}else inserted=!0}else if(splice.index<current.index){inserted=!0,splices.splice(i,0,splice),i++;var offset=splice.addedCount-splice.removed.length;current.index+=offset,insertionOffset+=offset}}}inserted||splices.push(splice)}function createInitialSplices(array,changeRecords){for(var splices=[],i=0;i<changeRecords.length;i++){var record=changeRecords[i];switch(record.type){case"splice":mergeSplice(splices,record.index,record.removed.slice(),record.addedCount);break;case"new":case"updated":case"deleted":if(!isIndex(record.name))continue;var index=toNumber(record.name);if(0>index)continue;mergeSplice(splices,index,[record.oldValue],1);break;default:console.error("Unexpected record type: "+JSON.stringify(record))}}return splices}function projectArraySplices(array,changeRecords){var splices=[];return createInitialSplices(array,changeRecords).forEach(function(splice){return 1==splice.addedCount&&1==splice.removed.length?void(splice.removed[0]!==array[splice.index]&&splices.push(splice)):void(splices=splices.concat(calcSplices(array,splice.index,splice.index+splice.addedCount,splice.removed,0,splice.removed.length)))}),splices}var hasObserve=detectObjectObserve(),hasEval=!1;try{var f=new Function("","return true;");hasEval=f()}catch(ex){}var numberIsNaN=global.Number.isNaN||function(value){return"number"==typeof value&&global.isNaN(value)
},createObject="__proto__"in{}?function(obj){return obj}:function(obj){var proto=obj.__proto__;if(!proto)return obj;var newObject=Object.create(proto);return Object.getOwnPropertyNames(obj).forEach(function(name){Object.defineProperty(newObject,name,Object.getOwnPropertyDescriptor(obj,name))}),newObject},identStart="[$_a-zA-Z]",identPart="[$_a-zA-Z0-9]",ident=identStart+"+"+identPart+"*",elementIndex="(?:[0-9]|[1-9]+[0-9]+)",identOrElementIndex="(?:"+ident+"|"+elementIndex+")",path="(?:"+identOrElementIndex+")(?:\\."+identOrElementIndex+")*",pathRegExp=new RegExp("^"+path+"$"),pathCache={};Path.prototype=createObject({__proto__:[],toString:function(){return this.join(".")},getValueFrom:function(obj){for(var i=0;i<this.length;i++){if(void 0===obj||null===obj)return;obj=obj[this[i]]}return obj},getValueFromObserved:function(obj,observedSet){observedSet.reset();for(var i=0;i<this.length;i++){if(void 0===obj||null===obj)return void observedSet.cleanup();observedSet.observe(obj),obj=obj[this[i]]}return obj},compiledGetValueFromFn:function(){var accessors=this.map(function(ident){return isIndex(ident)?'["'+ident+'"]':"."+ident}),str="",pathString="obj";str+="if (obj !== null && obj !== undefined";for(var i=0;i<this.length-1;i++){{this[i]}pathString+=accessors[i],str+=" &&\n     "+pathString+" !== null && "+pathString+" !== undefined"}return str+=")\n",pathString+=accessors[i],str+="  return "+pathString+";\nelse\n  return undefined;",new Function("obj",str)},setValueFrom:function(obj,value){if(!this.length)return!1;for(var i=0;i<this.length-1;i++){if(void 0===obj||null===obj)return!1;obj=obj[this[i]]}return void 0===obj||null===obj?!1:(obj[this[this.length-1]]=value,!0)}});var MAX_DIRTY_CHECK_CYCLES=1e3;Observer.prototype={internalCallback:function(records){this.closed||this.reporting&&this.check(records)&&(this.report(),this.testingResults&&(this.testingResults.anyChanged=!0))},close:function(){this.closed||(this.object&&"function"==typeof this.object.unobserved&&this.object.unobserved(),this.disconnect(),this.object=void 0,this.closed=!0)},deliver:function(testingResults){this.closed||(hasObserve?(this.testingResults=testingResults,Object.deliverChangeRecords(this.boundInternalCallback),this.testingResults=void 0):dirtyCheck(this))},report:function(){this.reporting&&(this.sync(!1),this.reportArgs.push(this.token),this.invokeCallback(this.reportArgs),this.reportArgs=void 0)},invokeCallback:function(args){try{this.callback.apply(this.target,args)}catch(ex){Observer._errorThrownDuringCallback=!0,console.error("Exception caught during observer callback: "+ex)}},reset:function(){this.closed||(hasObserve&&(this.reporting=!1,Object.deliverChangeRecords(this.boundInternalCallback),this.reporting=!0),this.sync(!0))}};var allObservers,collectObservers=!hasObserve||global.forceCollectObservers;Observer._allObserversCount=0,collectObservers&&(allObservers=[]);var runningMicrotaskCheckpoint=!1,hasDebugForceFullDelivery="function"==typeof Object.deliverAllChangeRecords;global.Platform=global.Platform||{},global.Platform.performMicrotaskCheckpoint=function(){if(!runningMicrotaskCheckpoint){if(hasDebugForceFullDelivery)return void Object.deliverAllChangeRecords();if(collectObservers){runningMicrotaskCheckpoint=!0;var cycles=0,results={};do{cycles++;var toCheck=allObservers;allObservers=[],results.anyChanged=!1;for(var i=0;i<toCheck.length;i++){var observer=toCheck[i];observer.closed||(hasObserve?observer.deliver(results):observer.check()&&(results.anyChanged=!0,observer.report()),allObservers.push(observer))}}while(MAX_DIRTY_CHECK_CYCLES>cycles&&results.anyChanged);Observer._allObserversCount=allObservers.length,runningMicrotaskCheckpoint=!1}}},collectObservers&&(global.Platform.clearObservers=function(){allObservers=[]}),ObjectObserver.prototype=createObject({__proto__:Observer.prototype,connect:function(){hasObserve&&Object.observe(this.object,this.boundInternalCallback)},sync:function(){hasObserve||(this.oldObject=copyObject(this.object))},check:function(changeRecords){var diff,oldValues;if(hasObserve){if(!changeRecords)return!1;oldValues={},diff=diffObjectFromChangeRecords(this.object,changeRecords,oldValues)}else oldValues=this.oldObject,diff=diffObjectFromOldObject(this.object,this.oldObject);return diffIsEmpty(diff)?!1:(this.reportArgs=[diff.added||{},diff.removed||{},diff.changed||{}],this.reportArgs.push(function(property){return oldValues[property]}),!0)},disconnect:function(){hasObserve?this.object&&Object.unobserve(this.object,this.boundInternalCallback):this.oldObject=void 0}}),ArrayObserver.prototype=createObject({__proto__:ObjectObserver.prototype,connect:function(){hasObserve&&Array.observe(this.object,this.boundInternalCallback)},sync:function(){hasObserve||(this.oldObject=this.object.slice())},check:function(changeRecords){var splices;if(hasObserve){if(!changeRecords)return!1;splices=projectArraySplices(this.object,changeRecords)}else splices=calcSplices(this.object,0,this.object.length,this.oldObject,0,this.oldObject.length);return splices&&splices.length?(this.reportArgs=[splices],!0):!1}}),ArrayObserver.applySplices=function(previous,current,splices){splices.forEach(function(splice){for(var spliceArgs=[splice.index,splice.removed.length],addIndex=splice.index;addIndex<splice.index+splice.addedCount;)spliceArgs.push(current[addIndex]),addIndex++;Array.prototype.splice.apply(previous,spliceArgs)})};var objProto=Object.getPrototypeOf({}),arrayProto=Object.getPrototypeOf([]);ObservedSet.prototype={reset:function(){this.isObserved=!this.isObserved},observe:function(obj){if(isObject(obj)&&obj!==objProto&&obj!==arrayProto){var i=this.arr.indexOf(obj);i>=0&&this.arr[i+1]===this.isObserved||(0>i&&(i=this.arr.length,this.arr[i]=obj,Object.observe(obj,this.callback)),this.arr[i+1]=this.isObserved,this.observe(Object.getPrototypeOf(obj)))}},cleanup:function(){for(var i=0,j=0,isObserved=this.isObserved;j<this.arr.length;){var obj=this.arr[j];this.arr[j+1]==isObserved?(j>i&&(this.arr[i]=obj,this.arr[i+1]=isObserved),i+=2):Object.unobserve(obj,this.callback),j+=2}this.arr.length=i}},PathObserver.prototype=createObject({__proto__:Observer.prototype,connect:function(){hasObserve&&(this.observedSet=new ObservedSet(this.boundInternalCallback))},disconnect:function(){this.value=void 0,hasObserve&&(this.observedSet.reset(),this.observedSet.cleanup(),this.observedSet=void 0)},check:function(){return this.value=hasObserve?this.path.getValueFromObserved(this.object,this.observedSet):this.path.getValueFrom(this.object),areSameValue(this.value,this.oldValue)?!1:(this.reportArgs=[this.value,this.oldValue],!0)},sync:function(hard){hard&&(this.value=hasObserve?this.path.getValueFromObserved(this.object,this.observedSet):this.path.getValueFrom(this.object)),this.oldValue=this.value}}),PathObserver.getValueAtPath=function(obj,pathString){var path=getPath(pathString);if(path)return path.getValueFrom(obj)},PathObserver.setValueAtPath=function(obj,pathString,value){var path=getPath(pathString);path&&path.setValueFrom(obj,value)};var knownRecordTypes={"new":!0,updated:!0,deleted:!0};PathObserver.defineProperty=function(object,name,descriptor){var obj=descriptor.object,path=getPath(descriptor.path),notify=notifyFunction(object,name),observer=new PathObserver(obj,descriptor.path,function(newValue,oldValue){notify&&notify("updated",oldValue)});return Object.defineProperty(object,name,{get:function(){return path.getValueFrom(obj)},set:function(newValue){path.setValueFrom(obj,newValue)},configurable:!0}),{close:function(){var oldValue=path.getValueFrom(obj);notify&&observer.deliver(),observer.close(),Object.defineProperty(object,name,{value:oldValue,writable:!0,configurable:!0})}}};var EDIT_LEAVE=0,EDIT_UPDATE=1,EDIT_ADD=2,EDIT_DELETE=3;global.Observer=Observer,global.Observer.hasObjectObserve=hasObserve,global.ArrayObserver=ArrayObserver,global.ArrayObserver.calculateSplices=function(current,previous){return calcSplices(current,0,current.length,previous,0,previous.length)},global.ObjectObserver=ObjectObserver,global.PathObserver=PathObserver,global.Path=Path}("undefined"!=typeof global&&global?global:this),function(window,undefined){"use strict";function setup(){if(!Hammer.READY){Hammer.event.determineEventTypes();for(var name in Hammer.gestures)Hammer.gestures.hasOwnProperty(name)&&Hammer.detection.register(Hammer.gestures[name]);Hammer.event.onTouch(Hammer.DOCUMENT,Hammer.EVENT_MOVE,Hammer.detection.detect),Hammer.event.onTouch(Hammer.DOCUMENT,Hammer.EVENT_END,Hammer.detection.detect),Hammer.READY=!0}}var Hammer=function(element,options){return new Hammer.Instance(element,options||{})};Hammer.defaults={stop_browser_behavior:{userSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Hammer.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,Hammer.HAS_TOUCHEVENTS="ontouchstart"in window,Hammer.MOBILE_REGEX=/mobile|tablet|ip(ad|hone|od)|android/i,Hammer.NO_MOUSEEVENTS=Hammer.HAS_TOUCHEVENTS&&navigator.userAgent.match(Hammer.MOBILE_REGEX),Hammer.EVENT_TYPES={},Hammer.DIRECTION_DOWN="down",Hammer.DIRECTION_LEFT="left",Hammer.DIRECTION_UP="up",Hammer.DIRECTION_RIGHT="right",Hammer.POINTER_MOUSE="mouse",Hammer.POINTER_TOUCH="touch",Hammer.POINTER_PEN="pen",Hammer.EVENT_START="start",Hammer.EVENT_MOVE="move",Hammer.EVENT_END="end",Hammer.DOCUMENT=document,Hammer.plugins={},Hammer.READY=!1,Hammer.Instance=function(element,options){var self=this;return setup(),this.element=element,this.enabled=!0,this.options=Hammer.utils.extend(Hammer.utils.extend({},Hammer.defaults),options||{}),this.options.stop_browser_behavior&&Hammer.utils.stopDefaultBrowserBehavior(this.element,this.options.stop_browser_behavior),Hammer.event.onTouch(element,Hammer.EVENT_START,function(ev){self.enabled&&Hammer.detection.startDetect(self,ev)}),this},Hammer.Instance.prototype={on:function(gesture,handler){for(var gestures=gesture.split(" "),t=0;t<gestures.length;t++)this.element.addEventListener(gestures[t],handler,!1);return this},off:function(gesture,handler){for(var gestures=gesture.split(" "),t=0;t<gestures.length;t++)this.element.removeEventListener(gestures[t],handler,!1);return this},trigger:function(gesture,eventData){var event=Hammer.DOCUMENT.createEvent("Event");event.initEvent(gesture,!0,!0),event.gesture=eventData;var element=this.element;return Hammer.utils.hasParent(eventData.target,element)&&(element=eventData.target),element.dispatchEvent(event),this},enable:function(state){return this.enabled=state,this}};var last_move_event=null,enable_detect=!1,touch_triggered=!1;Hammer.event={bindDom:function(element,type,handler){for(var types=type.split(" "),t=0;t<types.length;t++)element.addEventListener(types[t],handler,!1)},onTouch:function(element,eventType,handler){var self=this;this.bindDom(element,Hammer.EVENT_TYPES[eventType],function(ev){var sourceEventType=ev.type.toLowerCase();if(!sourceEventType.match(/mouse/)||!touch_triggered){(sourceEventType.match(/touch/)||sourceEventType.match(/pointerdown/)||sourceEventType.match(/mouse/)&&1===ev.which)&&(enable_detect=!0),sourceEventType.match(/touch|pointer/)&&(touch_triggered=!0);var count_touches=0;enable_detect&&(Hammer.HAS_POINTEREVENTS&&eventType!=Hammer.EVENT_END?count_touches=Hammer.PointerEvent.updatePointer(eventType,ev):sourceEventType.match(/touch/)?count_touches=ev.touches.length:touch_triggered||(count_touches=sourceEventType.match(/up/)?0:1),count_touches>0&&eventType==Hammer.EVENT_END?eventType=Hammer.EVENT_MOVE:count_touches||(eventType=Hammer.EVENT_END),count_touches||null===last_move_event?last_move_event=ev:ev=last_move_event,handler.call(Hammer.detection,self.collectEventData(element,eventType,ev)),Hammer.HAS_POINTEREVENTS&&eventType==Hammer.EVENT_END&&(count_touches=Hammer.PointerEvent.updatePointer(eventType,ev))),count_touches||(last_move_event=null,enable_detect=!1,touch_triggered=!1,Hammer.PointerEvent.reset())}})},determineEventTypes:function(){var types;types=Hammer.HAS_POINTEREVENTS?Hammer.PointerEvent.getEvents():Hammer.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],Hammer.EVENT_TYPES[Hammer.EVENT_START]=types[0],Hammer.EVENT_TYPES[Hammer.EVENT_MOVE]=types[1],Hammer.EVENT_TYPES[Hammer.EVENT_END]=types[2]},getTouchList:function(ev){return Hammer.HAS_POINTEREVENTS?Hammer.PointerEvent.getTouchList():ev.touches?ev.touches:[{identifier:1,pageX:ev.pageX,pageY:ev.pageY,target:ev.target}]},collectEventData:function(element,eventType,ev){var touches=this.getTouchList(ev,eventType),pointerType=Hammer.POINTER_TOUCH;return(ev.type.match(/mouse/)||Hammer.PointerEvent.matchType(Hammer.POINTER_MOUSE,ev))&&(pointerType=Hammer.POINTER_MOUSE),{center:Hammer.utils.getCenter(touches),timeStamp:(new Date).getTime(),target:ev.target,touches:touches,eventType:eventType,pointerType:pointerType,srcEvent:ev,preventDefault:function(){this.srcEvent.preventManipulation&&this.srcEvent.preventManipulation(),this.srcEvent.preventDefault&&this.srcEvent.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return Hammer.detection.stopDetect()}}}},Hammer.PointerEvent={pointers:{},getTouchList:function(){var self=this,touchlist=[];return Object.keys(self.pointers).sort().forEach(function(id){touchlist.push(self.pointers[id])}),touchlist},updatePointer:function(type,pointerEvent){return type==Hammer.EVENT_END?this.pointers={}:(pointerEvent.identifier=pointerEvent.pointerId,this.pointers[pointerEvent.pointerId]=pointerEvent),Object.keys(this.pointers).length},matchType:function(pointerType,ev){if(!ev.pointerType)return!1;var types={};return types[Hammer.POINTER_MOUSE]=ev.pointerType==ev.MSPOINTER_TYPE_MOUSE||ev.pointerType==Hammer.POINTER_MOUSE,types[Hammer.POINTER_TOUCH]=ev.pointerType==ev.MSPOINTER_TYPE_TOUCH||ev.pointerType==Hammer.POINTER_TOUCH,types[Hammer.POINTER_PEN]=ev.pointerType==ev.MSPOINTER_TYPE_PEN||ev.pointerType==Hammer.POINTER_PEN,types[pointerType]},getEvents:function(){return["pointerdown MSPointerDown","pointermove MSPointerMove","pointerup pointercancel MSPointerUp MSPointerCancel"]},reset:function(){this.pointers={}}},Hammer.utils={extend:function(dest,src,merge){for(var key in src)dest[key]!==undefined&&merge||(dest[key]=src[key]);return dest},hasParent:function(node,parent){for(;node;){if(node==parent)return!0;node=node.parentNode}return!1},getCenter:function(touches){for(var valuesX=[],valuesY=[],t=0,len=touches.length;len>t;t++)valuesX.push(touches[t].pageX),valuesY.push(touches[t].pageY);return{pageX:(Math.min.apply(Math,valuesX)+Math.max.apply(Math,valuesX))/2,pageY:(Math.min.apply(Math,valuesY)+Math.max.apply(Math,valuesY))/2}},getVelocity:function(delta_time,delta_x,delta_y){return{x:Math.abs(delta_x/delta_time)||0,y:Math.abs(delta_y/delta_time)||0}},getAngle:function(touch1,touch2){var y=touch2.pageY-touch1.pageY,x=touch2.pageX-touch1.pageX;return 180*Math.atan2(y,x)/Math.PI},getDirection:function(touch1,touch2){var x=Math.abs(touch1.pageX-touch2.pageX),y=Math.abs(touch1.pageY-touch2.pageY);return x>=y?touch1.pageX-touch2.pageX>0?Hammer.DIRECTION_LEFT:Hammer.DIRECTION_RIGHT:touch1.pageY-touch2.pageY>0?Hammer.DIRECTION_UP:Hammer.DIRECTION_DOWN},getDistance:function(touch1,touch2){var x=touch2.pageX-touch1.pageX,y=touch2.pageY-touch1.pageY;return Math.sqrt(x*x+y*y)},getScale:function(start,end){return start.length>=2&&end.length>=2?this.getDistance(end[0],end[1])/this.getDistance(start[0],start[1]):1},getRotation:function(start,end){return start.length>=2&&end.length>=2?this.getAngle(end[1],end[0])-this.getAngle(start[1],start[0]):0},isVertical:function(direction){return direction==Hammer.DIRECTION_UP||direction==Hammer.DIRECTION_DOWN},stopDefaultBrowserBehavior:function(element,css_props){var prop,vendors=["webkit","khtml","moz","ms","o",""];if(css_props&&element.style){for(var i=0;i<vendors.length;i++)for(var p in css_props)css_props.hasOwnProperty(p)&&(prop=p,vendors[i]&&(prop=vendors[i]+prop.substring(0,1).toUpperCase()+prop.substring(1)),element.style[prop]=css_props[p]);"none"==css_props.userSelect&&(element.onselectstart=function(){return!1})}}},Hammer.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(inst,eventData){this.current||(this.stopped=!1,this.current={inst:inst,startEvent:Hammer.utils.extend({},eventData),lastEvent:!1,name:""},this.detect(eventData))},detect:function(eventData){if(this.current&&!this.stopped){eventData=this.extendEventData(eventData);for(var inst_options=this.current.inst.options,g=0,len=this.gestures.length;len>g;g++){var gesture=this.gestures[g];if(!this.stopped&&inst_options[gesture.name]!==!1&&gesture.handler.call(gesture,eventData,this.current.inst)===!1){this.stopDetect();break}}return this.current&&(this.current.lastEvent=eventData),eventData.eventType==Hammer.EVENT_END&&!eventData.touches.length-1&&this.stopDetect(),eventData}},stopDetect:function(){this.previous=Hammer.utils.extend({},this.current),this.current=null,this.stopped=!0},extendEventData:function(ev){var startEv=this.current.startEvent;if(startEv&&(ev.touches.length!=startEv.touches.length||ev.touches===startEv.touches)){startEv.touches=[];for(var i=0,len=ev.touches.length;len>i;i++)startEv.touches.push(Hammer.utils.extend({},ev.touches[i]))}var delta_time=ev.timeStamp-startEv.timeStamp,delta_x=ev.center.pageX-startEv.center.pageX,delta_y=ev.center.pageY-startEv.center.pageY,velocity=Hammer.utils.getVelocity(delta_time,delta_x,delta_y);return Hammer.utils.extend(ev,{deltaTime:delta_time,deltaX:delta_x,deltaY:delta_y,velocityX:velocity.x,velocityY:velocity.y,distance:Hammer.utils.getDistance(startEv.center,ev.center),angle:Hammer.utils.getAngle(startEv.center,ev.center),direction:Hammer.utils.getDirection(startEv.center,ev.center),scale:Hammer.utils.getScale(startEv.touches,ev.touches),rotation:Hammer.utils.getRotation(startEv.touches,ev.touches),startEvent:startEv}),ev},register:function(gesture){var options=gesture.defaults||{};return options[gesture.name]===undefined&&(options[gesture.name]=!0),Hammer.utils.extend(Hammer.defaults,options,!0),gesture.index=gesture.index||1e3,this.gestures.push(gesture),this.gestures.sort(function(a,b){return a.index<b.index?-1:a.index>b.index?1:0}),this.gestures}},Hammer.gestures=Hammer.gestures||{},Hammer.gestures.Hold={name:"hold",index:10,defaults:{hold_timeout:500,hold_threshold:1},timer:null,handler:function(ev,inst){switch(ev.eventType){case Hammer.EVENT_START:clearTimeout(this.timer),Hammer.detection.current.name=this.name,this.timer=setTimeout(function(){"hold"==Hammer.detection.current.name&&inst.trigger("hold",ev)},inst.options.hold_timeout);break;case Hammer.EVENT_MOVE:ev.distance>inst.options.hold_threshold&&clearTimeout(this.timer);break;case Hammer.EVENT_END:clearTimeout(this.timer)}}},Hammer.gestures.Tap={name:"tap",index:100,defaults:{tap_max_touchtime:250,tap_max_distance:10,tap_always:!0,doubletap_distance:20,doubletap_interval:300},handler:function(ev,inst){if(ev.eventType==Hammer.EVENT_END){var prev=Hammer.detection.previous,did_doubletap=!1;if(ev.deltaTime>inst.options.tap_max_touchtime||ev.distance>inst.options.tap_max_distance)return;prev&&"tap"==prev.name&&ev.timeStamp-prev.lastEvent.timeStamp<inst.options.doubletap_interval&&ev.distance<inst.options.doubletap_distance&&(inst.trigger("doubletap",ev),did_doubletap=!0),(!did_doubletap||inst.options.tap_always)&&(Hammer.detection.current.name="tap",inst.trigger(Hammer.detection.current.name,ev))}}},Hammer.gestures.Swipe={name:"swipe",index:40,defaults:{swipe_max_touches:1,swipe_velocity:.7},handler:function(ev,inst){if(ev.eventType==Hammer.EVENT_END){if(inst.options.swipe_max_touches>0&&ev.touches.length>inst.options.swipe_max_touches)return;(ev.velocityX>inst.options.swipe_velocity||ev.velocityY>inst.options.swipe_velocity)&&(inst.trigger(this.name,ev),inst.trigger(this.name+ev.direction,ev))}}},Hammer.gestures.Drag={name:"drag",index:50,defaults:{drag_min_distance:10,drag_max_touches:1,drag_block_horizontal:!1,drag_block_vertical:!1,drag_lock_to_axis:!1,drag_lock_min_distance:25},triggered:!1,handler:function(ev,inst){if(Hammer.detection.current.name!=this.name&&this.triggered)return inst.trigger(this.name+"end",ev),void(this.triggered=!1);if(!(inst.options.drag_max_touches>0&&ev.touches.length>inst.options.drag_max_touches))switch(ev.eventType){case Hammer.EVENT_START:this.triggered=!1;break;case Hammer.EVENT_MOVE:if(ev.distance<inst.options.drag_min_distance&&Hammer.detection.current.name!=this.name)return;Hammer.detection.current.name=this.name,(Hammer.detection.current.lastEvent.drag_locked_to_axis||inst.options.drag_lock_to_axis&&inst.options.drag_lock_min_distance<=ev.distance)&&(ev.drag_locked_to_axis=!0);var last_direction=Hammer.detection.current.lastEvent.direction;ev.drag_locked_to_axis&&last_direction!==ev.direction&&(ev.direction=Hammer.utils.isVertical(last_direction)?ev.deltaY<0?Hammer.DIRECTION_UP:Hammer.DIRECTION_DOWN:ev.deltaX<0?Hammer.DIRECTION_LEFT:Hammer.DIRECTION_RIGHT),this.triggered||(inst.trigger(this.name+"start",ev),this.triggered=!0),inst.trigger(this.name,ev),inst.trigger(this.name+ev.direction,ev),(inst.options.drag_block_vertical&&Hammer.utils.isVertical(ev.direction)||inst.options.drag_block_horizontal&&!Hammer.utils.isVertical(ev.direction))&&ev.preventDefault();break;case Hammer.EVENT_END:this.triggered&&inst.trigger(this.name+"end",ev),this.triggered=!1}}},Hammer.gestures.Transform={name:"transform",index:45,defaults:{transform_min_scale:.01,transform_min_rotation:1,transform_always_block:!1},triggered:!1,handler:function(ev,inst){if(Hammer.detection.current.name!=this.name&&this.triggered)return inst.trigger(this.name+"end",ev),void(this.triggered=!1);if(!(ev.touches.length<2))switch(inst.options.transform_always_block&&ev.preventDefault(),ev.eventType){case Hammer.EVENT_START:this.triggered=!1;break;case Hammer.EVENT_MOVE:var scale_threshold=Math.abs(1-ev.scale),rotation_threshold=Math.abs(ev.rotation);if(scale_threshold<inst.options.transform_min_scale&&rotation_threshold<inst.options.transform_min_rotation)return;Hammer.detection.current.name=this.name,this.triggered||(inst.trigger(this.name+"start",ev),this.triggered=!0),inst.trigger(this.name,ev),rotation_threshold>inst.options.transform_min_rotation&&inst.trigger("rotate",ev),scale_threshold>inst.options.transform_min_scale&&(inst.trigger("pinch",ev),inst.trigger("pinch"+(ev.scale<1?"in":"out"),ev));break;case Hammer.EVENT_END:this.triggered&&inst.trigger(this.name+"end",ev),this.triggered=!1}}},Hammer.gestures.Touch={name:"touch",index:-1/0,defaults:{prevent_default:!1,prevent_mouseevents:!1},handler:function(ev,inst){return inst.options.prevent_mouseevents&&ev.pointerType==Hammer.POINTER_MOUSE?void ev.stopDetect():(inst.options.prevent_default&&ev.preventDefault(),void(ev.eventType==Hammer.EVENT_START&&inst.trigger(this.name,ev)))}},Hammer.gestures.Release={name:"release",index:1/0,handler:function(ev,inst){ev.eventType==Hammer.EVENT_END&&inst.trigger(this.name,ev)}},"object"==typeof module&&"object"==typeof module.exports?module.exports=Hammer:(window.Hammer=Hammer,"function"==typeof window.define&&window.define.amd&&window.define("hammer",[],function(){return Hammer}))}(this),angular.module("angular-gestures",[]);var HGESTURES={hmDoubleTap:"doubletap",hmDragstart:"dragstart",hmDrag:"drag",hmDragUp:"dragup",hmDragDown:"dragdown",hmDragLeft:"dragleft",hmDragRight:"dragright",hmDragend:"dragend",hmHold:"hold",hmPinch:"pinch",hmPinchIn:"pinchin",hmPinchOut:"pinchout",hmRelease:"release",hmRotate:"rotate",hmSwipe:"swipe",hmSwipeUp:"swipeup",hmSwipeDown:"swipedown",hmSwipeLeft:"swipeleft",hmSwipeRight:"swiperight",hmTap:"tap",hmTouch:"touch",hmTransformstart:"transformstart",hmTransform:"transform",hmTransformend:"transformend"},VERBOSE=!0;angular.forEach(HGESTURES,function(eventName,directiveName){angular.module("angular-gestures").directive(directiveName,["$parse","$log",function($parse,$log){return function(scope,element,attr){var hammertime,handler;attr.$observe(directiveName,function(value){var fn=$parse(value),opts=$parse(attr[directiveName+"Opts"])(scope,{});hammertime=new Hammer(element[0],opts),handler=function(event){VERBOSE&&$log.log("angular-gestures: %s",eventName),scope.$apply(function(){fn(scope,{$event:event})})},hammertime.on(eventName,handler)}),scope.$on("$destroy",function(){hammertime.off(eventName,handler)})}}])}),angular.module("ecoposApp",["ngCookies","ngResource","ngSanitize","ngRoute","ui.router","firebase","angularfire.firebase","angularfire.login","simpleLoginTools","angular-gestures"]),angular.module("ecoposApp").config(["$stateProvider","$urlRouterProvider","$uiViewScrollProvider","$anchorScrollProvider",function($stateProvider,$urlRouterProvider,$uiViewScrollProvider,$anchorScrollProvider){$uiViewScrollProvider.useAnchorScroll(),$anchorScrollProvider.disableAutoScrolling(),$urlRouterProvider.otherwise("/"),$stateProvider.state("main",{url:"/",resolve:{test:function(){return console.log(1),1}},templateUrl:"views/main.html",controller:"MainCtrl",onEnter:function(){console.log("Entering Main State")},onExit:function(){console.log("Leaving Main State")}}).state("login",{url:"/login",authRequired:!1,templateUrl:"views/login.html",controller:"LoginController",onEnter:function(){console.log("Entering Login State")},onExit:function(){console.log("Leaving Login State")}}).state("main.admin",{url:"admin","abstract":!0,templateUrl:"views/admin/admin.html",onEnter:function(){console.log("Entering Admin State")},onExit:function(){console.log("Leaving Admin State")}}).state("main.admin.views",{url:"",views:{customer:{templateUrl:"views/admin/dashboard/dashboard.html",controller:function($scope,syncData){$scope.dashName="Customer",$scope.dashSettings=["name","address","contact","shopping","payment"],$scope.orders=syncData("productz"),$scope.navigation=["Edit","Cancel","Save"]}},employee:{templateUrl:"views/admin/dashboard/dashboard.html",controller:function($scope,syncData){$scope.dashName="Employee",$scope.dashSettings=["name","address","contact","shopping","payment","schedule"],$scope.products=syncData("inventory"),$scope.navigation=["Search","Categories","Specials"]}},supplier:{templateUrl:"views/admin/dashboard/dashboard.html",controller:function($scope,syncData){$scope.dashName="Supplier",$scope.dashSettings=["name","address","contact","shopping","payment"],$scope.products=syncData('"produceList"'),$scope.navigation=["Search","Categories","Suppliers"]}},manager:{templateUrl:"views/admin/dashboard/dashboard.html",controller:function($scope,syncData){$scope.dashName="Manager",$scope.dashSettings=["name","address","contact","shopping","payment","schedule"],$scope.products=syncData('"produceList"'),$scope.navigation=["Search","Categories","Suppliers"]}}},onEnter:function(){console.log("Entering Admin Views")},onExit:function(){console.log("Leaving Admin Views")}}).state("main.shops",{url:"shop","abstract":!0,templateUrl:"views/shops/shops.html",onEnter:function(){console.log("Entering Shops State")},onExit:function(){console.log("Leaving Shops State")}}).state("main.shops.views",{url:"",views:{eco:{templateUrl:"views/shops/store/store.html",controller:function($scope,syncData){$scope.shopName="Ecossentials",$scope.products=syncData("productz"),$scope.navigation=["Search","Categories","Specials"]}},sun:{templateUrl:"views/shops/store/store.html",controller:function($scope,syncData){$scope.shopName="Sunshine Organics",$scope.products=syncData("inventory"),$scope.navigation=["Search","Categories","Specials"]}},store:{templateUrl:"views/shops/store/store.html",controller:function($scope,syncData){$scope.shopName="Purchase Order",$scope.products=syncData('"produceList"'),$scope.navigation=["Search","Categories","Suppliers"]}}},onEnter:function(){console.log("Entering Shop Views")},onExit:function(){console.log("Leaving Shop Views")}}).state("main.tools",{url:"tools","abstract":!0,templateUrl:"views/tools/tools.html",onEnter:function(){console.log("Entering Maynard State")},onExit:function(){console.log("Leaving Maynard State")}}).state("main.tools.views",{url:"",views:{agenda:{templateUrl:"views/tools/tool/tool.html",controller:function($scope,syncData){$scope.toolName="Agenda",$scope.products=syncData("productz"),$scope.navigation=["Search","Categories","Specials"]}},delivery:{templateUrl:"views/tools/tool/tool.html",controller:function($scope,syncData){$scope.toolName="Delivery",$scope.products=syncData("inventory"),$scope.navigation=["Search","Categories","Specials"]}},info:{templateUrl:"views/tools/tool/tool.html",controller:function($scope,syncData){$scope.toolName="Info",$scope.products=syncData('"produceList"'),$scope.navigation=["Search","Categories","Suppliers"]}}},onEnter:function(){console.log("Entering Maynard Views")},onExit:function(){console.log("Leaving Maynard Views")}})}]),angular.module("ecoposApp").run(["$rootScope",function($rootScope){$rootScope.safeApply=function(fn){var phase=$rootScope.$$phase;"$apply"===phase||"$digest"===phase?fn&&"function"==typeof fn&&fn():this.$apply(fn)}}]),angular.module("ecoposApp").controller("MainCtrl",["$scope","syncData",function($scope,syncData){syncData("widgets/alpha").$bind($scope,"widget"),$scope.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("ecoposApp").constant("angularFireVersion","0.6").constant("loginRedirectPath","/login").constant("loginProviders","facebook,twitter,password").constant("FBURL","https://ecopos.firebaseio.com"),angular.module("angularfire.firebase",["firebase"]).factory("firebaseRef",["Firebase","FBURL",function(Firebase,FBURL){function pathRef(args){for(var i=0;i<args.length;i++)"object"==typeof args[i]&&(args[i]=pathRef(args[i]));return args.join("/")}return function(){return new Firebase(pathRef([FBURL].concat(Array.prototype.slice.call(arguments))))}}]).service("syncData",["$firebase","firebaseRef",function($firebase,firebaseRef){return function(path,limit){var ref=firebaseRef(path);return limit&&(ref=ref.limit(limit)),$firebase(ref)}}]),angular.module("angularfire.login",["firebase","angularfire.firebase"]).run(["simpleLogin",function(simpleLogin){simpleLogin.init()}]).factory("simpleLogin",["$rootScope","$firebaseSimpleLogin","firebaseRef","profileCreator","$timeout",function($rootScope,$firebaseSimpleLogin,firebaseRef,profileCreator,$timeout){function assertAuth(){if(null===auth)throw new Error("Must call loginService.init() before using its methods")}var auth=null;return{init:function(){return auth=$firebaseSimpleLogin(firebaseRef())},logout:function(){assertAuth(),auth.$logout()},login:function(provider,callback){assertAuth(),auth.$login(provider,{rememberMe:!0}).then(function(user){callback&&$timeout(function(){callback(null,user)})},callback)},loginPassword:function(email,pass,callback){assertAuth(),auth.$login("password",{email:email,password:pass,rememberMe:!0}).then(function(user){callback&&$timeout(function(){callback(null,user)})},callback)},changePassword:function(opts){assertAuth();var cb=opts.callback||function(){};opts.oldpass&&opts.newpass?opts.newpass!==opts.confirm?$timeout(function(){cb("Passwords do not match")}):auth.$changePassword(opts.email,opts.oldpass,opts.newpass).then(function(){cb(null)},cb):$timeout(function(){cb("Please enter a password")})},createAccount:function(email,pass,callback){assertAuth(),auth.$createUser(email,pass).then(function(user){callback(null,user)},callback)},createProfile:profileCreator}}]).factory("profileCreator",["firebaseRef","$timeout",function(firebaseRef,$timeout){return function(id,email,callback){function firstPartOfEmail(email){return ucfirst(email.substr(0,email.indexOf("@"))||"")}function ucfirst(str){str+="";var f=str.charAt(0).toUpperCase();return f+str.substr(1)}firebaseRef("users/"+id).set({email:email,name:firstPartOfEmail(email)},function(err){callback&&$timeout(function(){callback(err)})})}}]),angular.module("simpleLoginTools",[]).service("waitForAuth",["$rootScope","$q","$timeout",function($rootScope,$q,$timeout){function fn(err){$rootScope.auth&&($rootScope.auth.error=err instanceof Error?err.toString():null);
for(var i=0;i<subs.length;i++)subs[i]();$timeout(function(){def.resolve()})}var def=$q.defer(),subs=[];return subs.push($rootScope.$on("$firebaseSimpleLogin:login",fn)),subs.push($rootScope.$on("$firebaseSimpleLogin:logout",fn)),subs.push($rootScope.$on("$firebaseSimpleLogin:error",fn)),def.promise}]).config(["$provide",function($provide){$provide.decorator("ngCloakDirective",function($delegate,waitForAuth){var directive=$delegate[0],_compile=directive.compile;return directive.compile=function(element,attr){waitForAuth.then(function(){_compile.call(directive,element,attr)})},$delegate})}]).directive("ngShowAuth",["$rootScope",function($rootScope){function getExpectedState(scope,attr){var expState=scope.$eval(attr);return"string"==typeof expState||angular.isArray(expState)||(expState=attr),"string"==typeof expState&&(expState=expState.split(",")),expState}function inList(needle,list){var res=!1;return angular.forEach(list,function(x){return x===needle?(res=!0,!0):!1}),res}function assertValidStates(states){if(!states.length)throw new Error("ng-show-auth directive must be login, logout, or error (you may use a comma-separated list)");return angular.forEach(states,function(s){if(!inList(s,["login","logout","error"]))throw new Error('Invalid state "'+s+'" for ng-show-auth directive, must be one of login, logout, or error')}),!0}var loginState="logout";return $rootScope.$on("$firebaseSimpleLogin:login",function(){loginState="login"}),$rootScope.$on("$firebaseSimpleLogin:logout",function(){loginState="logout"}),$rootScope.$on("$firebaseSimpleLogin:error",function(){loginState="error"}),{restrict:"A",link:function(scope,el,attr){function fn(){var show=inList(loginState,expState);setTimeout(function(){el.toggleClass("ng-cloak",!show)},0)}var expState=getExpectedState(scope,attr.ngShowAuth);assertValidStates(expState),fn(),$rootScope.$on("$firebaseSimpleLogin:login",fn),$rootScope.$on("$firebaseSimpleLogin:logout",fn),$rootScope.$on("$firebaseSimpleLogin:error",fn)}}}]),function(angular){function RouteSecurityManager($location,$rootScope,$state,path){this._state=$state,this._location=$location,this._rootScope=$rootScope,this._loginPath=path,this._redirectTo=null,this._authenticated=!(!$rootScope.auth||!$rootScope.auth.user),this._init()}angular.module("ecoposApp").run(["$injector","$location","$rootScope","loginRedirectPath",function($injector,$location,$rootScope,loginRedirectPath){$injector.has("$state")&&new RouteSecurityManager($location,$rootScope,$injector.get("$state"),loginRedirectPath)}]),RouteSecurityManager.prototype={_init:function(){var self=this;this._checkCurrent(),self._rootScope.$on("$stateChangeStart",function(e,next){self._authRequiredRedirect(next,self._loginPath)}),self._rootScope.$on("$firebaseSimpleLogin:login",angular.bind(this,this._login)),self._rootScope.$on("$firebaseSimpleLogin:logout",angular.bind(this,this._logout)),self._rootScope.$on("$firebaseSimpleLogin:error",angular.bind(this,this._logout))},_checkCurrent:function(){this._state.current&&this._authRequiredRedirect(this._state.current,this._loginPath)},_login:function(){this._authenticated=!0,this._redirectTo?(this._redirect(this._redirectTo),this._redirectTo=null):this._location.path()===this._loginPath&&(this._location.replace(),this._location.path("/"))},_logout:function(){this._authenticated=!1,this._checkCurrent()},_redirect:function(path){this._location.replace(),this._location.path(path)},_authRequiredRedirect:function(state,path){state.authRequired&&!this._authenticated?(this._redirectTo=void 0===state.pathTo?this._location.path():state.pathTo===path?"/":state.pathTo,this._redirect(path)):this._authenticated&&this._location.path()===this._loginPath&&this._redirect("/")}}}(angular),angular.module("ecoposApp").controller("LoginController",["$scope","simpleLogin","$location",function($scope,simpleLogin,$location){$scope.pass=null,$scope.err=null,$scope.email=null,$scope.confirm=null,$scope.createMode=!1,$scope.user=null,$scope.login=function(service){simpleLogin.login(service,function(err,user){$scope.user=user,console.log(user),$scope.err=err?err+"":null})},$scope.loginPassword=function(cb){$scope.err=null,$scope.email?$scope.pass?simpleLogin.loginPassword($scope.email,$scope.pass,function(err,user){$scope.err=err?err+"":null,!err&&cb&&cb(user)}):$scope.err="Please enter a password":$scope.err="Please enter an email address"},$scope.logout=simpleLogin.logout,$scope.createAccount=function(){function assertValidLoginAttempt(){return $scope.email?$scope.pass?$scope.pass!==$scope.confirm&&($scope.err="Passwords do not match"):$scope.err="Please enter a password":$scope.err="Please enter an email address",!$scope.err}$scope.err=null,assertValidLoginAttempt()&&simpleLogin.createAccount($scope.email,$scope.pass,function(err,user){err?$scope.err=err?err+"":null:($scope.user=user,console.log(user),$scope.login(function(){simpleLogin.createProfile(user.uid,user.email),$location.path("account")}))})}}]),angular.module("ecoposApp").controller("AdminCtrl",["$state",function(){}]),angular.module("ecoposApp").controller("ShopsCtrl",["$scope",function(){}]),angular.module("ecoposApp").controller("SunshineCtrl",["$scope",function(){}]),angular.module("ecoposApp").controller("EcossentialsCtrl",["$scope",function(){}]),angular.module("ecoposApp").controller("ToolsCtrl",["$scope",function(){}]),angular.module("ecoposApp").controller("SettingsCtrl",["$scope",function(){}]),angular.module("ecoposApp").directive("cart",function(){return{restrict:"E",replace:!0,templateUrl:"directive/cart/cart.html",link:function(){}}}),angular.module("ecoposApp").controller("StoreCtrl",["$scope",function(){}]),angular.module("ecoposApp").directive("prefs",function(){return{restrict:"E",replace:!0,templateUrl:"views/admin/settings/prefs/prefs.html",link:function(){}}}),angular.module("ecoposApp").directive("orders",function(){return{restrict:"E",replace:!0,scope:!0,templateUrl:"views/admin/orders/orders.html",link:function(){}}}),angular.module("ecoposApp").controller("DashboardCtrl",["$scope",function(){}]),angular.module("ecoposApp").controller("ToolCtrl",["$scope",function(){}]),angular.module("ecoposApp").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("directive/cart/cart.html",'<div><div><h4>Cart Directive</h4><table ng-table=tableParams class=table><tr ng-repeat="item in invoice.items"><td data-title="\\\'\\\'"><img src={{item.img}}></td><td data-title="\\\'Qty\\\'"><input type=number ng-model=item.qty class=input-mini></td><td data-title="\\\'Item\\\'">{{ item.name }}</td><td data-title="\\\'Price\\\'">${{ item.price }} / {{ item.unitType }}</td><td data-title="\\\'Item Total\\\'">{{item.qty * item.price | currency}}</td><td>[<a href="" ng-click=removeItem($index)>X</a>]</td></tr><tr><td></td><td>Order Total:</td><td>{{total() | currency}}</td></tr></table></div></div>'),$templateCache.put("views/admin/admin.html",'<div class=col-sm-12 ng-controller=AdminCtrl><div ui-view=""></div><div ui-view=customer></div><div ui-view=employee></div><div ui-view=manager></div><div ui-view=supplier></div></div>'),$templateCache.put("views/admin/dashboard/dashboard.html",'<div class=col-md-12 ng-controller=DashboardCtrl><h1>{{ dashName }} Dashboard</h1><div class="col-sm-7 col-md-7 col-lg-7"><div class=well><p ng-repeat="setting in dashSettings"><input placeholder="{{ setting }}"></p></div></div><div class="col-sm-5 col-md-5 col-lg-5"><div class=well><h2>Orders</h2></div></div></div>'),$templateCache.put("views/admin/dashboard/orders/orders.html",'<div><h4>Report Directive</h4><table ng-table=tableParams class=table><tr ng-repeat="(key, order) in orders"><td data-title="\'Order Number\'">{{key}}</td><td data-title="\'Total\'">{{order.total}}</td><td data-title="\'Status\'">{{order.status}}</td></tr></table></div>'),$templateCache.put("views/admin/dashboard/settings/prefs/prefs.html","<div><h3>Prefs</h3><ul><li>Customer<ul><li>Name, Address</li><li>Shopping Preferences</li><li>Contact Preferences</li></ul></li><li>Employee<ul><li>Name, Address</li><li>Shopping Preferences</li><li>Contact Preferences</li><li>Shift/Work Preferences</li></ul></li><li>Manager<ul><li>Name, Address</li><li>Shopping Preferences</li><li>Contact Preferences</li><li>Employee Management</li><li>Supplier Management</li><li>Store Settings</li></ul></li></ul></div>"),$templateCache.put("views/admin/dashboard/settings/settings.html","<div class=col-md-12 ng-controller=SettingsCtrl><h2>Settings</h2><ul><li><prefs></prefs></li><li><orders></orders></li></ul></div>"),$templateCache.put("views/login.html",'<div class=row><div class=col-sm-12><fieldset><legend>Oauth</legend><p><button class="btn btn-lg btn-primary" ng-click="login(\'facebook\')">Facebook</button> <button class="btn btn-lg btn-primary" ng-click="login(\'twitter\')">Twitter</button></p></fieldset><p>&nbsp;</p><form role=form><fielset><legend>Email/Password</legend><div class=row><div class=col-md-6><div class=form-group><label>email</label><input class=form-control ng-model=email></div><div class=form-group><label>password</label><input class=form-control type=password ng-model=pass></div><div class=form-group ng-show=createMode><label>confirm pass</label><input class=form-control type=password ng-model=confirm></div><button class="btn btn-primary" ng-click=loginPassword() ng-hide=createMode>Log In</button> <button class="btn btn-default" ng-click="createMode = true" ng-hide=createMode>Register</button> <button class="btn btn-success" ng-show=createMode ng-click=createAccount()>Create Account</button> <button class="btn btn-default" ng-show=createMode ng-click="createMode = false">Cancel</button></div></div></fielset></form><br><div ng-show=err class="alert alert-danger"><strong>{{err}}</strong></div></div></div>'),$templateCache.put("views/main.html",'<div class=header><ul class="nav nav-pills pull-right"><li class=active><a ng-href=#>Home</a></li><li><a ui-sref=main.admin.views>Admin</a></li><li><a ui-sref=main.shops.views>Shop</a></li><li><a ui-sref=main.tools.views>Tools</a></li><li ng-cloak="" ng-show-auth=login ng-controller=LoginController><a href=# ng-click=logout()>Log Out</a></li><li ng-cloak="" ng-show-auth="[\'logout\',\'error\']"><a ui-sref=login>Log In</a></li></ul><h3 class=text-muted>ecopos</h3><input ng-model=widget>{{ widget }}</div><h3>♥</h3><div ui-view="" autoscroll=false></div>'),$templateCache.put("views/shops/shops.html",'<div class=col-sm-12 ng-controller=ShopsCtrl><div ui-view="" autoscroll=false></div><div ui-view=eco></div><div ui-view=sun></div><div ui-view=store></div></div>'),$templateCache.put("views/shops/store/ecossentials/ecossentials.html",'<div class=col-sm-12 ng-controller=EcossentialsCtrl><h1>Ecossentials on-line or in-store</h1><div class="col-sm-7 well"><cart></div><div class="col-sm-5 well">Checkout</div><div class="col-sm-3 well">Navigation</div><div class="col-sm-9 well">Products</div></div>'),$templateCache.put("views/shops/store/store.html",'<div class=col-sm-12 ng-controller=StoreCtrl><h1>{{ shopName }} Shopping Experience</h1><div class="col-sm-7 well"><cart></div><div class="col-sm-5 well"><button><h2>Checkout</h2></button></div><div style=clear:both></div><div class="col-sm-3 well"><h3>{{ shopName + " Navigation" }}</h3>{{ navigation }}</div><div class="col-sm-9 well">{{ products }}</div></div>'),$templateCache.put("views/shops/store/sunshine/sunshine.html",'<div class=col-sm-12 ng-controller=SunshineCtrl><h1>Let the sunshine</h1><div class="col-sm-7 well"><cart></div><div class="col-sm-5 well">Checkout</div><div class="col-sm-3 well">Navigation</div><div class="col-sm-9 well">Products</div></div>'),$templateCache.put("views/tools/tool/tool.html","<div class=col-md-12 ng-controller=ToolCtrl><h1>{{ toolName }} Tool</h1></div>"),$templateCache.put("views/tools/tools.html",'<div class=col-sm-12 ng-controller=AdminCtrl><div ui-view=""></div><div ui-view=agenda></div><div ui-view=delivery></div><div ui-view=info></div></div>'),$templateCache.put("404.html","<!DOCTYPE html><html lang=en><head><meta charset=utf-8><title>Page Not Found :(</title><style>::-moz-selection {\n        background: #b3d4fc;\n        text-shadow: none;\n      }\n\n      ::selection {\n        background: #b3d4fc;\n        text-shadow: none;\n      }\n\n      html {\n        padding: 30px 10px;\n        font-size: 20px;\n        line-height: 1.4;\n        color: #737373;\n        background: #f0f0f0;\n        -webkit-text-size-adjust: 100%;\n        -ms-text-size-adjust: 100%;\n      }\n\n      html,\n      input {\n        font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n      }\n\n      body {\n        max-width: 500px;\n        _width: 500px;\n        padding: 30px 20px 50px;\n        border: 1px solid #b3b3b3;\n        border-radius: 4px;\n        margin: 0 auto;\n        box-shadow: 0 1px 10px #a7a7a7, inset 0 1px 0 #fff;\n        background: #fcfcfc;\n      }\n\n      h1 {\n        margin: 0 10px;\n        font-size: 50px;\n        text-align: center;\n      }\n\n      h1 span {\n        color: #bbb;\n      }\n\n      h3 {\n        margin: 1.5em 0 0.5em;\n      }\n\n      p {\n        margin: 1em 0;\n      }\n\n      ul {\n        padding: 0 0 0 40px;\n        margin: 1em 0;\n      }\n\n      .container {\n        max-width: 380px;\n        _width: 380px;\n        margin: 0 auto;\n      }\n\n      /* google search */\n\n      #goog-fixurl ul {\n        list-style: none;\n        padding: 0;\n        margin: 0;\n      }\n\n      #goog-fixurl form {\n        margin: 0;\n      }\n\n      #goog-wm-qt,\n      #goog-wm-sb {\n        border: 1px solid #bbb;\n        font-size: 16px;\n        line-height: normal;\n        vertical-align: top;\n        color: #444;\n        border-radius: 2px;\n      }\n\n      #goog-wm-qt {\n        width: 220px;\n        height: 20px;\n        padding: 5px;\n        margin: 5px 10px 0 0;\n        box-shadow: inset 0 1px 1px #ccc;\n      }\n\n      #goog-wm-sb {\n        display: inline-block;\n        height: 32px;\n        padding: 0 10px;\n        margin: 5px 0 0;\n        white-space: nowrap;\n        cursor: pointer;\n        background-color: #f5f5f5;\n        background-image: -webkit-linear-gradient(rgba(255,255,255,0), #f1f1f1);\n        background-image: -moz-linear-gradient(rgba(255,255,255,0), #f1f1f1);\n        background-image: -ms-linear-gradient(rgba(255,255,255,0), #f1f1f1);\n        background-image: -o-linear-gradient(rgba(255,255,255,0), #f1f1f1);\n        -webkit-appearance: none;\n        -moz-appearance: none;\n        appearance: none;\n        *overflow: visible;\n        *display: inline;\n        *zoom: 1;\n      }\n\n      #goog-wm-sb:hover,\n      #goog-wm-sb:focus {\n        border-color: #aaa;\n        box-shadow: 0 1px 1px rgba(0, 0, 0, 0.1);\n        background-color: #f8f8f8;\n      }\n\n      #goog-wm-qt:hover,\n      #goog-wm-qt:focus {\n        border-color: #105cb6;\n        outline: 0;\n        color: #222;\n      }\n\n      input::-moz-focus-inner {\n        padding: 0;\n        border: 0;\n      }</style></head><body><div class=container><h1>Not found <span>:(</span></h1><p>Sorry, but the page you were trying to view does not exist.</p><p>It looks like this was the result of either:</p><ul><li>a mistyped address</li><li>an out-of-date link</li></ul><script>var GOOG_FIXURL_LANG = (navigator.language || '').slice(0,2),GOOG_FIXURL_SITE = location.host;</script><script src=//linkhelp.clients.google.com/tbproxy/lh/wm/fixurl.js></script></div></body></html>")}]);