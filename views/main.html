<div class="header">
  <ul class="nav nav-pills pull-right">
    <li class="active"><a ng-href="#">Home</a></li>
      <li><a ui-sref="main.admin.views">Admin</a></li>
    <li><a ui-sref="main.shops.views">Shop</a></li>
      <li><a ui-sref="main.tools.views">Tools</a></li>

    <li ng-cloak ng-show-auth="login" ng-controller="LoginController"><a href="#" ng-click="logout()">Log Out</a></li>
    <li ng-cloak ng-show-auth="['logout','error']"><a ui-sref="main.login">Log In</a></li>
  </ul>
  <h3 class="text-muted">ecopos</h3>
    <input ng-model="widget">{{ widget }}{{ userz }}

    <div ng-show="user.id">
        Logged in as {{ user.id }} [{{ activeRole }}]<br/>
        <span ng-repeat="(role, assigned) in userBind.roles" ng-if="assigned">
            <label>{{ role }}</label> <input type="radio" name="roleSelect" value="{{ role }}" ng-model="$parent.$parent.activeRole" />
        </span>
        <div>
            <button ng-click="msgsChecked=!msgsChecked" ng-hide="msgsChecked">Show Messages</button>
            <button ng-click="msgsChecked=!msgsChecked" ng-show="msgsChecked">Hide Messages</button>

            <div ng-show="msgsChecked">
                <messages></messages>
            </div>
        </div>

        <div>
            <h4>Events</h4>

            <h5>To-Do</h5>
            <ul>
                <li ng-repeat="event in user.events | eventFilter:{isTodo: true}">{{ event.title }}</li>
            </ul>

            <h5>Calendar</h5>
            <ul>
                <li ng-repeat="event in user.events | eventFilter:{isCalendar: true}">{{ event.date | date:'shortDate' }} @ {{ event.date | date:'shortTime' }} - {{ event.title }}</li>
            </ul>


            <fieldet>
                <legend>New Event</legend>
                <div>
                    <label>Title</label>
                    <input type="text" ng-model="newEvent.title" />
                </div>

                <div>
                    <label>Description</label>
                    <textarea ng-model="newEvent.description"></textarea>
                </div>
                <div>
                    <label>Users</label>
                    <!-- input type="text" ng-model="newEvent.users" /-->
                    <select ng-model="newEvent.users" multiple="multiple">
                        <option ng-repeat="username in users" value="{{ username }}">{{ username }}</option>
                    </select>
                </div>
                <div>
                    <label>Type</label>

                    <label>Calendar</label>
                    <input type="radio" ng-model="newEvent.type" value="calendar" />

                    <label>To-Do</label>
                    <input type="radio" ng-model="newEvent.type" value="todo" />

                    <label>Shift</label>
                    <input type="radio" ng-model="newEvent.type" value="shift" />
                </div>
                <div ng-show="newEvent.type === 'shift'">
                    {{newEvent}}
                    <div ng-repeat="username in newEvent.users">
                        <strong>{{ username }}'s assignment:</strong><br/>
                        <input type="radio" ng-model="newEvent.shiftType[username]" value="general" /> <label>General</label><br/>
                        <input type="radio" ng-model="newEvent.shiftType[username]" value="cashier" /> <label>Cashier</label><br/>
                        <input type="radio" ng-model="newEvent.shiftType[username]" value="delivery" /> <label>Delivery</label><br/>
                        <input type="radio" ng-model="newEvent.shiftType[username]" value="asst-manager" /> <label>Assistant Manager</label>
                    </div>
                </div>
                <div ng-show="newEvent.type === 'todo'">
                    <label>Due Date</label>
                    <input type="checkbox" ng-model="newEvent.dueDate" />
                </div>
                <div ng-show="newEvent.type === 'calendar' || newEvent.type === 'shift' || newEvent.dueDate">
                    <label>Date</label> <span ng-hide="newEvent.type === 'shift'"><input type="checkbox" ng-model="newEvent.hasEnd" /> End Date</span><br/>

                    <div ng-hide="newEvent.hasEnd || newEvent.type === 'shift'" date-picker="newEvent.date" view="month"></div>
                    <div ng-show="newEvent.hasEnd || newEvent.type === 'shift'" date-range start="newEvent.date" end="newEvent.end" view="month"></div>
                </div>

                <button ng-click="createEvent()">Create Event</button>
            </fieldet>
        </div>
    </div>


</div>

  <h3>â™¥</h3>
        <div ui-view autoscroll="false"></div>
</div>
